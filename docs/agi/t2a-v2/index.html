<!doctype html><html lang=zh-cn dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.147.3"><meta name=generator content="Relearn 7.6.1+0b83617ee9da5253aafcf11807b256da7d88d709"><meta name=description content="This summary is independent of the content."><meta name=author content="ä½ çš„åå­—"><meta name=twitter:card content="summary"><meta name=twitter:title content="MiniMax API æ¥å£æ–‡æ¡£ :: FlitSoft Docs"><meta name=twitter:description content="This summary is independent of the content."><meta property="og:url" content="https://hill68.github.io/agi/t2a-v2/index.html"><meta property="og:site_name" content="FlitSoft Docs"><meta property="og:title" content="MiniMax API æ¥å£æ–‡æ¡£ :: FlitSoft Docs"><meta property="og:description" content="This summary is independent of the content."><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="AGI"><meta property="article:published_time" content="2025-05-23T17:07:50+08:00"><meta property="article:modified_time" content="2025-05-23T17:07:50+08:00"><meta itemprop=name content="MiniMax API æ¥å£æ–‡æ¡£ :: FlitSoft Docs"><meta itemprop=description content="This summary is independent of the content."><meta itemprop=datePublished content="2025-05-23T17:07:50+08:00"><meta itemprop=dateModified content="2025-05-23T17:07:50+08:00"><meta itemprop=wordCount content="1472"><title>MiniMax API æ¥å£æ–‡æ¡£ :: FlitSoft Docs</title>
<link href=/images/logo.png?1748005974 rel=icon type=image/png><link href=/fonts/fontawesome/css/fontawesome-all.min.css?1748005974 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/fonts/fontawesome/css/fontawesome-all.min.css?1748005974 rel=stylesheet></noscript><link href=/css/perfect-scrollbar/perfect-scrollbar.min.css?1748005974 rel=stylesheet><link href=/css/theme.min.css?1748005974 rel=stylesheet><link href=/css/format-html.min.css?1748005974 rel=stylesheet id=R-format-style><link href=/css/auto-complete/auto-complete.min.css?1748005974 rel=stylesheet><script src=/js/auto-complete/auto-complete.min.js?1748005974 defer></script><script src=/js/lunr/lunr.min.js?1748005974 defer></script><script src=/js/lunr/lunr.stemmer.support.min.js?1748005974 defer></script><script src=/js/lunr/lunr.multi.min.js?1748005974 defer></script><script src=/js/lunr/lunr.zh.min.js?1748005974 defer></script><script src=/js/search.min.js?1748005974 defer></script><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/agi/t2a-v2/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../..",window.relearn.absBaseUri="https://hill68.github.io",window.relearn.contentLangs=["zh"],window.relearn.index_js_url="/searchindex.en.js?1748005974",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!1,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.relearn.themevariants=["zen-light","zen-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant(),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/css/custom.css?1748005974 rel=stylesheet></head><body class="mobile-support html" data-url=/agi/t2a-v2/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#æ¨¡å‹åˆ—è¡¨>æ¨¡å‹åˆ—è¡¨</a></li><li><a href=#å®˜æ–¹mcp>å®˜æ–¹MCP</a></li><li><a href=#httpæ¥å£>HTTPæ¥å£</a><ul><li><a href=#æ¥å£å‚æ•°è¯´æ˜>æ¥å£å‚æ•°è¯´æ˜</a></li><li><a href=#æ¥å£è°ƒç”¨ç¤ºä¾‹éæµå¼>æ¥å£è°ƒç”¨ç¤ºä¾‹(éæµå¼)</a></li><li><a href=#å®Œæ•´ç¤ºä¾‹æµå¼>å®Œæ•´ç¤ºä¾‹ï¼ˆæµå¼ï¼‰</a></li></ul></li><li><a href=#websocketæ¥å£>WebSocketæ¥å£</a><ul><li><a href=#å»ºç«‹è¿æ¥>å»ºç«‹è¿æ¥</a></li><li><a href=#å‘é€ä»»åŠ¡å¼€å§‹äº‹ä»¶>å‘é€â€œä»»åŠ¡å¼€å§‹â€äº‹ä»¶</a></li><li><a href=#å‘é€ä»»åŠ¡ç»§ç»­äº‹ä»¶>å‘é€â€œä»»åŠ¡ç»§ç»­â€äº‹ä»¶</a></li><li><a href=#å‘é€ä»»åŠ¡ç»“æŸäº‹ä»¶>å‘é€â€œä»»åŠ¡ç»“æŸâ€äº‹ä»¶</a></li><li><a href=#ä»»åŠ¡å¤±è´¥äº‹ä»¶>â€œä»»åŠ¡å¤±è´¥â€äº‹ä»¶</a></li><li><a href=#å®Œæ•´ç¤ºä¾‹websocket>å®Œæ•´ç¤ºä¾‹ï¼ˆWebsocketï¼‰</a></li></ul></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/index.html><span itemprop=name>FlitSoft Docs</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/agi/index.html><span itemprop=name>AGI</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>MiniMax API æ¥å£æ–‡æ¡£</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/agi/index.html title="AGI (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/agi/why-we-think-ch/index.html title="Why We Think (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable agi" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=minimax-api-æ¥å£æ–‡æ¡£>MiniMax API æ¥å£æ–‡æ¡£</h1><h1 id=minimax-t2a-v2è¯­éŸ³ç”Ÿæˆapiæ¥å£æ–‡æ¡£>MiniMax T2A v2ï¼ˆè¯­éŸ³ç”Ÿæˆï¼‰APIæ¥å£æ–‡æ¡£</h1><p>è¯¥APIæ”¯æŒåŸºäºæ–‡æœ¬åˆ°è¯­éŸ³çš„åŒæ­¥ç”Ÿæˆï¼Œå•æ¬¡æ–‡æœ¬ä¼ è¾“æœ€å¤§10000å­—ç¬¦ã€‚æ¥å£æœ¬èº«ä¸ºæ— çŠ¶æ€æ¥å£ï¼Œå³å•æ¬¡è°ƒç”¨æ—¶ï¼Œæ¨¡å‹æ‰€æ¥æ”¶åˆ°çš„ä¿¡æ¯é‡ä»…ä¸ºæ¥å£ä¼ å…¥å†…å®¹ï¼Œä¸æ¶‰åŠä¸šåŠ¡é€»è¾‘ï¼ŒåŒæ—¶æ¨¡å‹ä¹Ÿä¸å­˜å‚¨æ‚¨ä¼ å…¥çš„æ•°æ®ã€‚</p><p>è¯¥æ¥å£æ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š</p><ol><li><p>æ”¯æŒ100+ç³»ç»ŸéŸ³è‰²ã€å¤åˆ»éŸ³è‰²è‡ªä¸»é€‰æ‹©ï¼›</p></li><li><p>æ”¯æŒéŸ³é‡ã€è¯­è°ƒã€è¯­é€Ÿã€è¾“å‡ºæ ¼å¼è°ƒæ•´ï¼›</p></li><li><p>æ”¯æŒæŒ‰æ¯”ä¾‹æ··éŸ³åŠŸèƒ½ï¼›</p></li><li><p>æ”¯æŒå›ºå®šé—´éš”æ—¶é—´æ§åˆ¶ï¼›</p></li><li><p>æ”¯æŒå¤šç§éŸ³é¢‘è§„æ ¼ã€æ ¼å¼ï¼ŒåŒ…æ‹¬ï¼šmp3,pcm,flac,wavã€‚æ³¨ï¼šwavä»…åœ¨éæµå¼è¾“å‡ºä¸‹æ”¯æŒï¼›</p></li><li><p>æ”¯æŒæµå¼è¾“å‡ºã€‚</p></li></ol><p>è¯¥æ¥å£çš„é€‚ç”¨åœºæ™¯ï¼šçŸ­å¥ç”Ÿæˆã€è¯­éŸ³èŠå¤©ã€åœ¨çº¿ç¤¾äº¤ç­‰</p><h2 id=æ¨¡å‹åˆ—è¡¨>æ¨¡å‹åˆ—è¡¨</h2><p>ä»¥ä¸‹æ¨¡å‹å…·å¤‡å“è¶Šçš„è·¨è¯­è¨€èƒ½åŠ›ï¼Œå…¨é¢æ”¯æŒ24ç§å…¨çƒå¹¿æ³›ä½¿ç”¨çš„è¯­è¨€ã€‚ æˆ‘ä»¬è‡´åŠ›äºæ‰“ç ´è¯­è¨€å£å’ï¼Œæ„å»ºçœŸæ­£æ„ä¹‰ä¸Šçš„å…¨çƒé€šç”¨äººå·¥æ™ºèƒ½æ¨¡å‹ã€‚ åŒ…å«ä¸­æ–‡ (Chinese)ã€ç²¤è¯­ (Cantonese)ã€è‹±è¯­ (English)ã€è¥¿ç­ç‰™è¯­ (Spanish)ã€æ³•è¯­ (French)ã€ä¿„è¯­ (Russian)ã€å¾·è¯­ (German)ã€è‘¡è„ç‰™è¯­ (Portuguese)ã€é˜¿æ‹‰ä¼¯è¯­ (Arabic)ã€æ„å¤§åˆ©è¯­ (Italianï¼‰ã€æ—¥è¯­ (Japanese)ã€éŸ©è¯­ (Korean)ã€å°å°¼è¯­ (Indonesian)ã€è¶Šå—è¯­ (Vietnamese)ã€åœŸè€³å…¶è¯­ (Turkish)ã€è·å…°è¯­ (Dutch)ã€ä¹Œå…‹å…°è¯­ (Ukrainian)ã€æ³°è¯­ï¼ˆThaiï¼‰ã€æ³¢å…°è¯­ï¼ˆPolishï¼‰ã€ç½—é©¬å°¼äºšè¯­ï¼ˆRomanianï¼‰ã€å¸Œè…Šè¯­ï¼ˆGreekï¼‰ã€æ·å…‹è¯­ï¼ˆCzechï¼‰ã€èŠ¬å…°è¯­ï¼ˆFinnishï¼‰ã€å°åœ°è¯­ï¼ˆHindiï¼‰</p><table><thead><tr><th style=text-align:left>æ¨¡å‹</th><th style=text-align:left>å¤‡æ³¨</th></tr></thead><tbody><tr><td style=text-align:left>speechï¼02ï¼hd</td><td style=text-align:left>å…¨æ–°çš„HDæ¨¡å‹ï¼Œæ‹¥æœ‰æ›´å‡ºè‰²çš„éŸµå¾‹å’Œç¨³å®šæ€§ï¼Œå¤åˆ»ç›¸ä¼¼åº¦å’ŒéŸ³è´¨è¡¨ç°çªå‡º</td></tr><tr><td style=text-align:left>speechï¼02ï¼turbo</td><td style=text-align:left>å…¨æ–°çš„Turboæ¨¡å‹ï¼Œæ‹¥æœ‰æ›´å‡ºè‰²çš„éŸµå¾‹å’Œç¨³å®šæ€§ï¼Œå°è¯­ç§èƒ½åŠ›åŠ å¼ºï¼Œæ€§èƒ½è¡¨ç°å‡ºè‰²</td></tr><tr><td style=text-align:left>speechï¼01ï¼hd</td><td style=text-align:left>æœ€æ–°çš„æ¨¡å‹æ¶æ„ï¼Œæ‹¥æœ‰æœ€å‡ºè‰²çš„éŸ³è´¨å’Œå¤åˆ»ç›¸ä¼¼åº¦ã€‚</td></tr><tr><td style=text-align:left>speechï¼01ï¼turbo</td><td style=text-align:left>æœ€æ–°çš„æ¨¡å‹ï¼Œæ‹¥æœ‰å‡ºè‰²çš„æ•ˆæœä¸æ—¶å»¶è¡¨ç°ã€‚æ­¤æ¨¡å‹å°†ä¸å®šæœŸè¿­ä»£ä¼˜åŒ–ï¼Œä»¥æä¾›æ›´ä¼˜çš„ä½“éªŒã€‚</td></tr><tr><td style=text-align:left>speechï¼01ï¼240228</td><td style=text-align:left>ç¨³å®šç‰ˆæœ¬çš„æ¨¡å‹ï¼Œæ•ˆæœå‡ºè‰²ã€‚ç¨³å®šç‰ˆæœ¬é€‚åˆå¯¹å¯èƒ½å‡ºç°çš„ç»†å¾®éŸ³è‰²å˜åŒ–æ•æ„Ÿçš„åœºæ™¯ã€‚</td></tr><tr><td style=text-align:left>speechï¼01ï¼turboï¼240228</td><td style=text-align:left>ç¨³å®šç‰ˆæœ¬çš„æ¨¡å‹ï¼Œæ—¶å»¶æ›´ä½ã€‚ç¨³å®šç‰ˆæœ¬é€‚åˆå¯¹å¯èƒ½å‡ºç°çš„ç»†å¾®éŸ³è‰²å˜åŒ–æ•æ„Ÿçš„åœºæ™¯ã€‚</td></tr></tbody></table><h2 id=å®˜æ–¹mcp>å®˜æ–¹MCP</h2><p>githubé“¾æ¥ï¼šhttps://github.com/MiniMax-AI/MiniMax-MCP</p><h2 id=httpæ¥å£>HTTPæ¥å£</h2><p>æ¥å£åœ°å€ï¼šhttps://api.minimax.chat/v1/t2a_v2</p><h3 id=æ¥å£å‚æ•°è¯´æ˜>æ¥å£å‚æ•°è¯´æ˜</h3><h4 id=è¯·æ±‚ä½“requestå‚æ•°><strong>è¯·æ±‚ä½“ï¼ˆRequestï¼‰å‚æ•°</strong></h4><h5 id=authorization><strong>Authorization</strong></h5><p>string å¿…å¡«</p><p><code>HTTPï¼šBearer Auth</code>
- Security Scheme Type: http
- HTTP Authorization Scheme: Bearer
API_keyï¼Œå¯åœ¨<a href=https://platform.minimaxi.com/user-center/basic-information/interface-key rel=external target=_blank>è´¦æˆ·ç®¡ç†>æ¥å£å¯†é’¥</a>ä¸­æŸ¥çœ‹ã€‚</p><h5 id=content-type><strong>Content-Type</strong></h5><p>application/json å¿…å¡«</p><p>Content-Typeã€‚</p><h5 id=groupid><strong>Groupid</strong></h5><p>ä½¿ç”¨å‘æ”¾çš„å€¼ å¿…å¡«</p><p>ç”¨æˆ·æ‰€å±çš„ç»„ã€‚ä½¿ç”¨å‘æ”¾çš„å€¼ã€‚è¯¥å€¼åº”æ‹¼æ¥åœ¨è°ƒç”¨APIçš„urlæœ«å°¾ã€‚</p><h5 id=model><strong>model</strong></h5><p>string å¿…å¡«</p><p>è¯·æ±‚çš„æ¨¡å‹ç‰ˆæœ¬ï¼š<code>speech-02-hd</code>ã€<code>speech-02-turbo</code>ã€<code>speech-01-hd</code>ã€<code>speech-01-turbo</code>ã€<code>speech-01-240228</code>ã€<code>speech-01-turbo-240228</code></p><h5 id=text><strong>text</strong></h5><p>string å¿…å¡«</p><p>å¾…åˆæˆçš„æ–‡æœ¬ï¼Œé•¿åº¦é™åˆ¶&lt;10000å­—ç¬¦ï¼Œæ®µè½åˆ‡æ¢ç”¨æ¢è¡Œç¬¦æ›¿ä»£ã€‚ï¼ˆå¦‚éœ€è¦æ§åˆ¶è¯­éŸ³ä¸­é—´éš”æ—¶é—´ï¼Œåœ¨å­—é—´å¢åŠ &lt;#x#>,xå•ä½ä¸ºç§’ï¼Œæ”¯æŒ0.01-99.99ï¼Œæœ€å¤šä¸¤ä½å°æ•°ï¼‰ã€‚æ”¯æŒè‡ªå®šä¹‰æ–‡æœ¬ä¸æ–‡æœ¬ä¹‹é—´çš„è¯­éŸ³æ—¶é—´é—´éš”ï¼Œä»¥å®ç°è‡ªå®šä¹‰æ–‡æœ¬è¯­éŸ³åœé¡¿æ—¶é—´çš„æ•ˆæœã€‚éœ€è¦æ³¨æ„çš„æ˜¯æ–‡æœ¬é—´éš”æ—¶é—´éœ€è®¾ç½®åœ¨ä¸¤ä¸ªå¯ä»¥è¯­éŸ³å‘éŸ³çš„æ–‡æœ¬ä¹‹é—´ï¼Œä¸”ä¸èƒ½è®¾ç½®å¤šä¸ªè¿ç»­çš„æ—¶é—´é—´éš”ã€‚</p><h5 id=voice_><strong>voice_setting</strong></h5><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>speed èŒƒå›´[0.5,2]ï¼Œé»˜è®¤å€¼ä¸º1.0
ç”Ÿæˆå£°éŸ³çš„è¯­é€Ÿï¼Œå¯é€‰ï¼Œå–å€¼è¶Šå¤§ï¼Œè¯­é€Ÿè¶Šå¿«ã€‚

vol èŒƒå›´ï¼ˆ0,10]ï¼Œé»˜è®¤å€¼ä¸º1.0
ç”Ÿæˆå£°éŸ³çš„éŸ³é‡ï¼Œå¯é€‰ï¼Œå–å€¼è¶Šå¤§ï¼ŒéŸ³é‡è¶Šé«˜ã€‚

pitch èŒƒå›´[-12,12]ï¼Œé»˜è®¤å€¼ä¸º0
ç”Ÿæˆå£°éŸ³çš„è¯­è°ƒï¼Œå¯é€‰ï¼Œï¼ˆ0ä¸ºåŸéŸ³è‰²è¾“å‡ºï¼Œå–å€¼éœ€ä¸ºæ•´æ•°ï¼‰ã€‚

voice_id string
è¯·æ±‚çš„éŸ³è‰²ç¼–å·ã€‚ä¸ timber_weights äºŒé€‰ä¸€â€œå¿…å¡«â€ã€‚
æ”¯æŒç³»ç»ŸéŸ³è‰²(id)ä»¥åŠå¤åˆ»éŸ³è‰²ï¼ˆidï¼‰ä¸¤ç§ç±»å‹ï¼Œå…¶ä¸­ç³»ç»ŸéŸ³è‰²ï¼ˆIDï¼‰å¦‚ä¸‹ï¼š
é’æ¶©é’å¹´éŸ³è‰²ï¼šmale-qn-qingse
ç²¾è‹±é’å¹´éŸ³è‰²ï¼šmale-qn-jingying
éœ¸é“é’å¹´éŸ³è‰²ï¼šmale-qn-badao
é’å¹´å¤§å­¦ç”ŸéŸ³è‰²ï¼šmale-qn-daxuesheng
å°‘å¥³éŸ³è‰²ï¼šfemale-shaonv
å¾¡å§éŸ³è‰²ï¼šfemale-yujie
æˆç†Ÿå¥³æ€§éŸ³è‰²ï¼šfemale-chengshu
ç”œç¾å¥³æ€§éŸ³è‰²ï¼šfemale-tianmei
ç”·æ€§ä¸»æŒäººï¼špresenter_male
å¥³æ€§ä¸»æŒäººï¼špresenter_female
ç”·æ€§æœ‰å£°ä¹¦1ï¼šaudiobook_male_1
ç”·æ€§æœ‰å£°ä¹¦2ï¼šaudiobook_male_2
å¥³æ€§æœ‰å£°ä¹¦1ï¼šaudiobook_female_1
å¥³æ€§æœ‰å£°ä¹¦2ï¼šaudiobook_female_2
é’æ¶©é’å¹´éŸ³è‰²-betaï¼šmale-qn-qingse-jingpin
ç²¾è‹±é’å¹´éŸ³è‰²-betaï¼šmale-qn-jingying-jingpin
éœ¸é“é’å¹´éŸ³è‰²-betaï¼šmale-qn-badao-jingpin
é’å¹´å¤§å­¦ç”ŸéŸ³è‰²-betaï¼šmale-qn-daxuesheng-jingpin
å°‘å¥³éŸ³è‰²-betaï¼šfemale-shaonv-jingpin
å¾¡å§éŸ³è‰²-betaï¼šfemale-yujie-jingpin
æˆç†Ÿå¥³æ€§éŸ³è‰²-betaï¼šfemale-chengshu-jingpin
ç”œç¾å¥³æ€§éŸ³è‰²-betaï¼šfemale-tianmei-jingpin
èªæ˜ç”·ç«¥ï¼šclever_boy
å¯çˆ±ç”·ç«¥ï¼šcute_boy
èŒèŒå¥³ç«¥ï¼šlovely_girl
å¡é€šçŒªå°çªï¼šcartoon_pig
ç—…å¨‡å¼Ÿå¼Ÿï¼šbingjiao_didi
ä¿Šæœ—ç”·å‹ï¼šjunlang_nanyou
çº¯çœŸå­¦å¼Ÿï¼šchunzhen_xuedi
å†·æ·¡å­¦é•¿ï¼šlengdan_xiongzhang
éœ¸é“å°‘çˆ·ï¼šbadao_shaoye
ç”œå¿ƒå°ç²ï¼štianxin_xiaoling
ä¿çš®èŒå¦¹ï¼šqiaopi_mengmei
å¦©åªšå¾¡å§ï¼šwumei_yujie
å—²å—²å­¦å¦¹ï¼šdiadia_xuemei
æ·¡é›…å­¦å§ï¼šdanya_xuejie
Santa Clausï¼šSanta_Claus
Grinchï¼šGrinch
Rudolphï¼šRudolph
Arnoldï¼šArnold
Charming Santaï¼šCharming_Santa
Charming Ladyï¼šCharming_Lady
Sweet Girlï¼šSweet_Girl
Cute Elfï¼šCute_Elf
Attractive Girlï¼šAttractive_Girl
Serene Womanï¼šSerene_Woman

emotion string
æ§åˆ¶åˆæˆè¯­éŸ³çš„æƒ…ç»ªï¼›
å½“å‰æ”¯æŒ7ç§æƒ…ç»ªï¼šé«˜å…´ï¼Œæ‚²ä¼¤ï¼Œæ„¤æ€’ï¼Œå®³æ€•ï¼ŒåŒæ¶ï¼ŒæƒŠè®¶ï¼Œä¸­æ€§ï¼›
å‚æ•°èŒƒå›´[&#34;happy&#34;, &#34;sad&#34;, &#34;angry&#34;, &#34;fearful&#34;, &#34;disgusted&#34;, &#34;surprised&#34;, &#34;neutral&#34;]
è¯¥å‚æ•°ä»…å¯¹ speech-02-hdï¼Œspeech-02-turboï¼Œspeech-01-turboï¼Œspeech-01-hdç”Ÿæ•ˆ

latex_read bool
æ§åˆ¶æ˜¯å¦æ”¯æŒæœ—è¯»latexå…¬å¼ï¼Œé»˜è®¤ä¸ºfalseã€‚
éœ€æ³¨æ„ï¼š
1. è¯·æ±‚ä¸­çš„å…¬å¼éœ€è¦åœ¨å…¬å¼çš„é¦–å°¾åŠ ä¸Š$$ï¼›
2. è¯·æ±‚ä¸­å…¬å¼è‹¥æœ‰&#34;\&#34;ï¼Œéœ€è½¬ä¹‰æˆ&#34;\\&#34;ã€‚
ç¤ºä¾‹ï¼šå¯¼æ•°çš„åŸºæœ¬å…¬å¼æ˜¯$$\\frac{d}{dx}(x^n) = nx^{n-1}$$

english_normalization bool
è¯¥å‚æ•°æ”¯æŒè‹±è¯­æ–‡æœ¬è§„èŒƒåŒ–ï¼Œå¯æå‡æ•°å­—é˜…è¯»åœºæ™¯çš„æ€§èƒ½ï¼Œä½†ä¼šç•¥å¾®å¢åŠ å»¶è¿Ÿã€‚å¦‚æœæœªæä¾›ï¼Œåˆ™é»˜è®¤å€¼ä¸º falseã€‚</code></pre></div><h5 id=audio_><strong>audio_setting</strong></h5><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>sample_rate èŒƒå›´ã€8000ï¼Œ16000ï¼Œ22050ï¼Œ24000ï¼Œ32000ï¼Œ44100ã€‘
ç”Ÿæˆå£°éŸ³çš„é‡‡æ ·ç‡ã€‚å¯é€‰ï¼Œé»˜è®¤ä¸º32000ã€‚

bitrate èŒƒå›´ã€32000ï¼Œ64000ï¼Œ128000ï¼Œ256000ã€‘
ç”Ÿæˆå£°éŸ³çš„æ¯”ç‰¹ç‡ã€‚å¯é€‰ï¼Œé»˜è®¤å€¼ä¸º128000ã€‚è¯¥å‚æ•°ä»…å¯¹mp3æ ¼å¼çš„éŸ³é¢‘ç”Ÿæ•ˆã€‚

format string
ç”Ÿæˆçš„éŸ³é¢‘æ ¼å¼ã€‚é»˜è®¤mp3ï¼ŒèŒƒå›´[mp3,pcm,flac,wav]ã€‚wavä»…åœ¨éæµå¼è¾“å‡ºä¸‹æ”¯æŒã€‚

channel int
ç”ŸæˆéŸ³é¢‘çš„å£°é“æ•°.é»˜è®¤1ï¼šå•å£°é“ï¼Œå¯é€‰ï¼š
1ï¼šå•å£°é“
2ï¼šåŒå£°é“</code></pre></div><h5 id=pronunciation_><strong>pronunciation_dict</strong></h5><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>tone list
æ›¿æ¢éœ€è¦ç‰¹æ®Šæ ‡æ³¨çš„æ–‡å­—ã€ç¬¦å·åŠå¯¹åº”çš„æ³¨éŸ³ã€‚
æ›¿æ¢å‘éŸ³ï¼ˆè°ƒæ•´å£°è°ƒ/æ›¿æ¢å…¶ä»–å­—ç¬¦å‘éŸ³ï¼‰ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
[&#34;ç‡•å°‘é£/(yan4)(shao3)(fei1)&#34;,&#34;è¾¾è²/(da2)(fei1)&#34;ï¼Œ&#34;omg/oh my god&#34;]
å£°è°ƒç”¨æ•°å­—ä»£æ›¿ï¼Œä¸€å£°ï¼ˆé˜´å¹³ï¼‰ä¸º1ï¼ŒäºŒå£°ï¼ˆé˜³å¹³ï¼‰ä¸º2ï¼Œä¸‰å£°ï¼ˆä¸Šå£°ï¼‰ä¸º3ï¼Œå››å£°ï¼ˆå»å£°ï¼‰ä¸º4ï¼‰ï¼Œè½»å£°ä¸º5ã€‚</code></pre></div><h5 id=timber_><strong>timber_weights</strong></h5><p>ä¸voice_idäºŒé€‰ä¸€ å¿…å¡«</p><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>voice_id string
è¯·æ±‚çš„éŸ³è‰²idã€‚é¡»å’Œweightå‚æ•°åŒæ­¥å¡«å†™ã€‚

weight èŒƒå›´[1,100]
æƒé‡ï¼Œé¡»ä¸voice_idåŒæ­¥å¡«å†™ã€‚æœ€å¤šæ”¯æŒ4ç§éŸ³è‰²æ··åˆï¼Œå–å€¼ä¸ºæ•´æ•°ï¼Œå•ä¸€éŸ³è‰²å–å€¼å æ¯”è¶Šé«˜ï¼ŒåˆæˆéŸ³è‰²è¶Šåƒã€‚</code></pre></div><h5 id=stream><strong>stream</strong></h5><p>boolean</p><p>æ˜¯å¦æµå¼ã€‚é»˜è®¤falseï¼Œå³ä¸å¼€å¯æµå¼ã€‚</p><h5 id=language_><strong>language_boost</strong></h5><p>stringï¼Œ é»˜è®¤ä¸ºnull</p><p>å¢å¼ºå¯¹æŒ‡å®šçš„å°è¯­ç§å’Œæ–¹è¨€çš„è¯†åˆ«èƒ½åŠ›ï¼Œè®¾ç½®åå¯ä»¥æå‡åœ¨æŒ‡å®šå°è¯­ç§/æ–¹è¨€åœºæ™¯ä¸‹çš„è¯­éŸ³è¡¨ç°ã€‚å¦‚æœä¸æ˜ç¡®å°è¯­ç§ç±»å‹ï¼Œåˆ™å¯ä»¥é€‰æ‹©"auto"ï¼Œæ¨¡å‹å°†è‡ªä¸»åˆ¤æ–­å°è¯­ç§ç±»å‹ã€‚æ”¯æŒä»¥ä¸‹å–å€¼ï¼š
&lsquo;Chinese&rsquo;, &lsquo;Chinese,Yue&rsquo;, &lsquo;English&rsquo;, &lsquo;Arabic&rsquo;, &lsquo;Russian&rsquo;, &lsquo;Spanish&rsquo;, &lsquo;French&rsquo;, &lsquo;Portuguese&rsquo;, &lsquo;German&rsquo;, &lsquo;Turkish&rsquo;, &lsquo;Dutch&rsquo;, &lsquo;Ukrainian&rsquo;, &lsquo;Vietnamese&rsquo;, &lsquo;Indonesian&rsquo;, &lsquo;Japanese&rsquo;, &lsquo;Italian&rsquo;, &lsquo;Korean&rsquo;, &lsquo;Thai&rsquo;, &lsquo;Polish&rsquo;, &lsquo;Romanian&rsquo;, &lsquo;Greek&rsquo;, &lsquo;Czech&rsquo;, &lsquo;Finnish&rsquo;, &lsquo;Hindi&rsquo;, &lsquo;auto&rsquo;</p><h5 id=subtitle_><strong>subtitle_enable</strong></h5><p>bool</p><p>æ§åˆ¶æ˜¯å¦å¼€å¯å­—å¹•æœåŠ¡çš„å¼€å…³ã€‚é»˜è®¤ä¸ºfalseã€‚æ­¤å‚æ•°ä»…å¯¹<code>speech-01-turbo</code> <code>speech-01-hd</code>æœ‰æ•ˆã€‚</p><h5 id=output_><strong>output_format</strong></h5><p>string</p><p>æ§åˆ¶è¾“å‡ºç»“æœå½¢å¼çš„å‚æ•°ã€‚å¯é€‰å€¼ä¸º<code>url</code> <code>hex</code>ã€‚é»˜è®¤å€¼ä¸º<code>hex</code>ã€‚è¯¥å‚æ•°ä»…åœ¨éæµå¼åœºæ™¯ç”Ÿæ•ˆï¼Œæµå¼åœºæ™¯ä»…æ”¯æŒè¿”å›hexå½¢å¼ã€‚</p><h5 id=è¯·æ±‚ç¤ºä¾‹>è¯·æ±‚ç¤ºä¾‹ï¼š</h5><p>è¯·æ±‚æˆåŠŸï¼ˆéæµå¼ï¼‰</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;model&#34;</span>:<span style=color:#e6db74>&#34;speech-02-hd&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;text&#34;</span>:<span style=color:#e6db74>&#34;çœŸæ­£çš„å±é™©ä¸æ˜¯è®¡ç®—æœºå¼€å§‹åƒäººä¸€æ ·æ€è€ƒï¼Œè€Œæ˜¯äººå¼€å§‹åƒè®¡ç®—æœºä¸€æ ·æ€è€ƒã€‚è®¡ç®—æœºåªæ˜¯å¯ä»¥å¸®æˆ‘ä»¬å¤„ç†ä¸€äº›ç®€å•äº‹åŠ¡ã€‚&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;stream&#34;</span>:<span style=color:#960050;background-color:#1e0010>False</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;language_boost&#34;</span>:<span style=color:#e6db74>&#34;auto&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;output_format&#34;</span>:<span style=color:#e6db74>&#34;hex&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;voice_setting&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;voice_id&#34;</span>:<span style=color:#e6db74>&#34;male-qn-qingse&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;speed&#34;</span>:<span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;vol&#34;</span>:<span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;pitch&#34;</span>:<span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;emotion&#34;</span>:<span style=color:#e6db74>&#34;happy&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;audio_setting&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;sample_rate&#34;</span>:<span style=color:#ae81ff>32000</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;bitrate&#34;</span>:<span style=color:#ae81ff>128000</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;format&#34;</span>:<span style=color:#e6db74>&#34;mp3&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }</span></span></code></pre></div><p>è¯·æ±‚æˆåŠŸï¼ˆæµå¼ï¼‰</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;model&#34;</span>:<span style=color:#e6db74>&#34;speech-02-turbo&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;text&#34;</span>:<span style=color:#e6db74>&#34;çœŸæ­£çš„å±é™©ä¸æ˜¯è®¡ç®—æœºå¼€å§‹åƒäººä¸€æ ·æ€è€ƒï¼Œè€Œæ˜¯äººå¼€å§‹åƒè®¡ç®—æœºä¸€æ ·æ€è€ƒã€‚è®¡ç®—æœºåªæ˜¯å¯ä»¥å¸®æˆ‘ä»¬å¤„ç†ä¸€äº›ç®€å•äº‹åŠ¡ã€‚&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;stream&#34;</span>:<span style=color:#960050;background-color:#1e0010>True</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;language_boost&#34;</span>:<span style=color:#e6db74>&#34;auto&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;output_format&#34;</span>:<span style=color:#e6db74>&#34;hex&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;voice_setting&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;voice_id&#34;</span>:<span style=color:#e6db74>&#34;male-qn-qingse&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;speed&#34;</span>:<span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;vol&#34;</span>:<span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;pitch&#34;</span>:<span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;audio_setting&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;sample_rate&#34;</span>:<span style=color:#ae81ff>32000</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;bitrate&#34;</span>:<span style=color:#ae81ff>128000</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;format&#34;</span>:<span style=color:#e6db74>&#34;mp3&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }</span></span></code></pre></div><h4 id=è¿”å›responseå‚æ•°><strong>è¿”å›(Response)å‚æ•°</strong></h4><p><strong>data</strong>
object</p><p>dataå¯èƒ½è¿”å›ä¸ºnullï¼Œå‚è€ƒç¤ºä¾‹ä»£ç æ—¶ï¼Œæ³¨æ„è¿›è¡Œéç©ºåˆ¤æ–­ã€‚</p><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>audio string
åˆæˆåçš„éŸ³é¢‘ç‰‡æ®µï¼Œé‡‡ç”¨hexç¼–ç ï¼ŒæŒ‰ç…§è¾“å…¥å®šä¹‰çš„æ ¼å¼è¿›è¡Œç”Ÿæˆï¼ˆmp3/pcm/flacï¼‰ã€‚

subtitle_file string
åˆæˆçš„å­—å¹•ä¸‹è½½é“¾æ¥ã€‚éŸ³é¢‘æ–‡ä»¶å¯¹åº”çš„å­—å¹•ï¼Œç²¾ç¡®åˆ°å¥ï¼ˆä¸è¶…è¿‡50å­—ï¼‰ï¼Œå•ä½ä¸ºæ¯«ç§’ï¼Œæ ¼å¼ä¸ºjsonã€‚

status int
å½“å‰éŸ³é¢‘æµçŠ¶æ€ï¼Œ1è¡¨ç¤ºåˆæˆä¸­ï¼Œ2è¡¨ç¤ºåˆæˆç»“æŸã€‚</code></pre></div><p><strong>trace_id</strong>
string</p><p>æœ¬æ¬¡ä¼šè¯çš„idã€‚ç”¨äºåœ¨å’¨è¯¢/åé¦ˆæ—¶å¸®åŠ©å®šä½é—®é¢˜ã€‚</p><p>extra_info
object</p><p>ç›¸å…³é¢å¤–ä¿¡æ¯ã€‚</p><p>å±•å¼€å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>audio_length 
int64
éŸ³é¢‘æ—¶é•¿ï¼Œç²¾ç¡®åˆ°æ¯«ç§’ã€‚

audio_sample_rate 
int64
é‡‡æ ·ç‡ã€‚

audio_size 
int64
éŸ³é¢‘å¤§å°ã€‚å•ä½ä¸ºå­—èŠ‚ã€‚

bitrate 
int64
æ¯”ç‰¹ç‡ã€‚

audio_format 
string
ç”ŸæˆéŸ³é¢‘æ–‡ä»¶çš„æ ¼å¼ã€‚å–å€¼èŒƒå›´mp3/pcm/flacã€‚

audio_channel 
int64
ç”ŸæˆéŸ³é¢‘å£°é“æ•°ã€‚1ï¼šå•å£°é“ï¼Œ2ï¼šåŒå£°é“ã€‚

invisible_character_ratio 
float64
éæ³•å­—ç¬¦å æ¯”ã€‚éæ³•å­—ç¬¦ä¸è¶…è¿‡10%ï¼ˆåŒ…å«10%ï¼‰ï¼ŒéŸ³é¢‘ä¼šæ­£å¸¸ç”Ÿæˆå¹¶è¿”å›éæ³•å­—ç¬¦å æ¯”ï¼›æœ€å¤§ä¸è¶…è¿‡0.1ï¼ˆ10%ï¼‰ï¼Œè¶…è¿‡è¿›è¡ŒæŠ¥é”™ã€‚

usage_characters 
int64
è®¡è´¹å­—ç¬¦æ•°ã€‚æœ¬æ¬¡è¯­éŸ³ç”Ÿæˆçš„è®¡è´¹å­—ç¬¦æ•°ã€‚</code></pre></div><p><strong>base_resp</strong>
object</p><p>å¦‚æœè¯·æ±‚å‡ºé”™ï¼Œå¯¹åº”çš„é”™è¯¯çŠ¶æ€ç å’Œè¯¦æƒ…ã€‚</p><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>status_code int64
çŠ¶æ€ç ã€‚1000ï¼ŒæœªçŸ¥é”™è¯¯ï¼›1001ï¼Œè¶…æ—¶ï¼›1002ï¼Œè§¦å‘é™æµï¼›1004ï¼Œé‰´æƒå¤±è´¥ï¼›1039ï¼Œè§¦å‘TPMé™æµï¼›1042ï¼Œéæ³•å­—ç¬¦è¶…è¿‡10%ï¼›2013ï¼Œè¾“å…¥æ ¼å¼ä¿¡æ¯ä¸æ­£å¸¸ã€‚

status_msg string
çŠ¶æ€è¯¦æƒ…ã€‚</code></pre></div><h4 id=è¿”å›ç¤ºä¾‹>è¿”å›ç¤ºä¾‹:</h4><p>è¿”å›ç¤ºä¾‹ï¼ˆéæµå¼ï¼‰</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;data&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio&#34;</span>:<span style=color:#e6db74>&#34;hexç¼–ç çš„audio&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status&#34;</span>:<span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>     <span style=color:#f92672>&#34;extra_info&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio_length&#34;</span>:<span style=color:#ae81ff>5746</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio_sample_rate&#34;</span>:<span style=color:#ae81ff>32000</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio_size&#34;</span>:<span style=color:#ae81ff>100845</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio_bitrate&#34;</span>:<span style=color:#ae81ff>128000</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;word_count&#34;</span>:<span style=color:#ae81ff>300</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;invisible_character_ratio&#34;</span>:<span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio_format&#34;</span>:<span style=color:#e6db74>&#34;mp3&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;usage_characters&#34;</span>:<span style=color:#ae81ff>630</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;trace_id&#34;</span>:<span style=color:#e6db74>&#34;01b8bf9bb7433cc75c18eee6cfa8fe21&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;base_resp&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status_code&#34;</span>:<span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status_msg&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>è¿”å›ç¤ºä¾‹ï¼ˆæµå¼ï¼‰</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#75715e>//ç»“æŸ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;data&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio&#34;</span>:<span style=color:#e6db74>&#34;hexç¼–ç çš„audio_chunk1 + hexç¼–ç çš„audio_chunk2 + hexç¼–ç çš„audio_chunk3&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status&#34;</span>:<span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>     <span style=color:#f92672>&#34;extra_info&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio_length&#34;</span>:<span style=color:#ae81ff>5746</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio_sample_rate&#34;</span>:<span style=color:#ae81ff>32000</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio_size&#34;</span>:<span style=color:#ae81ff>302535</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio_bitrate&#34;</span>:<span style=color:#ae81ff>128000</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;word_count&#34;</span>:<span style=color:#ae81ff>300</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;invisible_character_ratio&#34;</span>:<span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio_format&#34;</span>:<span style=color:#e6db74>&#34;mp3&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;usage_characters&#34;</span>:<span style=color:#ae81ff>630</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;trace_id&#34;</span>:<span style=color:#e6db74>&#34;01b8bf9bb7433cc75c18eee6cfa8fe21&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;base_resp&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status_code&#34;</span>:<span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status_msg&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//è¿”å›çš„ç¬¬ä¸‰ä¸ªchunk
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;data&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio&#34;</span>:<span style=color:#e6db74>&#34;hexç¼–ç çš„audio_chunk3&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status&#34;</span>:<span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;trace_id&#34;</span>:<span style=color:#e6db74>&#34;01b8bf9bb7433cc75c18eee6cfa8fe21&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;base_resp&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status_code&#34;</span>:<span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status_msg&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//è¿”å›çš„ç¬¬äºŒä¸ªchunk
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;data&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio&#34;</span>:<span style=color:#e6db74>&#34;hexç¼–ç çš„audio_chunk2&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status&#34;</span>:<span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;trace_id&#34;</span>:<span style=color:#e6db74>&#34;01b8bf9bb7433cc75c18eee6cfa8fe21&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;base_resp&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status_code&#34;</span>:<span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status_msg&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//è¿”å›çš„ç¬¬ä¸€ä¸ªchunk
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;data&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;audio&#34;</span>:<span style=color:#e6db74>&#34;hexç¼–ç çš„audio_chunk1&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status&#34;</span>:<span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;trace_id&#34;</span>:<span style=color:#e6db74>&#34;01b8bf9bb7433cc75c18eee6cfa8fe21&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;base_resp&#34;</span>:{
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status_code&#34;</span>:<span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;status_msg&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h3 id=æ¥å£è°ƒç”¨ç¤ºä¾‹éæµå¼>æ¥å£è°ƒç”¨ç¤ºä¾‹(éæµå¼)</h3><p>curl:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl --location <span style=color:#e6db74>&#39;https://api.minimax.chat/v1/t2a_v2?GroupId=${group_id}&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--header <span style=color:#e6db74>&#39;Authorization: Bearer $MiniMax_API_KEY&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--header <span style=color:#e6db74>&#39;Content-Type: application/json&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--data <span style=color:#e6db74>&#39;{
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;model&#34;:&#34;speech-02-hd&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;text&#34;:&#34;çœŸæ­£çš„å±é™©ä¸æ˜¯è®¡ç®—æœºå¼€å§‹åƒäººä¸€æ ·æ€è€ƒï¼Œè€Œæ˜¯äººå¼€å§‹åƒè®¡ç®—æœºä¸€æ ·æ€è€ƒã€‚è®¡ç®—æœºåªæ˜¯å¯ä»¥å¸®æˆ‘ä»¬å¤„ç†ä¸€äº›ç®€å•äº‹åŠ¡ã€‚&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;stream&#34;:false,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;voice_setting&#34;:{
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;voice_id&#34;:&#34;male-qn-qingse&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;speed&#34;:1,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;vol&#34;:1,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;pitch&#34;:0,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;emotion&#34;:&#34;happy&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;pronunciation_dict&#34;:{
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;tone&#34;:[&#34;å¤„ç†/(chu3)(li3)&#34;, &#34;å±é™©/dangerous&#34;]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;audio_setting&#34;:{
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;sample_rate&#34;:32000,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;bitrate&#34;:128000,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;format&#34;:&#34;mp3&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;channel&#34;:1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  }&#39;</span></span></span></code></pre></div><p>Python</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> requests
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>group_id <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;è¯·å¡«å†™æ‚¨çš„group_id&#34;</span>
</span></span><span style=display:flex><span>api_key <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;è¯·å¡«å†™æ‚¨çš„api_key&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>url <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;https://api.minimax.chat/v1/t2a_v2?GroupId=</span><span style=color:#e6db74>{</span>group_id<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>payload <span style=color:#f92672>=</span> json<span style=color:#f92672>.</span>dumps({
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;model&#34;</span>:<span style=color:#e6db74>&#34;speech-02-hd&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;text&#34;</span>:<span style=color:#e6db74>&#34;çœŸæ­£çš„å±é™©ä¸æ˜¯è®¡ç®—æœºå¼€å§‹åƒäººä¸€æ ·æ€è€ƒï¼Œè€Œæ˜¯äººå¼€å§‹åƒè®¡ç®—æœºä¸€æ ·æ€è€ƒã€‚è®¡ç®—æœºåªæ˜¯å¯ä»¥å¸®æˆ‘ä»¬å¤„ç†ä¸€äº›ç®€å•äº‹åŠ¡ã€‚&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;stream&#34;</span>:<span style=color:#66d9ef>False</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;voice_setting&#34;</span>:{
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;voice_id&#34;</span>:<span style=color:#e6db74>&#34;male-qn-qingse&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;speed&#34;</span>:<span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;vol&#34;</span>:<span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;pitch&#34;</span>:<span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;emotion&#34;</span>:<span style=color:#e6db74>&#34;happy&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;pronunciation_dict&#34;</span>:{
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;tone&#34;</span>:[
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;å¤„ç†/(chu3)(li3)&#34;</span>, <span style=color:#e6db74>&#34;å±é™©/dangerous&#34;</span>
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;audio_setting&#34;</span>:{
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;sample_rate&#34;</span>:<span style=color:#ae81ff>32000</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;bitrate&#34;</span>:<span style=color:#ae81ff>128000</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;format&#34;</span>:<span style=color:#e6db74>&#34;mp3&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;channel&#34;</span>:<span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>headers <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Authorization&#39;</span>: <span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;Bearer </span><span style=color:#e6db74>{</span>api_key<span style=color:#e6db74>}</span><span style=color:#e6db74>&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Content-Type&#39;</span>: <span style=color:#e6db74>&#39;application/json&#39;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>response <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>request(<span style=color:#e6db74>&#34;POST&#34;</span>, url, stream<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, headers<span style=color:#f92672>=</span>headers, data<span style=color:#f92672>=</span>payload)
</span></span><span style=display:flex><span>parsed_json <span style=color:#f92672>=</span> json<span style=color:#f92672>.</span>loads(response<span style=color:#f92672>.</span>text)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># è·å–audioå­—æ®µçš„å€¼</span>
</span></span><span style=display:flex><span>audio_value <span style=color:#f92672>=</span> bytes<span style=color:#f92672>.</span>fromhex(parsed_json[<span style=color:#e6db74>&#39;data&#39;</span>][<span style=color:#e6db74>&#39;audio&#39;</span>])
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#39;output.mp3&#39;</span>, <span style=color:#e6db74>&#39;wb&#39;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>    f<span style=color:#f92672>.</span>write(audio_value)</span></span></code></pre></div><h3 id=å®Œæ•´ç¤ºä¾‹æµå¼>å®Œæ•´ç¤ºä¾‹ï¼ˆæµå¼ï¼‰</h3><p>æœ¬ç¤ºä¾‹ä»¥æµå¼å½¢å¼è°ƒç”¨æœ¬æ¥å£ï¼Œå¹¶æµå¼æ’­æ”¾ï¼›æœ€ç»ˆå°†ä¿å­˜å®Œæ•´éŸ³é¢‘æ–‡ä»¶ã€‚</p><p>å®Œæ•´ç¤ºä¾‹</p><p>python</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># This Python file uses the following encoding: utf-8</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> json
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> subprocess
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> time
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> Iterator
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> requests
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>group_id <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>    <span style=color:#75715e>#è¯·è¾“å…¥æ‚¨çš„group_id</span>
</span></span><span style=display:flex><span>api_key <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>    <span style=color:#75715e>#è¯·è¾“å…¥æ‚¨çš„api_key</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>file_format <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;mp3&#39;</span>  <span style=color:#75715e># æ”¯æŒ mp3/pcm/flac</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;https://api.minimax.chat/v1/t2a_v2?GroupId=&#34;</span> <span style=color:#f92672>+</span> group_id
</span></span><span style=display:flex><span>headers <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;Content-Type&#34;</span>:<span style=color:#e6db74>&#34;application/json&#34;</span>, <span style=color:#e6db74>&#34;Authorization&#34;</span>:<span style=color:#e6db74>&#34;Bearer &#34;</span> <span style=color:#f92672>+</span> api_key}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>build_tts_stream_headers</span>() <span style=color:#f92672>-&gt;</span> dict:
</span></span><span style=display:flex><span>    headers <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;accept&#39;</span>: <span style=color:#e6db74>&#39;application/json, text/plain, */*&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;content-type&#39;</span>: <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;authorization&#39;</span>: <span style=color:#e6db74>&#34;Bearer &#34;</span> <span style=color:#f92672>+</span> api_key,
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> headers
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>build_tts_stream_body</span>(text: str) <span style=color:#f92672>-&gt;</span> dict:
</span></span><span style=display:flex><span>    body <span style=color:#f92672>=</span> json<span style=color:#f92672>.</span>dumps({
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;model&#34;</span>:<span style=color:#e6db74>&#34;speech-02-turbo&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;text&#34;</span>:<span style=color:#e6db74>&#34;çœŸæ­£çš„å±é™©ä¸æ˜¯è®¡ç®—æœºå¼€å§‹åƒäººä¸€æ ·æ€è€ƒï¼Œè€Œæ˜¯äººå¼€å§‹åƒè®¡ç®—æœºä¸€æ ·æ€è€ƒã€‚è®¡ç®—æœºåªæ˜¯å¯ä»¥å¸®æˆ‘ä»¬å¤„ç†ä¸€äº›ç®€å•äº‹åŠ¡ã€‚&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;stream&#34;</span>:<span style=color:#66d9ef>True</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;voice_setting&#34;</span>:{
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;voice_id&#34;</span>:<span style=color:#e6db74>&#34;male-qn-qingse&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;speed&#34;</span>:<span style=color:#ae81ff>1.0</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;vol&#34;</span>:<span style=color:#ae81ff>1.0</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;pitch&#34;</span>:<span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;pronunciation_dict&#34;</span>:{
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;tone&#34;</span>:[
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;å¤„ç†/(chu3)(li3)&#34;</span>, <span style=color:#e6db74>&#34;å±é™©/dangerous&#34;</span>
</span></span><span style=display:flex><span>            ]
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;audio_setting&#34;</span>:{
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;sample_rate&#34;</span>:<span style=color:#ae81ff>32000</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;bitrate&#34;</span>:<span style=color:#ae81ff>128000</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;format&#34;</span>:<span style=color:#e6db74>&#34;mp3&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;channel&#34;</span>:<span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> body
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mpv_command <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;mpv&#34;</span>, <span style=color:#e6db74>&#34;--no-cache&#34;</span>, <span style=color:#e6db74>&#34;--no-terminal&#34;</span>, <span style=color:#e6db74>&#34;--&#34;</span>, <span style=color:#e6db74>&#34;fd://0&#34;</span>]
</span></span><span style=display:flex><span>mpv_process <span style=color:#f92672>=</span> subprocess<span style=color:#f92672>.</span>Popen(
</span></span><span style=display:flex><span>    mpv_command,
</span></span><span style=display:flex><span>    stdin<span style=color:#f92672>=</span>subprocess<span style=color:#f92672>.</span>PIPE,
</span></span><span style=display:flex><span>    stdout<span style=color:#f92672>=</span>subprocess<span style=color:#f92672>.</span>DEVNULL,
</span></span><span style=display:flex><span>    stderr<span style=color:#f92672>=</span>subprocess<span style=color:#f92672>.</span>DEVNULL,
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>call_tts_stream</span>(text: str) <span style=color:#f92672>-&gt;</span> Iterator[bytes]:
</span></span><span style=display:flex><span>    tts_url <span style=color:#f92672>=</span> url
</span></span><span style=display:flex><span>    tts_headers <span style=color:#f92672>=</span> build_tts_stream_headers()
</span></span><span style=display:flex><span>    tts_body <span style=color:#f92672>=</span> build_tts_stream_body(text)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    response <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>request(<span style=color:#e6db74>&#34;POST&#34;</span>, tts_url, stream<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, headers<span style=color:#f92672>=</span>tts_headers, data<span style=color:#f92672>=</span>tts_body)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> chunk <span style=color:#f92672>in</span> (response<span style=color:#f92672>.</span>raw):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> chunk:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> chunk[:<span style=color:#ae81ff>5</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>b</span><span style=color:#e6db74>&#39;data:&#39;</span>:
</span></span><span style=display:flex><span>                data <span style=color:#f92672>=</span> json<span style=color:#f92672>.</span>loads(chunk[<span style=color:#ae81ff>5</span>:])
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#34;data&#34;</span> <span style=color:#f92672>in</span> data <span style=color:#f92672>and</span> <span style=color:#e6db74>&#34;extra_info&#34;</span> <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> data:
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#34;audio&#34;</span> <span style=color:#f92672>in</span> data[<span style=color:#e6db74>&#34;data&#34;</span>]:
</span></span><span style=display:flex><span>                        audio <span style=color:#f92672>=</span> data[<span style=color:#e6db74>&#34;data&#34;</span>][<span style=color:#e6db74>&#39;audio&#39;</span>]
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>yield</span> audio
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>audio_play</span>(audio_stream: Iterator[bytes]) <span style=color:#f92672>-&gt;</span> bytes:
</span></span><span style=display:flex><span>    audio <span style=color:#f92672>=</span> <span style=color:#e6db74>b</span><span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> chunk <span style=color:#f92672>in</span> audio_stream:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> chunk <span style=color:#f92672>is</span> <span style=color:#f92672>not</span> <span style=color:#66d9ef>None</span> <span style=color:#f92672>and</span> chunk <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#39;</span>:
</span></span><span style=display:flex><span>            decoded_hex <span style=color:#f92672>=</span> bytes<span style=color:#f92672>.</span>fromhex(chunk)
</span></span><span style=display:flex><span>            mpv_process<span style=color:#f92672>.</span>stdin<span style=color:#f92672>.</span>write(decoded_hex)  <span style=color:#75715e># type: ignore</span>
</span></span><span style=display:flex><span>            mpv_process<span style=color:#f92672>.</span>stdin<span style=color:#f92672>.</span>flush()
</span></span><span style=display:flex><span>            audio <span style=color:#f92672>+=</span> decoded_hex
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> audio
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>audio_chunk_iterator <span style=color:#f92672>=</span> call_tts_stream(<span style=color:#e6db74>&#39;&#39;</span>)
</span></span><span style=display:flex><span>audio <span style=color:#f92672>=</span> audio_play(audio_chunk_iterator)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># ç»“æœä¿å­˜è‡³æ–‡ä»¶</span>
</span></span><span style=display:flex><span>timestamp <span style=color:#f92672>=</span> int(time<span style=color:#f92672>.</span>time())
</span></span><span style=display:flex><span>file_name <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;output_total_</span><span style=color:#e6db74>{</span>timestamp<span style=color:#e6db74>}</span><span style=color:#e6db74>.</span><span style=color:#e6db74>{</span>file_format<span style=color:#e6db74>}</span><span style=color:#e6db74>&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span> open(file_name, <span style=color:#e6db74>&#39;wb&#39;</span>) <span style=color:#66d9ef>as</span> file:
</span></span><span style=display:flex><span>    file<span style=color:#f92672>.</span>write(audio)</span></span></code></pre></div><h2 id=websocketæ¥å£>WebSocketæ¥å£</h2><p>æ¥å£åœ°å€ï¼šwss://api.minimax.chat/ws/v1/t2a_v2</p><h3 id=å»ºç«‹è¿æ¥>å»ºç«‹è¿æ¥</h3><p>è°ƒç”¨WebSocketåº“å‡½æ•°ï¼ˆå…·ä½“å®ç°æ–¹å¼å› ç¼–ç¨‹è¯­è¨€æˆ–åº“å‡½æ•°è€Œå¼‚ï¼‰ï¼Œå°†è¯·æ±‚å¤´å’ŒURLä¼ å…¥ä»¥å»ºç«‹WebSocketè¿æ¥ã€‚</p><h4 id=è¯·æ±‚ä½“requestå‚æ•°-1>è¯·æ±‚ä½“ï¼ˆRequestï¼‰å‚æ•°</h4><h5 id=authorization-1><strong>Authorization</strong></h5><p>stringå¿…å¡«
API_keyï¼Œå¯åœ¨<a href=https://platform.minimaxi.com/user-center/basic-information/interface-key rel=external target=_blank>è´¦æˆ·ç®¡ç†>æ¥å£å¯†é’¥</a>ä¸­æŸ¥çœ‹ã€‚</p><h5 id=è¿”å›responseå‚æ•°-1><strong>è¿”å›(Response)å‚æ•°</strong></h5><p><strong>session_id</strong>
string
è¡¨ç¤ºæ•´ä¸ªä¼šè¯çš„id</p><h5 id=event><strong>event</strong></h5><p>string
è¡¨ç¤ºä¼šè¯ç±»å‹ï¼Œå»ºè¿æˆåŠŸåä¼šè¿”å›"connected_success"</p><h5 id=trace_><strong>trace_id</strong></h5><p>string
è¡¨ç¤ºä¼šè¯ä¸­å•æ¬¡è¯·æ±‚çš„id</p><h5 id=base_><strong>base_resp</strong></h5><p>è¯¥è¯·æ±‚å¯¹åº”çš„çŠ¶æ€ç å’Œè¯¦æƒ…</p><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>status_codeint64
çŠ¶æ€ç ã€‚&#34;0&#34;ä»£è¡¨å»ºè¿æˆåŠŸã€‚
status_msgstring
çŠ¶æ€è¯¦æƒ…ã€‚</code></pre></div><h4 id=å»ºç«‹è¿æ¥ç¤ºä¾‹><strong>å»ºç«‹è¿æ¥ç¤ºä¾‹</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>{
    &#34;Authorization&#34;: &#34;your_api_key&#34;, // é‰´æƒä¿¡æ¯
}</code></pre></div><h4 id=è¿”å›ç¤ºä¾‹å»ºè¿æˆåŠŸ><strong>è¿”å›ç¤ºä¾‹ï¼ˆå»ºè¿æˆåŠŸï¼‰</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>{
    &#34;session_id&#34;:&#34;xxxx&#34;,
    &#34;event&#34;:&#34;connected_success&#34;
    &#34;trace_id&#34;:&#34;0303a2882bf18235ae7a809ae0f3cca7&#34;,
    &#34;base_resp&#34;:{
        &#34;status_code&#34;: 0,
        &#34;status_msg&#34;:&#34;success&#34;
    }
}</code></pre></div><h3 id=å‘é€ä»»åŠ¡å¼€å§‹äº‹ä»¶>å‘é€â€œä»»åŠ¡å¼€å§‹â€äº‹ä»¶</h3><p>å‘é€â€œä»»åŠ¡å¼€å§‹â€äº‹ä»¶åˆ™æ­£å¼å¼€å§‹åˆæˆä»»åŠ¡ï¼Œå½“æœåŠ¡ç«¯è¿”å›çš„task_startedäº‹ä»¶æ—¶ï¼Œæ ‡å¿—ç€ä»»åŠ¡å·²æˆåŠŸå¼€å§‹ã€‚åªæœ‰åœ¨æ¥æ”¶åˆ°è¯¥äº‹ä»¶åï¼Œæ‰èƒ½å‘æœåŠ¡å™¨å‘é€task_continueäº‹ä»¶æˆ–task_finishäº‹ä»¶</p><h4 id=è¯·æ±‚ä½“requestå‚æ•°-2>è¯·æ±‚ä½“ï¼ˆRequestï¼‰å‚æ•°</h4><h5 id=event-1><strong>event</strong></h5><p>stringå¿…å¡«</p><p>æ§åˆ¶å‘é€çš„æŒ‡ä»¤ã€‚å½“å‰ç¯èŠ‚å¯é€‰å€¼ï¼š&ldquo;task_start&rdquo;</p><h5 id=model-1><strong>model</strong></h5><p>stringå¿…å¡«</p><p>è¯·æ±‚çš„æ¨¡å‹ç‰ˆæœ¬ï¼šspeech-02-hdã€speech-02-turboã€speech-01-hdã€speech-01-turboã€speech-01-240228ã€speech-01-turbo-240228</p><h5 id=voice_-1><strong>voice_setting</strong></h5><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>speed èŒƒå›´[0.5,2]ï¼Œé»˜è®¤å€¼ä¸º1.0
ç”Ÿæˆå£°éŸ³çš„è¯­é€Ÿï¼Œå¯é€‰ï¼Œå–å€¼è¶Šå¤§ï¼Œè¯­é€Ÿè¶Šå¿«ã€‚

vol èŒƒå›´ï¼ˆ0,10]ï¼Œé»˜è®¤å€¼ä¸º1.0
ç”Ÿæˆå£°éŸ³çš„éŸ³é‡ï¼Œå¯é€‰ï¼Œå–å€¼è¶Šå¤§ï¼ŒéŸ³é‡è¶Šé«˜ã€‚

pitch èŒƒå›´[-12,12]ï¼Œé»˜è®¤å€¼ä¸º0
ç”Ÿæˆå£°éŸ³çš„è¯­è°ƒï¼Œå¯é€‰ï¼Œï¼ˆ0ä¸ºåŸéŸ³è‰²è¾“å‡ºï¼Œå–å€¼éœ€ä¸ºæ•´æ•°ï¼‰ã€‚

voice_id string
è¯·æ±‚çš„éŸ³è‰²ç¼–å·ã€‚ä¸timber_weightsäºŒé€‰ä¸€â€œå¿…å¡«â€ã€‚
æ”¯æŒç³»ç»ŸéŸ³è‰²(id)ä»¥åŠå¤åˆ»éŸ³è‰²ï¼ˆidï¼‰ä¸¤ç§ç±»å‹ï¼Œå…¶ä¸­ç³»ç»ŸéŸ³è‰²ï¼ˆIDï¼‰å¦‚ä¸‹ï¼š
é’æ¶©é’å¹´éŸ³è‰²ï¼šmale-qn-qingse
ç²¾è‹±é’å¹´éŸ³è‰²ï¼šmale-qn-jingying
éœ¸é“é’å¹´éŸ³è‰²ï¼šmale-qn-badao
é’å¹´å¤§å­¦ç”ŸéŸ³è‰²ï¼šmale-qn-daxuesheng
å°‘å¥³éŸ³è‰²ï¼šfemale-shaonv
å¾¡å§éŸ³è‰²ï¼šfemale-yujie
æˆç†Ÿå¥³æ€§éŸ³è‰²ï¼šfemale-chengshu
ç”œç¾å¥³æ€§éŸ³è‰²ï¼šfemale-tianmei
ç”·æ€§ä¸»æŒäººï¼špresenter_male
å¥³æ€§ä¸»æŒäººï¼špresenter_female
ç”·æ€§æœ‰å£°ä¹¦1ï¼šaudiobook_male_1
ç”·æ€§æœ‰å£°ä¹¦2ï¼šaudiobook_male_2
å¥³æ€§æœ‰å£°ä¹¦1ï¼šaudiobook_female_1
å¥³æ€§æœ‰å£°ä¹¦2ï¼šaudiobook_female_2
é’æ¶©é’å¹´éŸ³è‰²-betaï¼šmale-qn-qingse-jingpin
ç²¾è‹±é’å¹´éŸ³è‰²-betaï¼šmale-qn-jingying-jingpin
éœ¸é“é’å¹´éŸ³è‰²-betaï¼šmale-qn-badao-jingpin
é’å¹´å¤§å­¦ç”ŸéŸ³è‰²-betaï¼šmale-qn-daxuesheng-jingpin
å°‘å¥³éŸ³è‰²-betaï¼šfemale-shaonv-jingpin
å¾¡å§éŸ³è‰²-betaï¼šfemale-yujie-jingpin
æˆç†Ÿå¥³æ€§éŸ³è‰²-betaï¼šfemale-chengshu-jingpin
ç”œç¾å¥³æ€§éŸ³è‰²-betaï¼šfemale-tianmei-jingpin
èªæ˜ç”·ç«¥ï¼šclever_boy
å¯çˆ±ç”·ç«¥ï¼šcute_boy
èŒèŒå¥³ç«¥ï¼šlovely_girl
å¡é€šçŒªå°çªï¼šcartoon_pig
ç—…å¨‡å¼Ÿå¼Ÿï¼šbingjiao_didi
ä¿Šæœ—ç”·å‹ï¼šjunlang_nanyou
çº¯çœŸå­¦å¼Ÿï¼šchunzhen_xuedi
å†·æ·¡å­¦é•¿ï¼šlengdan_xiongzhang
éœ¸é“å°‘çˆ·ï¼šbadao_shaoye
ç”œå¿ƒå°ç²ï¼štianxin_xiaoling
ä¿çš®èŒå¦¹ï¼šqiaopi_mengmei
å¦©åªšå¾¡å§ï¼šwumei_yujie
å—²å—²å­¦å¦¹ï¼šdiadia_xuemei
æ·¡é›…å­¦å§ï¼šdanya_xuejie
Santa Clausï¼šSanta_Claus
Grinchï¼šGrinch
Rudolphï¼šRudolph
Arnoldï¼šArnold
Charming Santaï¼šCharming_Santa
Charming Ladyï¼šCharming_Lady
Sweet Girlï¼šSweet_Girl
Cute Elfï¼šCute_Elf
Attractive Girlï¼šAttractive_Girl
Serene Womanï¼šSerene_Woman

emotion string
æ§åˆ¶åˆæˆè¯­éŸ³çš„æƒ…ç»ªï¼›
å½“å‰æ”¯æŒ7ç§æƒ…ç»ªï¼šé«˜å…´ï¼Œæ‚²ä¼¤ï¼Œæ„¤æ€’ï¼Œå®³æ€•ï¼ŒåŒæ¶ï¼ŒæƒŠè®¶ï¼Œä¸­æ€§ï¼›
å‚æ•°èŒƒå›´[&#34;happy&#34;, &#34;sad&#34;, &#34;angry&#34;, &#34;fearful&#34;, &#34;disgusted&#34;, &#34;surprised&#34;, &#34;neutral&#34;]
è¯¥å‚æ•°ä»…å¯¹speech-02-hdï¼Œspeech-02-turboï¼Œspeech-01-turboï¼Œspeech-01-hdç”Ÿæ•ˆ

latex_read bool
æ§åˆ¶æ˜¯å¦æ”¯æŒæœ—è¯»latexå…¬å¼ï¼Œé»˜è®¤ä¸ºfalseã€‚
éœ€æ³¨æ„ï¼š
1. è¯·æ±‚ä¸­çš„å…¬å¼éœ€è¦åœ¨å…¬å¼çš„é¦–å°¾åŠ ä¸Š$$ï¼›
2. è¯·æ±‚ä¸­å…¬å¼è‹¥æœ‰&#34;\&#34;ï¼Œéœ€è½¬ä¹‰æˆ&#34;\\&#34;ã€‚
ç¤ºä¾‹ï¼šå¯¼æ•°çš„åŸºæœ¬å…¬å¼æ˜¯$$\\frac{d}{dx}(x^n) = nx^{n-1}$$

english_normalization bool
è¯¥å‚æ•°æ”¯æŒè‹±è¯­æ–‡æœ¬è§„èŒƒåŒ–ï¼Œå¯æå‡æ•°å­—é˜…è¯»åœºæ™¯çš„æ€§èƒ½ï¼Œä½†ä¼šç•¥å¾®å¢åŠ å»¶è¿Ÿã€‚å¦‚æœæœªæä¾›ï¼Œåˆ™é»˜è®¤å€¼ä¸º falseã€‚</code></pre></div><h5 id=audio_-1><strong>audio_setting</strong></h5><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>sample_rateèŒƒå›´ã€8000ï¼Œ16000ï¼Œ22050ï¼Œ24000ï¼Œ32000ï¼Œ44100ã€‘
ç”Ÿæˆå£°éŸ³çš„é‡‡æ ·ç‡ã€‚å¯é€‰ï¼Œé»˜è®¤ä¸º32000ã€‚
bitrateèŒƒå›´ã€32000ï¼Œ64000ï¼Œ128000ï¼Œ256000ã€‘
ç”Ÿæˆå£°éŸ³çš„æ¯”ç‰¹ç‡ã€‚å¯é€‰ï¼Œé»˜è®¤å€¼ä¸º128000ã€‚è¯¥å‚æ•°ä»…å¯¹mp3æ ¼å¼çš„éŸ³é¢‘ç”Ÿæ•ˆã€‚
formatstring
ç”Ÿæˆçš„éŸ³é¢‘æ ¼å¼ã€‚é»˜è®¤mp3ï¼ŒèŒƒå›´[mp3,pcm,flac,wav]ã€‚wavä»…åœ¨éæµå¼è¾“å‡ºä¸‹æ”¯æŒã€‚
channelint
ç”ŸæˆéŸ³é¢‘çš„å£°é“æ•°.é»˜è®¤1ï¼šå•å£°é“ï¼Œå¯é€‰ï¼š
1ï¼šå•å£°é“
2ï¼šåŒå£°é“</code></pre></div><h5 id=pronunciation_-1><strong>pronunciation_dict</strong></h5><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>tone list
æ›¿æ¢éœ€è¦ç‰¹æ®Šæ ‡æ³¨çš„æ–‡å­—ã€ç¬¦å·åŠå¯¹åº”çš„æ³¨éŸ³ã€‚
æ›¿æ¢å‘éŸ³ï¼ˆè°ƒæ•´å£°è°ƒ/æ›¿æ¢å…¶ä»–å­—ç¬¦å‘éŸ³ï¼‰ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
[&#34;ç‡•å°‘é£/(yan4)(shao3)(fei1)&#34;,&#34;è¾¾è²/(da2)(fei1)&#34;ï¼Œ&#34;omg/oh my god&#34;]
å£°è°ƒç”¨æ•°å­—ä»£æ›¿ï¼Œä¸€å£°ï¼ˆé˜´å¹³ï¼‰ä¸º1ï¼ŒäºŒå£°ï¼ˆé˜³å¹³ï¼‰ä¸º2ï¼Œä¸‰å£°ï¼ˆä¸Šå£°ï¼‰ä¸º3ï¼Œå››å£°ï¼ˆå»å£°ï¼‰ä¸º4ï¼‰ï¼Œè½»å£°ä¸º5ã€‚</code></pre></div><h5 id=timber_-1><strong>timber_weights</strong></h5><p>ä¸voice_idäºŒé€‰ä¸€å¿…å¡«å¿…å¡«</p><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>voice_id string
è¯·æ±‚çš„éŸ³è‰²idã€‚é¡»å’Œweightå‚æ•°åŒæ­¥å¡«å†™ã€‚

weight èŒƒå›´[1,100]
æƒé‡ï¼Œé¡»ä¸voice_idåŒæ­¥å¡«å†™ã€‚æœ€å¤šæ”¯æŒ4ç§éŸ³è‰²æ··åˆï¼Œå–å€¼ä¸ºæ•´æ•°ï¼Œå•ä¸€éŸ³è‰²å–å€¼å æ¯”è¶Šé«˜ï¼ŒåˆæˆéŸ³è‰²è¶Šåƒã€‚</code></pre></div><h5 id=language_-1><strong>language_boost</strong></h5><p>stringï¼Œé»˜è®¤ä¸ºnull</p><p>å¢å¼ºå¯¹æŒ‡å®šçš„å°è¯­ç§å’Œæ–¹è¨€çš„è¯†åˆ«èƒ½åŠ›ï¼Œè®¾ç½®åå¯ä»¥æå‡åœ¨æŒ‡å®šå°è¯­ç§/æ–¹è¨€åœºæ™¯ä¸‹çš„è¯­éŸ³è¡¨ç°ã€‚å¦‚æœä¸æ˜ç¡®å°è¯­ç§ç±»å‹ï¼Œåˆ™å¯ä»¥é€‰æ‹©"auto"ï¼Œæ¨¡å‹å°†è‡ªä¸»åˆ¤æ–­å°è¯­ç§ç±»å‹ã€‚æ”¯æŒä»¥ä¸‹å–å€¼ï¼š
&lsquo;Chinese&rsquo;, &lsquo;Chinese,Yue&rsquo;, &lsquo;English&rsquo;, &lsquo;Arabic&rsquo;, &lsquo;Russian&rsquo;, &lsquo;Spanish&rsquo;, &lsquo;French&rsquo;, &lsquo;Portuguese&rsquo;, &lsquo;German&rsquo;, &lsquo;Turkish&rsquo;, &lsquo;Dutch&rsquo;, &lsquo;Ukrainian&rsquo;, &lsquo;Vietnamese&rsquo;, &lsquo;Indonesian&rsquo;, &lsquo;Japanese&rsquo;, &lsquo;Italian&rsquo;, &lsquo;Korean&rsquo;, &lsquo;Thai&rsquo;, &lsquo;Polish&rsquo;, &lsquo;Romanian&rsquo;, &lsquo;Greek&rsquo;, &lsquo;Czech&rsquo;, &lsquo;Finnish&rsquo;, &lsquo;Hindi&rsquo;, &lsquo;auto&rsquo;</p><h5 id=task-startäº‹ä»¶ä¸¾ä¾‹>task-startäº‹ä»¶ä¸¾ä¾‹</h5><p>å‘é€â€œä»»åŠ¡å¼€å§‹â€äº‹ä»¶</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>{
    &#34;event&#34;:&#34;task_start&#34;,
    &#34;model&#34;:&#34;speech-02-turbo&#34;,
    &#34;language_boost&#34;:&#34;Chinese&#34;,
    &#34;voice_setting&#34;:{
        &#34;voice_id&#34;:&#34;male-qn-qingse&#34;,
        &#34;speed&#34;:1,
        &#34;vol&#34;:1,
        &#34;pitch&#34;:0,
        &#34;emotion&#34;:&#34;happy&#34;
    },
    &#34;pronunciation_dict&#34;:{
        &#34;tone&#34;:[&#34;å¤„ç†/(chu3)(li3)&#34;, &#34;å±é™©/dangerous&#34;]
    },
    &#34;audio_setting&#34;:{
        &#34;sample_rate&#34;:32000,
        &#34;bitrate&#34;:128000,
        &#34;format&#34;:&#34;mp3&#34;,
        &#34;channel&#34;:1
    }    
}</code></pre></div><h4 id=è¿”å›responseå‚æ•°-2>è¿”å›(Response)å‚æ•°</h4><h5 id=session_><strong>session_id</strong></h5><p>string
è¡¨ç¤ºæ•´ä¸ªä¼šè¯çš„id</p><h5 id=event-2><strong>event</strong></h5><p>string
è¡¨ç¤ºä¼šè¯ç±»å‹ï¼Œå½“å‰ç¯èŠ‚æˆåŠŸåä¼šè¿”å›"task_started"</p><h5 id=trace_-1><strong>trace_id</strong></h5><p>string
æœ¬æ¬¡ä¼šè¯çš„idã€‚ç”¨äºåœ¨å’¨è¯¢/åé¦ˆæ—¶å¸®åŠ©å®šä½é—®é¢˜ã€‚</p><h5 id=base_-1><strong>base_resp</strong></h5><p>object
å¦‚æœè¯·æ±‚å‡ºé”™ï¼Œå¯¹åº”çš„é”™è¯¯çŠ¶æ€ç å’Œè¯¦æƒ…ã€‚</p><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>status_code
int64
çŠ¶æ€ç ã€‚0ï¼Œå‘é€æˆåŠŸï¼›2202ï¼Œéæ³•äº‹ä»¶ã€‚

status_msg
string
çŠ¶æ€è¯¦æƒ…ã€‚</code></pre></div><p><strong>task-start</strong> äº‹ä»¶
å‘é€â€œä»»åŠ¡å¼€å§‹â€äº‹ä»¶</p><h4 id=è¿”å›ç¤ºä¾‹ä»»åŠ¡å¼€å§‹>è¿”å›ç¤ºä¾‹ï¼ˆä»»åŠ¡å¼€å§‹ï¼‰</h4><p>è¿”å›ç¤ºä¾‹ï¼ˆéæµå¼ï¼‰</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>{
    &#34;session_id&#34;:&#34;xxxx&#34;,
    &#34;event&#34;:&#34;task_started&#34;,
    &#34;trace_id&#34;:&#34;0303a2882bf18235ae7a809ae0f3cca7&#34;,
    &#34;base_resp&#34;:{
        &#34;status_code&#34;: 0,
        &#34;status_msg&#34;:&#34;success&#34;
    }
}</code></pre></div><h3 id=å‘é€ä»»åŠ¡ç»§ç»­äº‹ä»¶>å‘é€â€œä»»åŠ¡ç»§ç»­â€äº‹ä»¶</h3><p>å½“æ”¶åˆ°æœåŠ¡ç«¯è¿”å›çš„â€œtask_startedâ€äº‹ä»¶åï¼Œä»»åŠ¡æ­£å¼å¼€å§‹ï¼Œå¯é€šè¿‡å‘é€"task_continue"äº‹ä»¶å‘é€è¦åˆæˆçš„æ–‡æœ¬ï¼Œæ”¯æŒé¡ºåºå‘é€å¤šä¸ªâ€œtask_continueâ€äº‹ä»¶ï¼Œå½“æœ€åä¸€æ¬¡æ”¶åˆ°æœåŠ¡ç«¯è¿”å›è¶…è¿‡120sæ²¡æœ‰å‘é€äº‹ä»¶æ—¶ï¼Œwebsocketè¿æ¥è‡ªåŠ¨æ–­å¼€ã€‚</p><h4 id=è¯·æ±‚ä½“requestå‚æ•°-3>è¯·æ±‚ä½“ï¼ˆRequestï¼‰å‚æ•°</h4><h5 id=event-3>event</h5><p>string</p><p>æ§åˆ¶å‘é€çš„æŒ‡ä»¤ã€‚å½“å‰ç¯èŠ‚å¯é€‰å€¼ï¼š&ldquo;task_continue&rdquo;</p><h5 id=text-1>text</h5><p>string å¿…å¡«</p><p>å¾…åˆæˆçš„æ–‡æœ¬ï¼Œé•¿åº¦é™åˆ¶&lt;10000å­—ç¬¦ï¼Œæ®µè½åˆ‡æ¢ç”¨æ¢è¡Œç¬¦æ›¿ä»£ã€‚ï¼ˆå¦‚éœ€è¦æ§åˆ¶è¯­éŸ³ä¸­é—´éš”æ—¶é—´ï¼Œåœ¨å­—é—´å¢åŠ &lt;#x#>,xå•ä½ä¸ºç§’ï¼Œæ”¯æŒ0.01-99.99ï¼Œæœ€å¤šä¸¤ä½å°æ•°ï¼‰ã€‚æ”¯æŒè‡ªå®šä¹‰æ–‡æœ¬ä¸æ–‡æœ¬ä¹‹é—´çš„è¯­éŸ³æ—¶é—´é—´éš”ï¼Œä»¥å®ç°è‡ªå®šä¹‰æ–‡æœ¬è¯­éŸ³åœé¡¿æ—¶é—´çš„æ•ˆæœã€‚éœ€è¦æ³¨æ„çš„æ˜¯æ–‡æœ¬é—´éš”æ—¶é—´éœ€è®¾ç½®åœ¨ä¸¤ä¸ªå¯ä»¥è¯­éŸ³å‘éŸ³çš„æ–‡æœ¬ä¹‹é—´ï¼Œä¸”ä¸èƒ½è®¾ç½®å¤šä¸ªè¿ç»­çš„æ—¶é—´é—´éš”ã€‚</p><h4 id=å‘é€ä»»åŠ¡ç»§ç»­äº‹ä»¶ç¤ºä¾‹>å‘é€â€œä»»åŠ¡ç»§ç»­â€äº‹ä»¶ç¤ºä¾‹</h4><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>{
       &#34;event&#34;: &#34;task_continue&#34;,
       &#34;text&#34;: &#34;ä½ å¥½ï¼&#34;
}</code></pre></div><h4 id=è¿”å›responseå‚æ•°-3>è¿”å›(Response)å‚æ•°</h4><p>data</p><p>object</p><p>dataå¯èƒ½è¿”å›ä¸ºnullï¼Œå‚è€ƒç¤ºä¾‹ä»£ç æ—¶ï¼Œæ³¨æ„è¿›è¡Œéç©ºåˆ¤æ–­ã€‚</p><p>å‚æ•°</p><h5 id=trace_idstring>trace_idstring</h5><p>æœ¬æ¬¡ä¼šè¯çš„idã€‚ç”¨äºåœ¨å’¨è¯¢/åé¦ˆæ—¶å¸®åŠ©å®šä½é—®é¢˜ã€‚</p><h5 id=session_id>session_id</h5><p>string</p><p>æœ¬æ¬¡sessionçš„idã€‚</p><h5 id=event-4>event</h5><p>string</p><p>è¡¨ç¤ºä¼šè¯ç±»å‹ï¼Œå½“å‰ç¯èŠ‚æˆåŠŸåä¼šè¿”å›"task_continued"</p><h5 id=is_final>is_final</h5><p>bool</p><p>è¯¥è¯·æ±‚è¿”å›æ˜¯å¦å®Œç»“ã€‚</p><h5 id=extra_info>extra_info</h5><p>object</p><p>ç›¸å…³é¢å¤–ä¿¡æ¯ã€‚</p><p>å±•å¼€å‚æ•°</p><h5 id=base_resp>base_resp</h5><p>object</p><p>å¦‚æœè¯·æ±‚å‡ºé”™ï¼Œå¯¹åº”çš„é”™è¯¯çŠ¶æ€ç å’Œè¯¦æƒ…ã€‚</p><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>status_code
int64
çŠ¶æ€ç ã€‚1000ï¼ŒæœªçŸ¥é”™è¯¯ï¼›1001ï¼Œè¶…æ—¶ï¼›1002ï¼Œè§¦å‘é™æµï¼›1004ï¼Œé‰´æƒå¤±è´¥ï¼›1039ï¼Œè§¦å‘TPMé™æµï¼›1042ï¼Œéæ³•å­—ç¬¦è¶…è¿‡10%ï¼›2013ï¼Œè¾“å…¥æ ¼å¼ä¿¡æ¯ä¸æ­£å¸¸ï¼›2201ï¼Œè¶…æ—¶æ–­å¼€è¿æ¥ï¼›2202ï¼Œéæ³•äº‹ä»¶ï¼›2203ï¼Œç©ºæ–‡æœ¬ï¼Œè·³è¿‡ï¼›2204ï¼Œè¶…è¿‡å­—ç¬¦é™åˆ¶ï¼Œè·³è¿‡ï¼›2205ï¼Œè¯·æ±‚è¶…é™ã€‚

status_msg
string
çŠ¶æ€è¯¦æƒ…ã€‚</code></pre></div><h4 id=è¿”å›ç¤ºä¾‹-1>è¿”å›ç¤ºä¾‹</h4><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>{
    &#34;data&#34;: {
        &#34;audio&#34;: &#34;xxx&#34;,
    },
    &#34;extra_info&#34;: {
        &#34;audio_length&#34;: 935,
        &#34;audio_sample_rate&#34;: 32000,
        &#34;audio_size&#34;: 15597,
        &#34;bitrate&#34;: 128000,
        &#34;word_count&#34;: 1,
        &#34;invisible_character_ratio&#34;: 0,
        &#34;usage_characters&#34;: 4,
        &#34;audio_format&#34;: &#34;mp3&#34;,
        &#34;audio_channel&#34;: 1
    },
    &#34;session_id&#34;: &#34;xxxx&#34;,
    &#34;event&#34;: &#34;task_continued&#34;,
    &#34;is_final&#34;:false,
    &#34;trace_id&#34;: &#34;0303a2882bf18235ae7a809ae0f3cca7&#34;,
    &#34;base_resp&#34;: {
        &#34;status_code&#34;: 0,
        &#34;status_msg&#34;: &#34;success&#34;
    }
}</code></pre></div><h3 id=å‘é€ä»»åŠ¡ç»“æŸäº‹ä»¶>å‘é€â€œä»»åŠ¡ç»“æŸâ€äº‹ä»¶</h3><p>å½“å‘é€"task_finish"äº‹ä»¶ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°è¯¥äº‹ä»¶åï¼Œä¼šç­‰å¾…å½“å‰é˜Ÿåˆ—ä¸­æ‰€æœ‰åˆæˆä»»åŠ¡å®Œæˆåï¼Œå…³é—­WebSocketè¿æ¥å¹¶ç»“æŸä»»åŠ¡ã€‚</p><h4 id=è¯·æ±‚ä½“requestå‚æ•°-4>è¯·æ±‚ä½“ï¼ˆRequestï¼‰å‚æ•°</h4><h5 id=event-5>event</h5><p>string</p><p>æ§åˆ¶å‘é€çš„æŒ‡ä»¤ã€‚å½“å‰ç¯èŠ‚å¯é€‰å€¼ï¼š&ldquo;task_finish&rdquo;</p><h4 id=å‘é€ä»»åŠ¡ç»“æŸäº‹ä»¶ç¤ºä¾‹>å‘é€â€œä»»åŠ¡ç»“æŸâ€äº‹ä»¶ç¤ºä¾‹</h4><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>{
    &#34;event&#34;: &#34;task_finish&#34;
 }</code></pre></div><h4 id=è¿”å›responseå‚æ•°-4>è¿”å›(Response)å‚æ•°</h4><h5 id=trace_id>trace_id</h5><p>string</p><p>æœ¬æ¬¡ä¼šè¯çš„idã€‚ç”¨äºåœ¨å’¨è¯¢/åé¦ˆæ—¶å¸®åŠ©å®šä½é—®é¢˜ã€‚</p><h5 id=session_id-1>session_id</h5><p>string</p><p>æœ¬æ¬¡sessionçš„idã€‚</p><h5 id=event-6>event</h5><p>string</p><p>è¡¨ç¤ºä¼šè¯ç±»å‹ï¼Œå½“å‰ç¯èŠ‚æˆåŠŸåä¼šè¿”å›"task_finished"</p><h5 id=base_resp-1>base_resp</h5><p>object</p><p>å¦‚æœè¯·æ±‚å‡ºé”™ï¼Œå¯¹åº”çš„é”™è¯¯çŠ¶æ€ç å’Œè¯¦æƒ…ã€‚</p><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>status_code
int64
çŠ¶æ€ç ã€‚0ï¼Œå‘é€æˆåŠŸï¼›2202ï¼Œéæ³•äº‹ä»¶ã€‚

status_msg
string
çŠ¶æ€è¯¦æƒ…ã€‚</code></pre></div><h4 id=è¿”å›ç¤ºä¾‹-2>è¿”å›ç¤ºä¾‹</h4><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>{
    &#34;session_id&#34;: &#34;xxxx&#34;,
    &#34;event&#34;: &#34;task_finished&#34;,
    &#34;trace_id&#34;: &#34;0303a2882bf18235ae7a809ae0f3cca7&#34;,
    &#34;base_resp&#34;: {
        &#34;status_code&#34;: 0,
        &#34;status_msg&#34;: &#34;success&#34;
    }
}</code></pre></div><h3 id=ä»»åŠ¡å¤±è´¥äº‹ä»¶>â€œä»»åŠ¡å¤±è´¥â€äº‹ä»¶</h3><p>å¦‚æœæ¥æ”¶åˆ°"task_failed"äº‹ä»¶ï¼Œè¡¨ç¤ºä»»åŠ¡å¤±è´¥ã€‚æ­¤æ—¶éœ€è¦å…³é—­WebSocketè¿æ¥å¹¶å¤„ç†é”™è¯¯ã€‚</p><h4 id=è¿”å›responseå‚æ•°-5>è¿”å›(Response)å‚æ•°</h4><h5 id=trace_id-1>trace_id</h5><p>string</p><p>æœ¬æ¬¡ä¼šè¯çš„idã€‚ç”¨äºåœ¨å’¨è¯¢/åé¦ˆæ—¶å¸®åŠ©å®šä½é—®é¢˜ã€‚</p><h5 id=session_id-2>session_id</h5><p>string</p><p>æœ¬æ¬¡sessionçš„idã€‚</p><h5 id=event-7>event</h5><p>string</p><p>è¡¨ç¤ºä¼šè¯ç±»å‹ï¼Œä»»åŠ¡å¤±è´¥ä¼šè¿”å›"task_failed"</p><h5 id=base_resp-2>base_resp</h5><p>object</p><p>å¦‚æœè¯·æ±‚å‡ºé”™ï¼Œå¯¹åº”çš„é”™è¯¯çŠ¶æ€ç å’Œè¯¦æƒ…ã€‚</p><p>å‚æ•°</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>status_code
int64
çŠ¶æ€ç ã€‚1000ï¼ŒæœªçŸ¥é”™è¯¯ï¼›1001ï¼Œè¶…æ—¶ï¼›1002ï¼Œè§¦å‘é™æµï¼›1004ï¼Œé‰´æƒå¤±è´¥ï¼›1039ï¼Œè§¦å‘TPMé™æµï¼›1042ï¼Œéæ³•å­—ç¬¦è¶…è¿‡10%ï¼›2013ï¼Œè¾“å…¥æ ¼å¼ä¿¡æ¯ä¸æ­£å¸¸ï¼› 2201ï¼Œè¶…æ—¶æ–­è¿ã€‚

status_msg
string
çŠ¶æ€è¯¦æƒ…ã€‚</code></pre></div><h4 id=ä»»åŠ¡å¤±è´¥è¿”å›ç¤ºä¾‹>ä»»åŠ¡å¤±è´¥è¿”å›ç¤ºä¾‹</h4><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>{
    &#34;session_id&#34;: &#34;xxxx&#34;,
    &#34;event&#34;: &#34;task_failed&#34;,
    &#34;trace_id&#34;: &#34;0303a2882bf18235ae7a809ae0f3cca7&#34;,
    &#34;base_resp&#34;: {
        &#34;status_code&#34;: 1004,
        &#34;status_msg&#34;: &#34;XXXXXXX&#34;
    }
}</code></pre></div><h3 id=å®Œæ•´ç¤ºä¾‹websocket>å®Œæ•´ç¤ºä¾‹ï¼ˆWebsocketï¼‰</h3><h4 id=websocketè°ƒç”¨ç¤ºä¾‹>Websocketè°ƒç”¨ç¤ºä¾‹</h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> asyncio
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> websockets
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> json
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> ssl
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> pydub <span style=color:#f92672>import</span> AudioSegment  <span style=color:#75715e># æ–°å¢éŸ³é¢‘å¤„ç†åº“</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> pydub.playback <span style=color:#f92672>import</span> play
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> io <span style=color:#f92672>import</span> BytesIO
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>MODULE <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;speech-02-hd&#34;</span>
</span></span><span style=display:flex><span>EMOTION <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;happy&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>establish_connection</span>(api_key):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;å»ºç«‹WebSocketè¿æ¥&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;wss://api.minimax.chat/ws/v1/t2a_v2&#34;</span>
</span></span><span style=display:flex><span>    headers <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;Authorization&#34;</span>: <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Bearer </span><span style=color:#e6db74>{</span>api_key<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    ssl_context <span style=color:#f92672>=</span> ssl<span style=color:#f92672>.</span>create_default_context()
</span></span><span style=display:flex><span>    ssl_context<span style=color:#f92672>.</span>check_hostname <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>    ssl_context<span style=color:#f92672>.</span>verify_mode <span style=color:#f92672>=</span> ssl<span style=color:#f92672>.</span>CERT_NONE
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        ws <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> websockets<span style=color:#f92672>.</span>connect(url, additional_headers<span style=color:#f92672>=</span>headers, ssl<span style=color:#f92672>=</span>ssl_context)
</span></span><span style=display:flex><span>        connected <span style=color:#f92672>=</span> json<span style=color:#f92672>.</span>loads(<span style=color:#66d9ef>await</span> ws<span style=color:#f92672>.</span>recv())
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> connected<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;event&#34;</span>) <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;connected_success&#34;</span>:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;è¿æ¥æˆåŠŸ&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> ws
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>Exception</span> <span style=color:#66d9ef>as</span> e:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;è¿æ¥å¤±è´¥: </span><span style=color:#e6db74>{</span>e<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>start_task</span>(websocket, text):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;å‘é€ä»»åŠ¡å¼€å§‹è¯·æ±‚&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    start_msg <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;event&#34;</span>: <span style=color:#e6db74>&#34;task_start&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;model&#34;</span>: MODULE,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;voice_setting&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;voice_id&#34;</span>: <span style=color:#e6db74>&#34;male-qn-qingse&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;speed&#34;</span>: <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;vol&#34;</span>: <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;pitch&#34;</span>: <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;emotion&#34;</span>: EMOTION
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;audio_setting&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;sample_rate&#34;</span>: <span style=color:#ae81ff>32000</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;bitrate&#34;</span>: <span style=color:#ae81ff>128000</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;format&#34;</span>: <span style=color:#e6db74>&#34;mp3&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;channel&#34;</span>: <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>await</span> websocket<span style=color:#f92672>.</span>send(json<span style=color:#f92672>.</span>dumps(start_msg))
</span></span><span style=display:flex><span>    response <span style=color:#f92672>=</span> json<span style=color:#f92672>.</span>loads(<span style=color:#66d9ef>await</span> websocket<span style=color:#f92672>.</span>recv())
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> response<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;event&#34;</span>) <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;task_started&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>continue_task</span>(websocket, text):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;å‘é€ç»§ç»­è¯·æ±‚å¹¶æ”¶é›†éŸ³é¢‘æ•°æ®&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>await</span> websocket<span style=color:#f92672>.</span>send(json<span style=color:#f92672>.</span>dumps({
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;event&#34;</span>: <span style=color:#e6db74>&#34;task_continue&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;text&#34;</span>: text
</span></span><span style=display:flex><span>    }))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    audio_chunks <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    chunk_counter <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>  <span style=color:#75715e># æ–°å¢åˆ†å—è®¡æ•°å™¨</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>        response <span style=color:#f92672>=</span> json<span style=color:#f92672>.</span>loads(<span style=color:#66d9ef>await</span> websocket<span style=color:#f92672>.</span>recv())
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#34;data&#34;</span> <span style=color:#f92672>in</span> response <span style=color:#f92672>and</span> <span style=color:#e6db74>&#34;audio&#34;</span> <span style=color:#f92672>in</span> response[<span style=color:#e6db74>&#34;data&#34;</span>]:
</span></span><span style=display:flex><span>            audio <span style=color:#f92672>=</span> response[<span style=color:#e6db74>&#34;data&#34;</span>][<span style=color:#e6db74>&#34;audio&#34;</span>]
</span></span><span style=display:flex><span>            <span style=color:#75715e># æ‰“å°ç¼–ç ä¿¡æ¯ï¼ˆå‰20å­—ç¬¦ + æ€»é•¿åº¦ï¼‰</span>
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;éŸ³é¢‘å— #</span><span style=color:#e6db74>{</span>chunk_counter<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;ç¼–ç é•¿åº¦: </span><span style=color:#e6db74>{</span>len(audio)<span style=color:#e6db74>}</span><span style=color:#e6db74> å­—èŠ‚&#34;</span>)
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;å‰20å­—ç¬¦: </span><span style=color:#e6db74>{</span>audio[:<span style=color:#ae81ff>20</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>...&#34;</span>)
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;-&#34;</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>40</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            audio_chunks<span style=color:#f92672>.</span>append(audio)
</span></span><span style=display:flex><span>            chunk_counter <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> response<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;is_final&#34;</span>):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>.</span>join(audio_chunks)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>close_connection</span>(websocket):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;å…³é—­è¿æ¥&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> websocket:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>await</span> websocket<span style=color:#f92672>.</span>send(json<span style=color:#f92672>.</span>dumps({<span style=color:#e6db74>&#34;event&#34;</span>: <span style=color:#e6db74>&#34;task_finish&#34;</span>}))
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>await</span> websocket<span style=color:#f92672>.</span>close()
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;è¿æ¥å·²å…³é—­&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    API_KEY <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;your_api_key_here&#34;</span>
</span></span><span style=display:flex><span>    TEXT <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;è¿™æ˜¯ä¸€ä¸ªç®€åŒ–ç‰ˆçš„è¯­éŸ³åˆæˆç¤ºä¾‹&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    ws <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> establish_connection(API_KEY)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> ws:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> <span style=color:#66d9ef>await</span> start_task(ws, TEXT[:<span style=color:#ae81ff>10</span>]):
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;ä»»åŠ¡å¯åŠ¨å¤±è´¥&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        hex_audio <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> continue_task(ws, TEXT)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Hexè§£ç éŸ³é¢‘æ•°æ®</span>
</span></span><span style=display:flex><span>        audio_bytes <span style=color:#f92672>=</span> bytes<span style=color:#f92672>.</span>fromhex(hex_audio)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># ä¿å­˜ä¸ºMP3æ–‡ä»¶</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#34;output.mp3&#34;</span>, <span style=color:#e6db74>&#34;wb&#34;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>            f<span style=color:#f92672>.</span>write(audio_bytes)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;éŸ³é¢‘å·²ä¿å­˜ä¸ºoutput.mp3&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># ç›´æ¥æ’­æ”¾éŸ³é¢‘ï¼ˆéœ€è¦å®‰è£…pydubå’Œç®€å•éŸ³é¢‘ä¾èµ–ï¼‰</span>
</span></span><span style=display:flex><span>        audio <span style=color:#f92672>=</span> AudioSegment<span style=color:#f92672>.</span>from_file(BytesIO(audio_bytes), format<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mp3&#34;</span>)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;æ­£åœ¨æ’­æ”¾éŸ³é¢‘...&#34;</span>)
</span></span><span style=display:flex><span>        play(audio)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>finally</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>await</span> close_connection(ws)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    asyncio<span style=color:#f92672>.</span>run(main())</span></span></code></pre></div><footer class=footline><i class='fa-fw fas fa-calendar'></i> 2025-05-23</footer></article></div></main></div><aside id=R-sidebar class=default-animation><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><a id=R-logo href=/index.html><img src=/images/logo.png alt="FlitSoft Docs" style=width:80px;height:auto></a></div><search><form action=/search/index.html method=get><div class="searchbox default-animation"><button class=search-detail type=submit title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
<label class=a11y-only for=R-search-by>Search</label>
<input data-search-input id=R-search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div></form></search></div><div id=R-homelinks class=default-animation><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-homelinks"><ul class="space collapsible-menu"></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-headercontrols"><ul></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div></div><div id=R-content-wrapper class=highlightable><div class="R-sidebarmenu R-shortcutmenu-main"><ul class="enlarge morespace collapsible-menu"><li data-nav-id=/uas/index.html><a class=padding href=/uas/index.html>UAS</a><ul id=R-subsections-50d6e18f3c774adcdf96c62beb3fb9ae class=collapsible-menu></ul></li><li data-nav-id=/em/index.html><a class=padding href=/em/index.html>EM</a><ul id=R-subsections-5221d921411ef33ede36c0310590339e class=collapsible-menu></ul></li><li class=parent data-nav-id=/agi/index.html><a class=padding href=/agi/index.html>AGI</a><ul id=R-subsections-b697951847df19851ae8635cac95c15a class=collapsible-menu><li class=active data-nav-id=/agi/t2a-v2/index.html><a class=padding href=/agi/t2a-v2/index.html>MiniMax API æ¥å£æ–‡æ¡£</a></li><li data-nav-id=/agi/why-we-think-ch/index.html><a class=padding href=/agi/why-we-think-ch/index.html>Why We Think</a></li></ul></li><li data-nav-id=/gaming/index.html><a class=padding href=/gaming/index.html>Gaming</a></li><li data-nav-id=/c2/index.html><a class=padding href=/c2/index.html>C2</a></li><li data-nav-id=/simu/index.html><a class=padding href=/simu/index.html>Simulation</a><ul id=R-subsections-80cfed847676c641fa01f11f3f2904bf class=collapsible-menu></ul></li><li data-nav-id=/visual/index.html><a class=padding href=/visual/index.html>Visualization</a></li><li data-nav-id=/log/index.html><a class=padding href=/log/index.html>Log</a><ul id=R-subsections-23c22f75c84b98545748a65894702014 class=collapsible-menu></ul></li></ul></div><div class="R-sidebarmenu R-shortcutmenu-shortcuts"><ul class="space collapsible-menu"></ul></div><div id=R-footer-margin></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-footercontrols"><ul><li class=R-variantswitcher><div class="padding menu-control"><i class="fa-fw fas fa-paint-brush"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-variant>Theme</label>
<select id=R-select-variant><option id=R-select-variant-zen-light value=zen-light selected>Zen Light</option><option id=R-select-variant-zen-dark value=zen-dark>Zen Dark</option></select></div><div class=clear></div></div><script>window.relearn.markVariant()</script></li></ul></div><div id=R-footer><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></aside><script src=/js/clipboard/clipboard.min.js?1748005974 defer></script><script src=/js/perfect-scrollbar/perfect-scrollbar.min.js?1748005974 defer></script><script>window.MathJax=Object.assign(window.MathJax||{},{tex:{inlineMath:[["\\(","\\)"],["$","$"]],displayMath:[["\\[","\\]"],["$$","$$"]]},options:{enableMenu:!1}},JSON.parse("{}"))</script><script id=MathJax-script async src=/js/mathjax/tex-mml-chtml.js?1748005974></script><script src=/js/theme.min.js?1748005974 defer></script></body></html>