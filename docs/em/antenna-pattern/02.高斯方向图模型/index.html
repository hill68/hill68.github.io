<!doctype html><html lang=zh-cn dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.147.3"><meta name=generator content="Relearn 7.6.1+4407b4364ab6f7477f7671fbd20c0494bade40ee"><meta name=description content="This summary is independent of the content."><meta name=author content="ä½ çš„åå­—"><meta name=twitter:card content="summary"><meta name=twitter:title content="é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹ :: FlitSoft Docs"><meta name=twitter:description content="This summary is independent of the content."><meta property="og:url" content="https://hill68.github.io/em/antenna-pattern/02.%E9%AB%98%E6%96%AF%E6%96%B9%E5%90%91%E5%9B%BE%E6%A8%A1%E5%9E%8B/index.html"><meta property="og:site_name" content="FlitSoft Docs"><meta property="og:title" content="é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹ :: FlitSoft Docs"><meta property="og:description" content="This summary is independent of the content."><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="EM"><meta property="article:published_time" content="2025-05-21T15:43:38+08:00"><meta property="article:modified_time" content="2025-05-21T15:43:38+08:00"><meta itemprop=name content="é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹ :: FlitSoft Docs"><meta itemprop=description content="This summary is independent of the content."><meta itemprop=datePublished content="2025-05-21T15:43:38+08:00"><meta itemprop=dateModified content="2025-05-21T15:43:38+08:00"><meta itemprop=wordCount content="1705"><title>é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹ :: FlitSoft Docs</title>
<link href=/images/logo.png?1749302463 rel=icon type=image/png><link href=/fonts/fontawesome/css/fontawesome-all.min.css?1749302463 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/fonts/fontawesome/css/fontawesome-all.min.css?1749302463 rel=stylesheet></noscript><link href=/css/perfect-scrollbar/perfect-scrollbar.min.css?1749302463 rel=stylesheet><link href=/css/theme.min.css?1749302463 rel=stylesheet><link href=/css/format-html.min.css?1749302463 rel=stylesheet id=R-format-style><link href=/css/auto-complete/auto-complete.min.css?1749302463 rel=stylesheet><script src=/js/auto-complete/auto-complete.min.js?1749302463 defer></script><script src=/js/lunr/lunr.min.js?1749302463 defer></script><script src=/js/lunr/lunr.stemmer.support.min.js?1749302463 defer></script><script src=/js/lunr/lunr.multi.min.js?1749302463 defer></script><script src=/js/lunr/lunr.zh.min.js?1749302463 defer></script><script src=/js/search.min.js?1749302463 defer></script><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/em/antenna-pattern/02.%E9%AB%98%E6%96%AF%E6%96%B9%E5%90%91%E5%9B%BE%E6%A8%A1%E5%9E%8B/index.html",window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://hill68.github.io",window.relearn.contentLangs=["zh"],window.relearn.index_js_url="/searchindex.en.js?1749302463",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!1,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.relearn.themevariants=["zen-light","zen-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant(),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/css/custom.css?1749302463 rel=stylesheet></head><body class="mobile-support html" data-url=/em/antenna-pattern/02.%E9%AB%98%E6%96%AF%E6%96%B9%E5%90%91%E5%9B%BE%E6%A8%A1%E5%9E%8B/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#ä¸€é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹>ä¸€ã€é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹</a><ul><li><a href=#é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹çš„æ”¹è¿›å½¢å¼>é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹çš„æ”¹è¿›å½¢å¼</a></li></ul></li><li><a href=#äºŒå¯è§†åŒ–çº¿ä¸Šè®¡ç®—å™¨>äºŒã€å¯è§†åŒ–çº¿ä¸Šè®¡ç®—å™¨</a></li><li><a href=#ä¸‰å‚è€ƒä»£ç >ä¸‰ã€å‚è€ƒä»£ç </a><ul><li><a href=#pythonä»£ç >Pythonä»£ç </a></li><li><a href=#cä»£ç >C++ä»£ç </a></li><li><a href=#ç¤ºä¾‹ä½¿ç”¨åœºæ™¯>ç¤ºä¾‹ä½¿ç”¨åœºæ™¯</a></li></ul></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/index.html><span itemprop=name>FlitSoft Docs</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/em/index.html><span itemprop=name>EM</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/em/antenna-pattern/index.html><span itemprop=name>Antenna Pattern</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹</span><meta itemprop=position content="4"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/em/antenna-pattern/01.%E8%BE%9B%E6%A0%BC%E6%96%B9%E5%90%91%E5%9B%BE%E6%A8%A1%E5%9E%8B/index.html title="è¾›æ ¼æ–¹å‘å›¾æ¨¡å‹ (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/em/comm/index.html title="Communication (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable em" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹>é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹</h1><h2 id=ä¸€é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹>ä¸€ã€é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹</h2><p>é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹æ˜¯ä¸€ç§åŸºäºé«˜æ–¯åˆ†å¸ƒçš„å¤©çº¿æ–¹å‘å›¾ç®€åŒ–æ¨¡å‹ï¼Œé€‚åˆæè¿°å¤©çº¿è¾å°„æ–¹å‘å›¾ä¸­ä¸»ç“£çš„å½¢çŠ¶ã€‚å…¶æ•°å­¦è¡¨è¾¾å¼å¦‚ä¸‹ï¼š</p>$$
G(\theta) = G_{\text{max}} \cdot e^{-k (\frac{\theta}{\theta_{\text{3dB}}})^2}
$$<p><strong>å‚æ•°è¯´æ˜</strong></p><ul><li>$G(\theta)$ï¼šæ–¹å‘ $\theta$ ä¸Šçš„å¤©çº¿å¢ç›Šã€‚</li><li>$G_{\text{max}}$ï¼šä¸»ç“£æœ€å¤§å¢ç›Šï¼Œé€šå¸¸åœ¨ $\theta = 0$ æ—¶å–å€¼ã€‚</li><li>$\theta$ï¼šè§‚å¯Ÿæ–¹å‘ä¸å¤©çº¿ä¸»è½´ï¼ˆé€šå¸¸æ˜¯ä¸»ç“£æ–¹å‘ï¼‰ä¹‹é—´çš„å¤¹è§’ã€‚</li><li>$\theta_{\text{3dB}}$ï¼š3dB æ³¢æŸå®½åº¦ï¼Œå®šä¹‰ä¸ºå¢ç›Šä¸‹é™åˆ°æœ€å¤§å€¼çš„ä¸€åŠæ—¶å¯¹åº”çš„è§’åº¦å®½åº¦ã€‚</li><li>$k$ï¼šæ§åˆ¶æ³¢æŸå½¢çŠ¶çš„ç³»æ•°ï¼Œé€šå¸¸ä¸ $\theta_{\text{3dB}}$ æœ‰å…³ï¼Œå¸¸å–å€¼ä¸º $k = \ln 2$ï¼Œä½¿å¾— $\theta = \theta_{\text{3dB}}$ æ—¶å¢ç›Šä¸‹é™åˆ° $G_{\text{max}} / 2$ã€‚</li></ul><p><strong>ç‰¹æ€§</strong></p><ol><li><p><strong>ä¸»ç“£é›†ä¸­æ€§</strong>ï¼š</p><ul><li>é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹çš„ä¸»ç“£å‘ˆå¯¹ç§°çš„é«˜æ–¯åˆ†å¸ƒï¼Œéšç€è§’åº¦åç¦»ä¸»è½´ï¼Œå¢ç›Šè¿…é€Ÿä¸‹é™ã€‚</li><li>ç”±äºæ¨¡å‹å¿½ç•¥äº†æ—ç“£çš„å½±å“ï¼Œå®ƒé€šå¸¸ç”¨äºå…³æ³¨ä¸»ç“£æ–¹å‘çš„åº”ç”¨åœºæ™¯ã€‚</li></ul></li><li><p><strong>ç®€æ´æ€§</strong>ï¼š</p><ul><li>é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹é€šè¿‡ç®€åŒ–æ—ç“£å’Œå…¶ä»–æ¬¡è¦ç‰¹æ€§ï¼Œæ˜¾è‘—é™ä½äº†è®¡ç®—å¤æ‚åº¦ï¼Œé€‚åˆå¿«é€Ÿä»¿çœŸè®¡ç®—ã€‚</li></ul></li><li><p><strong>å½’ä¸€åŒ–</strong>ï¼š</p><ul><li>ä¸ºäº†ä¾¿äºè®¡ç®—ï¼Œå¯ä»¥å¯¹å¢ç›Šè¿›è¡Œå½’ä¸€åŒ–ï¼Œä½¿å¾— $G(\theta)$ çš„å€¼åœ¨ä¸»ç“£æ–¹å‘å– 1ã€‚</li></ul></li></ol><p><strong>åº”ç”¨åœºæ™¯</strong></p><ul><li><strong>ç”µå­æˆ˜</strong>ï¼šå¿«é€Ÿä¼°è®¡å¤©çº¿ä¸»ç“£æ–¹å‘çš„è¾å°„èƒ½é‡åˆ†å¸ƒï¼Œç”¨äºå¹²æ‰°æˆ–æŠ—å¹²æ‰°è¯„ä¼°ã€‚</li><li><strong>é›·è¾¾å’Œé€šä¿¡</strong>ï¼šå¯¹ä¸»ç“£æ–¹å‘æ€§è¾ƒå¼ºçš„å¤©çº¿è¿›è¡Œå¿«é€Ÿä»¿çœŸã€‚</li><li><strong>æ–¹å‘æ€§ä¼˜åŒ–</strong>ï¼šé€šè¿‡è°ƒæ•´ $\theta_{\text{3dB}}$ å’Œ $k$ å‚æ•°å®ç°ç‰¹å®šçš„æ³¢æŸå®½åº¦å’Œé›†ä¸­æ€§ã€‚</li></ul><p>å¦‚æœéœ€è¦è¿›ä¸€æ­¥æ‰©å±•é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹ä»¥åŒ…æ‹¬æ—ç“£æˆ–å…¶ä»–ç‰¹æ€§ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å åŠ é¢å¤–åˆ†é‡è¿›è¡Œä¿®æ­£ã€‚</p><h3 id=é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹çš„æ”¹è¿›å½¢å¼>é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹çš„æ”¹è¿›å½¢å¼</h3><p>æ”¹è¿›çš„é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹å…¶ç‰¹ç‚¹æ˜¯ç”¨é«˜æ–¯åˆ†å¸ƒæè¿°ä¸»ç“£ï¼ŒåŒæ—¶æä¾›äº†ä¸€ä¸ªå‡½æ•°å½¢å¼ç”¨äºæè¿°ä¸»ç“£ä»¥å¤–çš„æ–¹å‘å›¾ï¼ˆå³æ—ç“£ï¼‰ï¼š</p><p><strong>ä¸»ç“£å…¬å¼</strong></p>$$
f(\theta) = \exp\left(-k \theta^2\right)
$$<ul><li>ä¸»ç“£éƒ¨åˆ†æ˜¯æ ‡å‡†çš„é«˜æ–¯åˆ†å¸ƒå½¢å¼ï¼Œå…¶ä¸­ $k = \frac{4 \ln \sqrt{2}}{\theta_b^2}$ï¼Œç”± $\theta_b$ï¼ˆå•ç¨‹åŠåŠŸç‡ç‚¹æ³¢æŸå®½åº¦ï¼‰æ§åˆ¶ä¸»ç“£çš„å®½åº¦ã€‚</li><li>å‚æ•° $k$ ç¡®ä¿åœ¨ $\theta = \pm \frac{\theta_b}{2}$ æ—¶ï¼Œæ–¹å‘å›¾å¹…åº¦ä¸‹é™åˆ°å…¶å³°å€¼çš„ä¸€åŠï¼ˆå³ 3dB ä¸‹é™ç‚¹ï¼‰ã€‚</li></ul><p><strong>ä¸»ç“£ä»¥å¤–çš„æ–¹å‘å›¾</strong></p>$$
f(\theta) = \frac{(1 + \cos \theta) \sin(k \sin(\theta))}{2k \sin(\theta)}
$$<ul><li>è¿™ä¸€éƒ¨åˆ†ç”¨äºæè¿°ä¸»ç“£ä»¥å¤–ï¼ˆæ—ç“£ï¼‰çš„æ–¹å‘å›¾ç‰¹æ€§ã€‚</li><li>$k = \frac{1.3916}{\sin(0.5\theta_b)}$ æ˜¯æ ¹æ®æ³¢æŸå®½åº¦ $\theta_b$ ç¡®å®šçš„å¸¸æ•°ã€‚</li><li>åˆ†æ¯ $\sin(\theta)$ å’Œåˆ†å­çš„ $\sin(k \sin(\theta))$ æè¿°äº†æ—ç“£çš„æŒ¯è¡ç‰¹æ€§ï¼Œæ—ç“£éš $\theta$ å¢åŠ å‘ˆå‘¨æœŸæ€§å˜åŒ–ã€‚</li></ul><p><strong>æ¨¡å‹åˆ†æ</strong></p><ol><li><p><strong>ä¸»ç“£éƒ¨åˆ†</strong>ï¼š</p><ul><li>ä¸ä¼ ç»Ÿé«˜æ–¯æ–¹å‘å›¾æ¨¡å‹ç›¸ç¬¦ï¼Œç”¨é«˜æ–¯å‡½æ•°æ¥ç²¾ç¡®æè¿°ä¸»ç“£æ–¹å‘çš„è¾å°„åˆ†å¸ƒã€‚</li><li>é€šè¿‡å‚æ•° $k$ å’Œ $\theta_b$ æ§åˆ¶ä¸»ç“£çš„å®½åº¦å’Œå¢ç›Šè¡°å‡é€Ÿç‡ã€‚</li></ul></li><li><p><strong>æ—ç“£éƒ¨åˆ†</strong>ï¼š</p><ul><li>æ—ç“£æè¿°ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªåˆ†æ®µå‡½æ•°ï¼Œä½“ç°äº†è¾å°„èƒ½é‡çš„è¡°å‡å’Œåˆ†å¸ƒã€‚</li><li>$(1 + \cos \theta)$ é¡¹å¢å¼ºäº†ä¸»ç“£é™„è¿‘çš„æ—ç“£å¹…åº¦ï¼Œè€Œ $k$ çš„å¼•å…¥ç¡®ä¿æ—ç“£å¹…åº¦çš„é€‚å½“æŠ‘åˆ¶ã€‚</li></ul></li><li><p><strong>æ˜¯å¦ä¸ºé«˜æ–¯æ–¹å‘å›¾æ¨¡å‹</strong>ï¼š</p><ul><li>è¿™ä¸ªæ¨¡å‹ä¸»ç“£éƒ¨åˆ†ä¸¥æ ¼æ»¡è¶³é«˜æ–¯åˆ†å¸ƒï¼Œå¯ä»¥è§†ä¸ºé«˜æ–¯æ–¹å‘å›¾æ¨¡å‹ã€‚</li><li>å¢åŠ äº†æ—ç“£æè¿°çš„æ‰©å±•éƒ¨åˆ†ï¼Œå› æ­¤å¯ä»¥è®¤ä¸ºå®ƒæ˜¯ <strong>ä¸€ç§æ”¹è¿›çš„é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹</strong>ï¼Œåœ¨å®é™…åº”ç”¨ä¸­æ›´æ¥è¿‘å®é™…å¤©çº¿çš„è¾å°„ç‰¹æ€§ã€‚</li></ul></li></ol><p><strong>é€‚ç”¨åœºæ™¯</strong></p><p>è¿™ç§æ¨¡å‹åœ¨éœ€è¦å¯¹ä¸»ç“£ç²¾ç¡®å»ºæ¨¡å¹¶åŒæ—¶è€ƒè™‘æ—ç“£å¯¹ç³»ç»Ÿæ€§èƒ½å½±å“çš„åœºæ™¯ä¸­éå¸¸é€‚ç”¨ï¼Œä¾‹å¦‚ï¼š</p><ul><li>ç”µå­æˆ˜ä¸­çš„æ–¹å‘å›¾å¹²æ‰°ä»¿çœŸã€‚</li><li>é›·è¾¾ç³»ç»Ÿå¯¹ç›®æ ‡ä¿¡å·ä¸»ç“£å’Œæ—ç“£çš„èƒ½é‡åˆ†å¸ƒåˆ†æã€‚</li><li>æ— çº¿é€šä¿¡ä¸­çš„æ³¢æŸå½¢æˆä¼˜åŒ–ã€‚</li></ul><h2 id=äºŒå¯è§†åŒ–çº¿ä¸Šè®¡ç®—å™¨>äºŒã€å¯è§†åŒ–çº¿ä¸Šè®¡ç®—å™¨</h2><p><a href=https://claude.site/artifacts/917d549d-d142-4c69-95dc-7a8e4ad48997 rel=external target=_blank>https://claude.site/artifacts/917d549d-d142-4c69-95dc-7a8e4ad48997</a></p><p>è¿™ä¸ªäº¤äº’å¼çš„Reactç»„ä»¶ï¼Œå¯ä»¥è®©ç”¨æˆ·è°ƒæ•´å‚æ•°å¹¶å®æ—¶æŸ¥çœ‹æ”¹è¿›å‹é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹çš„å˜åŒ–ã€‚</p><img src=https://cdn.mathpix.com/snip/images/3T7mvHRp0hiEhRUiqZL-663tzCAldtSvEoAU36OZTK0.original.fullsize.png width=500/>
<img src=https://cdn.mathpix.com/snip/images/llh1UOwtc8686AbntL-Sy-1krr7FLVfKNWH5NSXGuM0.original.fullsize.png width=500/><p><strong>è®¡ç®—å™¨ä»£ç ï¼š</strong></p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>React</span>, { <span style=color:#a6e22e>useState</span>, <span style=color:#a6e22e>useCallback</span>, <span style=color:#a6e22e>useEffect</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>LineChart</span>, <span style=color:#a6e22e>Line</span>, <span style=color:#a6e22e>XAxis</span>, <span style=color:#a6e22e>YAxis</span>, <span style=color:#a6e22e>CartesianGrid</span>, <span style=color:#a6e22e>Tooltip</span>, <span style=color:#a6e22e>Legend</span>, <span style=color:#a6e22e>ResponsiveContainer</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;recharts&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Card</span>, <span style=color:#a6e22e>CardContent</span>, <span style=color:#a6e22e>CardHeader</span>, <span style=color:#a6e22e>CardTitle</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;@/components/ui/card&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Slider</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;@/components/ui/slider&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Label</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;@/components/ui/label&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Button</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;@/components/ui/button&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Input</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;@/components/ui/input&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Switch</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;@/components/ui/switch&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Calculator</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;lucide-react&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>GaussianBeamCalculator</span> <span style=color:#f92672>=</span> () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// çŠ¶æ€ç®¡ç†
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>thetaB</span>, <span style=color:#a6e22e>setThetaB</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>10</span>); <span style=color:#75715e>// æ³¢æŸå®½åº¦ï¼ˆåº¦ï¼‰
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>plotRange</span>, <span style=color:#a6e22e>setPlotRange</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>90</span>); <span style=color:#75715e>// ç»˜å›¾èŒƒå›´ï¼ˆåº¦ï¼‰
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>resolution</span>, <span style=color:#a6e22e>setResolution</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>360</span>); <span style=color:#75715e>// æ•°æ®ç‚¹æ•°é‡
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>patternData</span>, <span style=color:#a6e22e>setPatternData</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>([]); <span style=color:#75715e>// æ–¹å‘å›¾æ•°æ®
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>kMain</span>, <span style=color:#a6e22e>setKMain</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>0</span>); <span style=color:#75715e>// ä¸»ç“£kå‚æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>kSide</span>, <span style=color:#a6e22e>setKSide</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>0</span>); <span style=color:#75715e>// æ—ç“£kå‚æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>manualK</span>, <span style=color:#a6e22e>setManualK</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#66d9ef>false</span>); <span style=color:#75715e>// æ˜¯å¦æ‰‹åŠ¨è®¾ç½®Kå‚æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>manualKMain</span>, <span style=color:#a6e22e>setManualKMain</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#e6db74>&#39;0&#39;</span>); <span style=color:#75715e>// æ‰‹åŠ¨è¾“å…¥çš„ä¸»ç“£kå‚æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>manualKSide</span>, <span style=color:#a6e22e>setManualKSide</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#e6db74>&#39;0&#39;</span>); <span style=color:#75715e>// æ‰‹åŠ¨è¾“å…¥çš„æ—ç“£kå‚æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// è‡ªåŠ¨è®¡ç®—Kå‚æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>calculateKParameters</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useCallback</span>(() <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>thetaBRad</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>thetaB</span> <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>PI</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>180</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>newKMain</span> <span style=color:#f92672>=</span> (<span style=color:#ae81ff>4</span> <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>log</span>(Math.<span style=color:#a6e22e>sqrt</span>(<span style=color:#ae81ff>2</span>))) <span style=color:#f92672>/</span> (<span style=color:#a6e22e>thetaBRad</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>thetaBRad</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>newKSide</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.3916</span> <span style=color:#f92672>/</span> Math.<span style=color:#a6e22e>sin</span>(<span style=color:#ae81ff>0.5</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>thetaBRad</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> { <span style=color:#a6e22e>kMain</span>: <span style=color:#66d9ef>newKMain</span>, <span style=color:#a6e22e>kSide</span>: <span style=color:#66d9ef>newKSide</span> };
</span></span><span style=display:flex><span>  }, [<span style=color:#a6e22e>thetaB</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// æ›´æ–°Kå‚æ•°ï¼ˆè€ƒè™‘æ‰‹åŠ¨/è‡ªåŠ¨æ¨¡å¼ï¼‰
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>updateKParameters</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useCallback</span>(() <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>manualK</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>setKMain</span>(parseFloat(<span style=color:#a6e22e>manualKMain</span>) <span style=color:#f92672>||</span> <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>setKSide</span>(parseFloat(<span style=color:#a6e22e>manualKSide</span>) <span style=color:#f92672>||</span> <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>kMain</span>: <span style=color:#66d9ef>newKMain</span>, <span style=color:#a6e22e>kSide</span>: <span style=color:#66d9ef>newKSide</span> } <span style=color:#f92672>=</span> <span style=color:#a6e22e>calculateKParameters</span>();
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>setKMain</span>(<span style=color:#a6e22e>newKMain</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>setKSide</span>(<span style=color:#a6e22e>newKSide</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>setManualKMain</span>(<span style=color:#a6e22e>newKMain</span>.<span style=color:#a6e22e>toFixed</span>(<span style=color:#ae81ff>4</span>));
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>setManualKSide</span>(<span style=color:#a6e22e>newKSide</span>.<span style=color:#a6e22e>toFixed</span>(<span style=color:#ae81ff>4</span>));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }, [<span style=color:#a6e22e>manualK</span>, <span style=color:#a6e22e>manualKMain</span>, <span style=color:#a6e22e>manualKSide</span>, <span style=color:#a6e22e>calculateKParameters</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// è®¡ç®—æ–¹å‘å›¾æ•°æ®
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>calculatePattern</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useCallback</span>(() <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>updateKParameters</span>();
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>step</span> <span style=color:#f92672>=</span> (<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>plotRange</span>) <span style=color:#f92672>/</span> (<span style=color:#a6e22e>resolution</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>currentKMain</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>manualK</span> <span style=color:#f92672>?</span> parseFloat(<span style=color:#a6e22e>manualKMain</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>kMain</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>currentKSide</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>manualK</span> <span style=color:#f92672>?</span> parseFloat(<span style=color:#a6e22e>manualKSide</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>kSide</span>;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>theta</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>plotRange</span>; <span style=color:#a6e22e>theta</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>plotRange</span>; <span style=color:#a6e22e>theta</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>step</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>thetaRad</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>theta</span> <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>PI</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>180</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>thetaBHalf</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>thetaB</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isMainLobe</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>abs</span>(<span style=color:#a6e22e>theta</span>) <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>thetaBHalf</span>;
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>amplitude</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>isMainLobe</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>amplitude</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>exp</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>currentKMain</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>thetaRad</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>thetaRad</span>);
</span></span><span style=display:flex><span>      } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (Math.<span style=color:#a6e22e>abs</span>(<span style=color:#a6e22e>thetaRad</span>) <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1</span><span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>) {
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>amplitude</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>amplitude</span> <span style=color:#f92672>=</span> ((<span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>thetaRad</span>)) <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>currentKSide</span> <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>thetaRad</span>))) <span style=color:#f92672>/</span> 
</span></span><span style=display:flex><span>                     (<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>currentKSide</span> <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>thetaRad</span>));
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>amplitudeDB</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span> <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>log10</span>(Math.<span style=color:#a6e22e>abs</span>(<span style=color:#a6e22e>amplitude</span>));
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>normalizedDB</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>amplitudeDB</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>normalizedDB</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>60</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>push</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>theta</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>amplitude</span>: <span style=color:#66d9ef>normalizedDB</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>r</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x</span>: <span style=color:#66d9ef>r</span> <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>thetaRad</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>y</span>: <span style=color:#66d9ef>r</span> <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>thetaRad</span>)
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>setPatternData</span>(<span style=color:#a6e22e>data</span>);
</span></span><span style=display:flex><span>  }, [<span style=color:#a6e22e>thetaB</span>, <span style=color:#a6e22e>plotRange</span>, <span style=color:#a6e22e>resolution</span>, <span style=color:#a6e22e>kMain</span>, <span style=color:#a6e22e>kSide</span>, <span style=color:#a6e22e>manualK</span>, <span style=color:#a6e22e>manualKMain</span>, <span style=color:#a6e22e>manualKSide</span>, <span style=color:#a6e22e>updateKParameters</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// é¦–æ¬¡åŠ è½½æ—¶è®¡ç®—åˆå§‹æ•°æ®
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>useEffect</span>(() <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>calculatePattern</span>();
</span></span><span style=display:flex><span>  }, []);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// å¤„ç†æ‰‹åŠ¨/è‡ªåŠ¨æ¨¡å¼åˆ‡æ¢
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>handleModeToggle</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>checked</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>setManualK</span>(<span style=color:#a6e22e>checked</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>checked</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>kMain</span>: <span style=color:#66d9ef>newKMain</span>, <span style=color:#a6e22e>kSide</span>: <span style=color:#66d9ef>newKSide</span> } <span style=color:#f92672>=</span> <span style=color:#a6e22e>calculateKParameters</span>();
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>setManualKMain</span>(<span style=color:#a6e22e>newKMain</span>.<span style=color:#a6e22e>toFixed</span>(<span style=color:#ae81ff>4</span>));
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>setManualKSide</span>(<span style=color:#a6e22e>newKSide</span>.<span style=color:#a6e22e>toFixed</span>(<span style=color:#ae81ff>4</span>));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// è‡ªå®šä¹‰æåæ ‡å›¾ç»„ä»¶ï¼ˆä¸ä¹‹å‰ç›¸åŒï¼‰
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>PolarPattern</span> <span style=color:#f92672>=</span> ({ <span style=color:#a6e22e>data</span> }) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>data</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>div</span>&gt;<span style=color:#a6e22e>Loading</span>...&lt;/<span style=color:#f92672>div</span>&gt;;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>svg</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;w-full h-full&#34;</span> <span style=color:#a6e22e>viewBox</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;-70 -70 140 140&#34;</span>&gt;
</span></span><span style=display:flex><span>        {<span style=color:#75715e>/* ç»˜åˆ¶åŒå¿ƒåœ† */</span>}
</span></span><span style=display:flex><span>        {[<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>45</span>, <span style=color:#ae81ff>60</span>].<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>i</span>) <span style=color:#f92672>=&gt;</span> (
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>circle</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>i</span>}
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>cx</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>cy</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>r</span>}
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>fill</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;none&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>stroke</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#ddd&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>strokeWidth</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0.5&#34;</span>
</span></span><span style=display:flex><span>          /&gt;
</span></span><span style=display:flex><span>        ))}
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        {<span style=color:#75715e>/* ç»˜åˆ¶è§’åº¦çº¿ */</span>}
</span></span><span style=display:flex><span>        {[<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>60</span>, <span style=color:#ae81ff>90</span>, <span style=color:#ae81ff>120</span>, <span style=color:#ae81ff>150</span>, <span style=color:#ae81ff>180</span>, <span style=color:#ae81ff>210</span>, <span style=color:#ae81ff>240</span>, <span style=color:#ae81ff>270</span>, <span style=color:#ae81ff>300</span>, <span style=color:#ae81ff>330</span>].<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>angle</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>radians</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>angle</span> <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>PI</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>180</span>;
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>line</span>
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>angle</span>}
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>x1</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0&#34;</span>
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>y1</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0&#34;</span>
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>x2</span><span style=color:#f92672>=</span>{<span style=color:#ae81ff>60</span> <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>radians</span>)}
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>y2</span><span style=color:#f92672>=</span>{<span style=color:#ae81ff>60</span> <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>radians</span>)}
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>stroke</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#ddd&#34;</span>
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>strokeWidth</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0.5&#34;</span>
</span></span><span style=display:flex><span>            /&gt;
</span></span><span style=display:flex><span>          );
</span></span><span style=display:flex><span>        })}
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        {<span style=color:#75715e>/* ç»˜åˆ¶æ–¹å‘å›¾æ›²çº¿ */</span>}
</span></span><span style=display:flex><span>        {<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> (
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>path</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>d</span><span style=color:#f92672>=</span>{<span style=color:#e6db74>`M </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>data</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span><span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>data</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span><span style=color:#e6db74>}</span><span style=color:#e6db74> `</span> <span style=color:#f92672>+</span> 
</span></span><span style=display:flex><span>               <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>p</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>`L </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>x</span><span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>y</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39; &#39;</span>)}
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>fill</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;none&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>stroke</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#2563eb&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>strokeWidth</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1&#34;</span>
</span></span><span style=display:flex><span>          /&gt;
</span></span><span style=display:flex><span>        )}
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        {<span style=color:#75715e>/* æ·»åŠ åˆ»åº¦æ ‡ç­¾ */</span>}
</span></span><span style=display:flex><span>        {[<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>20</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>40</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>60</span>].<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>db</span>, <span style=color:#a6e22e>i</span>) <span style=color:#f92672>=&gt;</span> (
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>text</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>i</span>}
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;2&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>y</span><span style=color:#f92672>=</span>{<span style=color:#f92672>-</span><span style=color:#ae81ff>15</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2</span>}
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>fontSize</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;4&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>fill</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#666&#34;</span>
</span></span><span style=display:flex><span>          &gt;
</span></span><span style=display:flex><span>            {<span style=color:#a6e22e>db</span>}<span style=color:#a6e22e>dB</span>
</span></span><span style=display:flex><span>          &lt;/<span style=color:#f92672>text</span>&gt;
</span></span><span style=display:flex><span>        ))}
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        {<span style=color:#75715e>/* æ·»åŠ è§’åº¦æ ‡ç­¾ */</span>}
</span></span><span style=display:flex><span>        {[<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>90</span>, <span style=color:#ae81ff>180</span>, <span style=color:#ae81ff>270</span>].<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>angle</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>radians</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>angle</span> <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>PI</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>180</span>;
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>text</span>
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>angle</span>}
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>x</span><span style=color:#f92672>=</span>{<span style=color:#ae81ff>65</span> <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>radians</span>)}
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>y</span><span style=color:#f92672>=</span>{<span style=color:#ae81ff>65</span> <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>radians</span>)}
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>fontSize</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;4&#34;</span>
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>fill</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#666&#34;</span>
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>textAnchor</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;middle&#34;</span>
</span></span><span style=display:flex><span>            &gt;
</span></span><span style=display:flex><span>              {<span style=color:#a6e22e>angle</span>}<span style=color:#960050;background-color:#1e0010>Â°</span>
</span></span><span style=display:flex><span>            &lt;/<span style=color:#f92672>text</span>&gt;
</span></span><span style=display:flex><span>          );
</span></span><span style=display:flex><span>        })}
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>svg</span>&gt;
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>Card</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;w-full max-w-4xl&#34;</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>CardHeader</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>CardTitle</span>&gt;<span style=color:#960050;background-color:#1e0010>æ”¹è¿›å‹é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹è®¡ç®—å™¨</span>&lt;/<span style=color:#f92672>CardTitle</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>CardHeader</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>CardContent</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;space-y-6&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;space-y-4&#34;</span>&gt;
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;space-y-2&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>Label</span>&gt;<span style=color:#960050;background-color:#1e0010>æ³¢æŸå®½åº¦</span> <span style=color:#960050;background-color:#1e0010>Î¸</span><span style=color:#a6e22e>b</span> (<span style=color:#960050;background-color:#1e0010>åº¦</span>)&lt;/<span style=color:#f92672>Label</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;flex items-center space-x-4&#34;</span>&gt;
</span></span><span style=display:flex><span>              &lt;<span style=color:#f92672>Slider</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{[<span style=color:#a6e22e>thetaB</span>]}
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>onValueChange</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>value</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>setThetaB</span>(<span style=color:#a6e22e>value</span>[<span style=color:#ae81ff>0</span>])}
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>min</span><span style=color:#f92672>=</span>{<span style=color:#ae81ff>1</span>}
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>max</span><span style=color:#f92672>=</span>{<span style=color:#ae81ff>30</span>}
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>step</span><span style=color:#f92672>=</span>{<span style=color:#ae81ff>0.5</span>}
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;flex-1&#34;</span>
</span></span><span style=display:flex><span>              /&gt;
</span></span><span style=display:flex><span>              &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;w-12 text-right&#34;</span>&gt;{<span style=color:#a6e22e>thetaB</span>}<span style=color:#960050;background-color:#1e0010>Â°</span>&lt;/<span style=color:#f92672>span</span>&gt;
</span></span><span style=display:flex><span>            &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>          &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>          
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;space-y-2&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>Label</span>&gt;<span style=color:#960050;background-color:#1e0010>ç»˜å›¾èŒƒå›´</span> (<span style=color:#960050;background-color:#1e0010>Â±åº¦</span>)&lt;/<span style=color:#f92672>Label</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;flex items-center space-x-4&#34;</span>&gt;
</span></span><span style=display:flex><span>              &lt;<span style=color:#f92672>Slider</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{[<span style=color:#a6e22e>plotRange</span>]}
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>onValueChange</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>value</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>setPlotRange</span>(<span style=color:#a6e22e>value</span>[<span style=color:#ae81ff>0</span>])}
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>min</span><span style=color:#f92672>=</span>{<span style=color:#ae81ff>30</span>}
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>max</span><span style=color:#f92672>=</span>{<span style=color:#ae81ff>180</span>}
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>step</span><span style=color:#f92672>=</span>{<span style=color:#ae81ff>10</span>}
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;flex-1&#34;</span>
</span></span><span style=display:flex><span>              /&gt;
</span></span><span style=display:flex><span>              &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;w-12 text-right&#34;</span>&gt;<span style=color:#960050;background-color:#1e0010>Â±</span>{<span style=color:#a6e22e>plotRange</span>}<span style=color:#960050;background-color:#1e0010>Â°</span>&lt;/<span style=color:#f92672>span</span>&gt;
</span></span><span style=display:flex><span>            &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>          &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;space-y-2&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;flex items-center justify-between&#34;</span>&gt;
</span></span><span style=display:flex><span>              &lt;<span style=color:#f92672>Label</span>&gt;<span style=color:#960050;background-color:#1e0010>æ‰‹åŠ¨è®¾ç½®</span><span style=color:#a6e22e>Kå‚æ•°</span>&lt;/<span style=color:#f92672>Label</span>&gt;
</span></span><span style=display:flex><span>              &lt;<span style=color:#f92672>Switch</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>checked</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>manualK</span>}
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>onCheckedChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>handleModeToggle</span>}
</span></span><span style=display:flex><span>              /&gt;
</span></span><span style=display:flex><span>            &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>            {<span style=color:#a6e22e>manualK</span> <span style=color:#f92672>&amp;&amp;</span> (
</span></span><span style=display:flex><span>              &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;grid grid-cols-2 gap-4&#34;</span>&gt;
</span></span><span style=display:flex><span>                &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;space-y-2&#34;</span>&gt;
</span></span><span style=display:flex><span>                  &lt;<span style=color:#f92672>Label</span>&gt;<span style=color:#960050;background-color:#1e0010>ä¸»ç“£</span><span style=color:#a6e22e>kå‚æ•°</span>&lt;/<span style=color:#f92672>Label</span>&gt;
</span></span><span style=display:flex><span>                  &lt;<span style=color:#f92672>Input</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;number&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>manualKMain</span>}
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>setManualKMain</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>value</span>)}
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>step</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0.0001&#34;</span>
</span></span><span style=display:flex><span>                  /&gt;
</span></span><span style=display:flex><span>                &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>                &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;space-y-2&#34;</span>&gt;
</span></span><span style=display:flex><span>                  &lt;<span style=color:#f92672>Label</span>&gt;<span style=color:#960050;background-color:#1e0010>æ—ç“£</span><span style=color:#a6e22e>kå‚æ•°</span>&lt;/<span style=color:#f92672>Label</span>&gt;
</span></span><span style=display:flex><span>                  &lt;<span style=color:#f92672>Input</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;number&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>manualKSide</span>}
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>setManualKSide</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>value</span>)}
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>step</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0.0001&#34;</span>
</span></span><span style=display:flex><span>                  /&gt;
</span></span><span style=display:flex><span>                &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>              &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>            )}
</span></span><span style=display:flex><span>          &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>Button</span> 
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>calculatePattern</span>}
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;w-full&#34;</span>
</span></span><span style=display:flex><span>          &gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>Calculator</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mr-2 h-4 w-4&#34;</span> /&gt;
</span></span><span style=display:flex><span>            <span style=color:#960050;background-color:#1e0010>è®¡ç®—æ–¹å‘å›¾</span>
</span></span><span style=display:flex><span>          &lt;/<span style=color:#f92672>Button</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;grid grid-cols-1 md:grid-cols-2 gap-4&#34;</span>&gt;
</span></span><span style=display:flex><span>          {<span style=color:#75715e>/* ç›´è§’åæ ‡å›¾ */</span>}
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h-96&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>Label</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mb-2 block&#34;</span>&gt;<span style=color:#960050;background-color:#1e0010>ç›´è§’åæ ‡æ˜¾ç¤º</span>&lt;/<span style=color:#f92672>Label</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>ResponsiveContainer</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;100%&#34;</span> <span style=color:#a6e22e>height</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;100%&#34;</span>&gt;
</span></span><span style=display:flex><span>              &lt;<span style=color:#f92672>LineChart</span> <span style=color:#a6e22e>data</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>patternData</span>}&gt;
</span></span><span style=display:flex><span>                &lt;<span style=color:#f92672>CartesianGrid</span> <span style=color:#a6e22e>strokeDasharray</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;3 3&#34;</span> /&gt;
</span></span><span style=display:flex><span>                &lt;<span style=color:#f92672>XAxis</span> 
</span></span><span style=display:flex><span>                  <span style=color:#a6e22e>dataKey</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;theta&#34;</span> 
</span></span><span style=display:flex><span>                  <span style=color:#a6e22e>label</span><span style=color:#f92672>=</span>{{ <span style=color:#a6e22e>value</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;è§’åº¦ (åº¦)&#39;</span>, <span style=color:#a6e22e>position</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;bottom&#39;</span> }}
</span></span><span style=display:flex><span>                /&gt;
</span></span><span style=display:flex><span>                &lt;<span style=color:#f92672>YAxis</span> 
</span></span><span style=display:flex><span>                  <span style=color:#a6e22e>domain</span><span style=color:#f92672>=</span>{[<span style=color:#f92672>-</span><span style=color:#ae81ff>60</span>, <span style=color:#ae81ff>5</span>]} 
</span></span><span style=display:flex><span>                  <span style=color:#a6e22e>label</span><span style=color:#f92672>=</span>{{ <span style=color:#a6e22e>value</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;å¹…åº¦ (dB)&#39;</span>, <span style=color:#a6e22e>angle</span><span style=color:#f92672>:</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>90</span>, <span style=color:#a6e22e>position</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;left&#39;</span> }}
</span></span><span style=display:flex><span>                /&gt;
</span></span><span style=display:flex><span>                &lt;<span style=color:#f92672>Tooltip</span> 
</span></span><span style=display:flex><span>                  <span style=color:#a6e22e>formatter</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>value</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>value</span>.<span style=color:#a6e22e>toFixed</span>(<span style=color:#ae81ff>2</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74> dB`</span>}
</span></span><span style=display:flex><span>                  <span style=color:#a6e22e>labelFormatter</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>label</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>label</span><span style=color:#e6db74>}</span><span style=color:#e6db74>Â°`</span>}
</span></span><span style=display:flex><span>                /&gt;
</span></span><span style=display:flex><span>                &lt;<span style=color:#f92672>Legend</span> /&gt;
</span></span><span style=display:flex><span>                &lt;<span style=color:#f92672>Line</span> 
</span></span><span style=display:flex><span>                  <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;monotone&#34;</span> 
</span></span><span style=display:flex><span>                  <span style=color:#a6e22e>dataKey</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;amplitude&#34;</span> 
</span></span><span style=display:flex><span>                  <span style=color:#a6e22e>stroke</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#2563eb&#34;</span> 
</span></span><span style=display:flex><span>                  <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;æ–¹å‘å›¾&#34;</span>
</span></span><span style=display:flex><span>                  <span style=color:#a6e22e>dot</span><span style=color:#f92672>=</span>{<span style=color:#66d9ef>false</span>}
</span></span><span style=display:flex><span>                /&gt;
</span></span><span style=display:flex><span>              &lt;/<span style=color:#f92672>LineChart</span>&gt;
</span></span><span style=display:flex><span>            &lt;/<span style=color:#f92672>ResponsiveContainer</span>&gt;
</span></span><span style=display:flex><span>          &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          {<span style=color:#75715e>/* æåæ ‡å›¾ */</span>}
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h-96&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>Label</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mb-2 block&#34;</span>&gt;<span style=color:#960050;background-color:#1e0010>æåæ ‡æ˜¾ç¤º</span>&lt;/<span style=color:#f92672>Label</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;w-full h-full&#34;</span>&gt;
</span></span><span style=display:flex><span>              &lt;<span style=color:#f92672>PolarPattern</span> <span style=color:#a6e22e>data</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>patternData</span>} /&gt;
</span></span><span style=display:flex><span>            &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>          &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text-sm space-y-2&#34;</span>&gt;
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>p</span>&gt;<span style=color:#960050;background-color:#1e0010>ä¸»ç“£</span><span style=color:#a6e22e>kå‚æ•°</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>kMain</span>.<span style=color:#a6e22e>toFixed</span>(<span style=color:#ae81ff>4</span>)}&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>p</span>&gt;<span style=color:#960050;background-color:#1e0010>æ—ç“£</span><span style=color:#a6e22e>kå‚æ•°</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>kSide</span>.<span style=color:#a6e22e>toFixed</span>(<span style=color:#ae81ff>4</span>)}&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>p</span>&gt;<span style=color:#ae81ff>3</span><span style=color:#a6e22e>dBæ³¢æŸå®½åº¦</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>thetaB</span>}<span style=color:#960050;background-color:#1e0010>Â°</span>&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>CardContent</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>Card</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>GaussianBeamCalculator</span>;</span></span></code></pre></div><p>è¿™ä¸ªäº¤äº’å¼çš„é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹è®¡ç®—å™¨å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ol><li><p><strong>å‚æ•°æ§åˆ¶</strong>ï¼š</p><ul><li>æ³¢æŸå®½åº¦(Î¸b)æ»‘å—ï¼šå¯è°ƒèŒƒå›´1Â°-30Â°</li><li>ç»˜å›¾èŒƒå›´æ»‘å—ï¼šå¯è°ƒèŒƒå›´Â±30Â°åˆ°Â±180Â°</li><li>å®æ—¶æ›´æ–°çš„å‚æ•°æ˜¾ç¤º</li></ul></li><li><p><strong>å¯è§†åŒ–åŠŸèƒ½</strong>ï¼š</p><ul><li>å“åº”å¼å›¾è¡¨æ˜¾ç¤º</li><li>è‡ªåŠ¨ç¼©æ”¾çš„åæ ‡è½´</li><li>ç½‘æ ¼çº¿ä¾¿äºè¯»æ•°</li><li>é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºå…·ä½“æ•°å€¼</li><li>Yè½´èŒƒå›´é™åˆ¶åœ¨-60dBåˆ°5dB</li></ul></li><li><p><strong>è®¡ç®—ç‰¹æ€§</strong>ï¼š</p><ul><li>å®æ—¶è®¡ç®—ä¸»ç“£å’Œæ—ç“£å‚æ•°</li><li>è‡ªåŠ¨å¤„ç†ä¸´ç•Œå€¼</li><li>å¹³æ»‘çš„æ›²çº¿æ˜¾ç¤º</li><li>æ˜¾ç¤ºå…³é”®å‚æ•°å€¼ï¼ˆkå‚æ•°ç­‰ï¼‰</li></ul></li><li><p><strong>ä½¿ç”¨è¯´æ˜</strong>ï¼š</p><ul><li>æ‹–åŠ¨æ»‘å—æ¥è°ƒæ•´æ³¢æŸå®½åº¦å’Œæ˜¾ç¤ºèŒƒå›´</li><li>å›¾è¡¨ä¼šå®æ—¶æ›´æ–°æ˜¾ç¤ºæ–°çš„æ–¹å‘å›¾</li><li>å°†é¼ æ ‡æ‚¬åœåœ¨æ›²çº¿ä¸Šå¯ä»¥æŸ¥çœ‹å…·ä½“æ•°å€¼</li><li>åº•éƒ¨æ˜¾ç¤ºå½“å‰çš„è®¡ç®—å‚æ•°</li></ul></li></ol><p>è¿™ä¸ªè®¡ç®—å™¨ä½¿ç”¨äº†ç°ä»£çš„Reactç»„ä»¶å’Œhooksï¼Œé‡‡ç”¨äº†ä¼˜åŒ–çš„è®¡ç®—æ–¹æ³•ï¼Œå¯ä»¥æµç•…åœ°è¿›è¡Œå®æ—¶è®¡ç®—å’Œæ˜¾ç¤ºã€‚ä½¿ç”¨äº†shadcn/uiç»„ä»¶åº“æ¥æä¾›ç»Ÿä¸€çš„UIé£æ ¼ã€‚</p><p>ä¸»ç“£å’Œæ—ç“£çš„Kå‚æ•°å¯ä»¥æ‰‹åŠ¨è¾“å…¥ï¼ŒåŒæ—¶ä¿æŒåŸæœ‰çš„è‡ªåŠ¨è®¡ç®—åŠŸèƒ½ã€‚</p><ol><li><p><strong>Kå‚æ•°æ§åˆ¶æ¨¡å¼</strong>ï¼š</p><ul><li>æ·»åŠ äº†åˆ‡æ¢å¼€å…³ï¼Œå¯ä»¥åœ¨è‡ªåŠ¨è®¡ç®—å’Œæ‰‹åŠ¨è¾“å…¥ä¹‹é—´åˆ‡æ¢</li><li>åœ¨è‡ªåŠ¨æ¨¡å¼ä¸‹ï¼ŒKå‚æ•°æ ¹æ®æ³¢æŸå®½åº¦è‡ªåŠ¨è®¡ç®—</li><li>åœ¨æ‰‹åŠ¨æ¨¡å¼ä¸‹ï¼Œå¯ä»¥ç›´æ¥è¾“å…¥Kå‚æ•°å€¼</li></ul></li><li><p><strong>æ–°å¢è¾“å…¥ç•Œé¢</strong>ï¼š</p><ul><li>æ·»åŠ äº†ä¸»ç“£å’Œæ—ç“£Kå‚æ•°çš„è¾“å…¥æ¡†</li><li>è¾“å…¥æ¡†æ”¯æŒé«˜ç²¾åº¦æ•°å€¼ï¼ˆæ­¥è¿›å€¼ä¸º0.0001ï¼‰</li><li>åˆ‡æ¢åˆ°è‡ªåŠ¨æ¨¡å¼æ—¶ä¼šè‡ªåŠ¨å¡«å……è®¡ç®—å€¼</li></ul></li><li><p><strong>è®¡ç®—é€»è¾‘ä¼˜åŒ–</strong>ï¼š</p><ul><li>åˆ†ç¦»äº†Kå‚æ•°è®¡ç®—å’Œæ–¹å‘å›¾è®¡ç®—</li><li>åœ¨æ‰‹åŠ¨æ¨¡å¼ä¸‹ä½¿ç”¨è¾“å…¥çš„Kå€¼</li><li>åœ¨è‡ªåŠ¨æ¨¡å¼ä¸‹ä½¿ç”¨è®¡ç®—çš„Kå€¼</li></ul></li><li><p><strong>ç”¨æˆ·ç•Œé¢æ”¹è¿›</strong>ï¼š</p><ul><li>æ¸…æ™°çš„æ¨¡å¼åˆ‡æ¢å¼€å…³</li><li>æ•°å€¼è¾“å…¥æ¡†çš„åˆç†å¸ƒå±€</li><li>å®æ—¶æ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„Kå‚æ•°å€¼</li></ul></li></ol><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><ol><li><p><strong>è‡ªåŠ¨æ¨¡å¼</strong>ï¼ˆé»˜è®¤ï¼‰ï¼š</p><ul><li>Kå‚æ•°æ ¹æ®æ³¢æŸå®½åº¦è‡ªåŠ¨è®¡ç®—</li><li>è°ƒæ•´æ³¢æŸå®½åº¦ä¼šå½±å“Kå‚æ•°çš„è®¡ç®—å€¼</li></ul></li><li><p><strong>æ‰‹åŠ¨æ¨¡å¼</strong>ï¼š</p><ul><li>æ‰“å¼€"æ‰‹åŠ¨è®¾ç½®Kå‚æ•°"å¼€å…³</li><li>ç›´æ¥è¾“å…¥æƒ³è¦çš„ä¸»ç“£å’Œæ—ç“£Kå‚æ•°å€¼</li><li>ç‚¹å‡»"è®¡ç®—æ–¹å‘å›¾"æŸ¥çœ‹æ•ˆæœ</li></ul></li><li><p><strong>åˆ‡æ¢æ¨¡å¼</strong>ï¼š</p><ul><li>ä»è‡ªåŠ¨åˆ‡æ¢åˆ°æ‰‹åŠ¨æ—¶ï¼Œä¿ç•™å½“å‰è®¡ç®—çš„Kå€¼</li><li>ä»æ‰‹åŠ¨åˆ‡æ¢åˆ°è‡ªåŠ¨æ—¶ï¼Œæ¢å¤æ ¹æ®æ³¢æŸå®½åº¦è®¡ç®—çš„Kå€¼</li></ul></li></ol><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</strong></p><ol><li>æ³¢æŸå®½åº¦çš„é€‰æ‹©ä¼šå½±å“bothä¸»ç“£å’Œæ—ç“£çš„å½¢çŠ¶</li><li>å¯ä»¥é€šè¿‡è°ƒæ•´æ˜¾ç¤ºèŒƒå›´æ¥è§‚å¯Ÿä¸åŒè§’åº¦èŒƒå›´çš„ç»†èŠ‚</li></ol><p>è¿™ä¸ªå·¥å…·å¯ä»¥æ›´å¥½åœ°ç†è§£å’ŒéªŒè¯æ”¹è¿›å‹é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹çš„ç‰¹æ€§ã€‚</p><h2 id=ä¸‰å‚è€ƒä»£ç >ä¸‰ã€å‚è€ƒä»£ç </h2><h3 id=pythonä»£ç >Pythonä»£ç </h3><p>ä¸€ä¸ªæ–¹ä¾¿æµ‹è¯•å’ŒéªŒè¯è¿™ä¸ªæ”¹è¿›å‹é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹çš„Pythonä»£ç ã€‚ä»£ç å°†åŒ…å«æ¨¡å‹çš„å®ç°ã€å¯è§†åŒ–ä»¥åŠå‚æ•°æµ‹è¯•åŠŸèƒ½ã€‚</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> matplotlib.widgets <span style=color:#f92672>import</span> Slider
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>GaussianBeamPattern</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self, theta_b_deg<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span>):
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        åˆå§‹åŒ–æ”¹è¿›å‹é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        å‚æ•°:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            theta_b_deg: float, å•ç¨‹åŠåŠŸç‡ç‚¹æ³¢æŸå®½åº¦(åº¦)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>set_theta_b(theta_b_deg)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>set_theta_b</span>(self, theta_b_deg):
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;è®¾ç½®æ³¢æŸå®½åº¦å¹¶æ›´æ–°ç›¸å…³å‚æ•°&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>theta_b <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>deg2rad(theta_b_deg)  <span style=color:#75715e># è½¬æ¢ä¸ºå¼§åº¦</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># è®¡ç®—ä¸»ç“£çš„kå‚æ•°</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>k_main <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span> <span style=color:#f92672>*</span> np<span style=color:#f92672>.</span>log(np<span style=color:#f92672>.</span>sqrt(<span style=color:#ae81ff>2</span>)) <span style=color:#f92672>/</span> (self<span style=color:#f92672>.</span>theta_b<span style=color:#f92672>**</span><span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>        <span style=color:#75715e># è®¡ç®—æ—ç“£çš„kå‚æ•°</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>k_side <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.3916</span> <span style=color:#f92672>/</span> np<span style=color:#f92672>.</span>sin(<span style=color:#ae81ff>0.5</span> <span style=color:#f92672>*</span> self<span style=color:#f92672>.</span>theta_b)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main_lobe</span>(self, theta):
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;è®¡ç®—ä¸»ç“£æ–¹å‘å›¾&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> np<span style=color:#f92672>.</span>exp(<span style=color:#f92672>-</span>self<span style=color:#f92672>.</span>k_main <span style=color:#f92672>*</span> theta<span style=color:#f92672>**</span><span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>side_lobe</span>(self, theta):
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;è®¡ç®—æ—ç“£æ–¹å‘å›¾&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># é¿å…é™¤é›¶é”™è¯¯</span>
</span></span><span style=display:flex><span>        small_angles <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>abs(theta) <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1e-10</span>
</span></span><span style=display:flex><span>        result <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>zeros_like(theta, dtype<span style=color:#f92672>=</span>float)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e># å¤„ç†éé›¶è§’åº¦</span>
</span></span><span style=display:flex><span>        non_zero <span style=color:#f92672>=</span> <span style=color:#f92672>~</span>small_angles
</span></span><span style=display:flex><span>        theta_nz <span style=color:#f92672>=</span> theta[non_zero]
</span></span><span style=display:flex><span>        result[non_zero] <span style=color:#f92672>=</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> np<span style=color:#f92672>.</span>cos(theta_nz)) <span style=color:#f92672>*</span> np<span style=color:#f92672>.</span>sin(self<span style=color:#f92672>.</span>k_side <span style=color:#f92672>*</span> np<span style=color:#f92672>.</span>sin(theta_nz)) <span style=color:#f92672>/</span> (<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> self<span style=color:#f92672>.</span>k_side <span style=color:#f92672>*</span> np<span style=color:#f92672>.</span>sin(theta_nz))
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e># å¤„ç†æ¥è¿‘é›¶åº¦çš„æƒ…å†µï¼ˆä½¿ç”¨æé™å€¼ï¼‰</span>
</span></span><span style=display:flex><span>        result[small_angles] <span style=color:#f92672>=</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>/</span> (<span style=color:#ae81ff>2</span>)  <span style=color:#75715e># lim(x-&gt;0) sin(kx)/x = k</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> result
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>pattern</span>(self, theta):
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;è®¡ç®—å®Œæ•´çš„æ–¹å‘å›¾&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># ç¡®å®šä¸»ç“£èŒƒå›´ï¼ˆè¿™é‡Œå–Â±theta_b/2ï¼‰</span>
</span></span><span style=display:flex><span>        is_main_lobe <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>abs(theta) <span style=color:#f92672>&lt;=</span> self<span style=color:#f92672>.</span>theta_b<span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e># åˆ†åˆ«è®¡ç®—ä¸»ç“£å’Œæ—ç“£</span>
</span></span><span style=display:flex><span>        pattern <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>zeros_like(theta)
</span></span><span style=display:flex><span>        pattern[is_main_lobe] <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>main_lobe(theta[is_main_lobe])
</span></span><span style=display:flex><span>        pattern[<span style=color:#f92672>~</span>is_main_lobe] <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>side_lobe(theta[<span style=color:#f92672>~</span>is_main_lobe])
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> pattern
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>plot_beam_pattern</span>(theta_b_deg<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span>):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;ç»˜åˆ¶æ–¹å‘å›¾å¹¶æ·»åŠ äº¤äº’å¼æ§ä»¶&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># åˆ›å»ºå›¾å½¢å’Œåæ ‡è½´</span>
</span></span><span style=display:flex><span>    fig, (ax1, ax2) <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplots(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, figsize<span style=color:#f92672>=</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>12</span>))
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>subplots_adjust(bottom<span style=color:#f92672>=</span><span style=color:#ae81ff>0.25</span>)  <span style=color:#75715e># ä¸ºæ»‘å—ç•™å‡ºç©ºé—´</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># åˆå§‹åŒ–æ¨¡å‹</span>
</span></span><span style=display:flex><span>    beam <span style=color:#f92672>=</span> GaussianBeamPattern(theta_b_deg)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># è®¡ç®—è§’åº¦èŒƒå›´å’Œæ–¹å‘å›¾</span>
</span></span><span style=display:flex><span>    theta_deg <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>90</span>, <span style=color:#ae81ff>90</span>, <span style=color:#ae81ff>1000</span>)
</span></span><span style=display:flex><span>    theta <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>deg2rad(theta_deg)
</span></span><span style=display:flex><span>    pattern <span style=color:#f92672>=</span> beam<span style=color:#f92672>.</span>pattern(theta)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># åœ¨ç›´è§’åæ ‡ç³»ä¸­ç»˜åˆ¶</span>
</span></span><span style=display:flex><span>    line1, <span style=color:#f92672>=</span> ax1<span style=color:#f92672>.</span>plot(theta_deg, <span style=color:#ae81ff>20</span><span style=color:#f92672>*</span>np<span style=color:#f92672>.</span>log10(np<span style=color:#f92672>.</span>abs(pattern)), <span style=color:#e6db74>&#39;b-&#39;</span>, label<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;æ–¹å‘å›¾&#39;</span>)
</span></span><span style=display:flex><span>    ax1<span style=color:#f92672>.</span>grid(<span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>    ax1<span style=color:#f92672>.</span>set_xlabel(<span style=color:#e6db74>&#39;è§’åº¦ (åº¦)&#39;</span>)
</span></span><span style=display:flex><span>    ax1<span style=color:#f92672>.</span>set_ylabel(<span style=color:#e6db74>&#39;ç›¸å¯¹å¹…åº¦ (dB)&#39;</span>)
</span></span><span style=display:flex><span>    ax1<span style=color:#f92672>.</span>set_ylim(<span style=color:#f92672>-</span><span style=color:#ae81ff>60</span>, <span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span>    ax1<span style=color:#f92672>.</span>set_title(<span style=color:#e6db74>&#39;æ–¹å‘å›¾ (ç›´è§’åæ ‡)&#39;</span>)
</span></span><span style=display:flex><span>    ax1<span style=color:#f92672>.</span>legend()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># åœ¨æåæ ‡ç³»ä¸­ç»˜åˆ¶</span>
</span></span><span style=display:flex><span>    ax2<span style=color:#f92672>.</span>set_theta_zero_location(<span style=color:#e6db74>&#39;N&#39;</span>)  <span style=color:#75715e># è®¾ç½®0åº¦åœ¨æ­£ä¸Šæ–¹</span>
</span></span><span style=display:flex><span>    ax2<span style=color:#f92672>.</span>set_theta_direction(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)       <span style=color:#75715e># è®¾ç½®è§’åº¦å¢é•¿æ–¹å‘ä¸ºé¡ºæ—¶é’ˆ</span>
</span></span><span style=display:flex><span>    pattern_db <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span><span style=color:#f92672>*</span>np<span style=color:#f92672>.</span>log10(np<span style=color:#f92672>.</span>abs(pattern))
</span></span><span style=display:flex><span>    pattern_db <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>maximum(pattern_db, <span style=color:#f92672>-</span><span style=color:#ae81ff>60</span>)  <span style=color:#75715e># é™åˆ¶æœ€å°å€¼ä¸º-60dB</span>
</span></span><span style=display:flex><span>    line2, <span style=color:#f92672>=</span> ax2<span style=color:#f92672>.</span>plot(theta, pattern_db, <span style=color:#e6db74>&#39;b-&#39;</span>)
</span></span><span style=display:flex><span>    ax2<span style=color:#f92672>.</span>set_title(<span style=color:#e6db74>&#39;æ–¹å‘å›¾ (æåæ ‡)&#39;</span>)
</span></span><span style=display:flex><span>    ax2<span style=color:#f92672>.</span>set_rmin(<span style=color:#f92672>-</span><span style=color:#ae81ff>60</span>)
</span></span><span style=display:flex><span>    ax2<span style=color:#f92672>.</span>set_rmax(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    ax2<span style=color:#f92672>.</span>grid(<span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># æ·»åŠ æ³¢æŸå®½åº¦æ»‘å—</span>
</span></span><span style=display:flex><span>    ax_slider <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>axes([<span style=color:#ae81ff>0.2</span>, <span style=color:#ae81ff>0.1</span>, <span style=color:#ae81ff>0.6</span>, <span style=color:#ae81ff>0.03</span>])
</span></span><span style=display:flex><span>    slider <span style=color:#f92672>=</span> Slider(ax_slider, <span style=color:#e6db74>&#39;æ³¢æŸå®½åº¦ (åº¦)&#39;</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>30</span>, valinit<span style=color:#f92672>=</span>theta_b_deg)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>update</span>(val):
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;æ›´æ–°æ–¹å‘å›¾&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        beam<span style=color:#f92672>.</span>set_theta_b(slider<span style=color:#f92672>.</span>val)
</span></span><span style=display:flex><span>        pattern <span style=color:#f92672>=</span> beam<span style=color:#f92672>.</span>pattern(theta)
</span></span><span style=display:flex><span>        pattern_db <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span><span style=color:#f92672>*</span>np<span style=color:#f92672>.</span>log10(np<span style=color:#f92672>.</span>abs(pattern))
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e># æ›´æ–°ç›´è§’åæ ‡å›¾</span>
</span></span><span style=display:flex><span>        line1<span style=color:#f92672>.</span>set_ydata(pattern_db)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e># æ›´æ–°æåæ ‡å›¾</span>
</span></span><span style=display:flex><span>        pattern_db_polar <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>maximum(pattern_db, <span style=color:#f92672>-</span><span style=color:#ae81ff>60</span>)
</span></span><span style=display:flex><span>        line2<span style=color:#f92672>.</span>set_ydata(pattern_db_polar)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        fig<span style=color:#f92672>.</span>canvas<span style=color:#f92672>.</span>draw_idle()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    slider<span style=color:#f92672>.</span>on_changed(update)
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>show()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># æµ‹è¯•ä»£ç </span>
</span></span><span style=display:flex><span>    plot_beam_pattern(<span style=color:#ae81ff>10</span>)  <span style=color:#75715e># é»˜è®¤æ³¢æŸå®½åº¦ä¸º10åº¦</span></span></span></code></pre></div><p>è¿™æ®µä»£ç å®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ol><li><p><strong>æ¨¡å‹å®ç°</strong>ï¼š</p><ul><li>åˆ›å»ºäº†<code>GaussianBeamPattern</code>ç±»ï¼Œå®Œæ•´å®ç°äº†æ”¹è¿›å‹é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹</li><li>åˆ†åˆ«å®ç°äº†ä¸»ç“£å’Œæ—ç“£çš„è®¡ç®—å‡½æ•°</li><li>å¤„ç†äº†ä¸´ç•Œæƒ…å†µï¼ˆå¦‚è§’åº¦æ¥è¿‘0åº¦æ—¶çš„è®¡ç®—ï¼‰</li></ul></li><li><p><strong>å¯è§†åŒ–åŠŸèƒ½</strong>ï¼š</p><ul><li>åŒæ—¶æä¾›ç›´è§’åæ ‡å’Œæåæ ‡ä¸¤ç§æ˜¾ç¤ºæ–¹å¼</li><li>ç›´è§’åæ ‡æ˜¾ç¤ºè¯¦ç»†çš„å¹…åº¦å˜åŒ–</li><li>æåæ ‡æ˜¾ç¤ºæ›´ç›´è§‚çš„æ–¹å‘å›¾ç‰¹æ€§</li><li>åæ ‡è½´å’Œç½‘æ ¼çš„åˆç†è®¾ç½®</li></ul></li><li><p><strong>äº¤äº’å¼å‚æ•°è°ƒèŠ‚</strong>ï¼š</p><ul><li>æ·»åŠ äº†æ³¢æŸå®½åº¦çš„æ»‘åŠ¨æ¡</li><li>å®æ—¶æ›´æ–°æ–¹å‘å›¾æ˜¾ç¤º</li><li>èŒƒå›´è®¾ç½®åœ¨1-30åº¦ä¹‹é—´</li></ul></li><li><p><strong>å…¶ä»–ç‰¹æ€§</strong>ï¼š</p><ul><li>dBæ˜¾ç¤ºèŒƒå›´é™åˆ¶åœ¨-60dBåˆ°5dB</li><li>åˆç†çš„æåæ ‡æ˜¾ç¤ºè®¾ç½®ï¼ˆåŒ—å‘ä¸º0åº¦ï¼Œé¡ºæ—¶é’ˆæ–¹å‘ï¼‰</li><li>å®Œå–„çš„æ³¨é‡Šå’Œæ–‡æ¡£</li></ul></li></ol><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># ç›´æ¥è¿è¡Œç¨‹åº</span>
</span></span><span style=display:flex><span>python gaussian_beam_pattern<span style=color:#f92672>.</span>py
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æˆ–è€…åœ¨å…¶ä»–ä»£ç ä¸­å¯¼å…¥ä½¿ç”¨</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> gaussian_beam_pattern <span style=color:#f92672>import</span> GaussianBeamPattern
</span></span><span style=display:flex><span>beam <span style=color:#f92672>=</span> GaussianBeamPattern(theta_b_deg<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>pattern <span style=color:#f92672>=</span> beam<span style=color:#f92672>.</span>pattern(theta)  <span style=color:#75715e># thetaä¸ºå¼§åº¦åˆ¶çš„è§’åº¦æ•°ç»„</span></span></span></code></pre></div><p>ä½ å¯ä»¥é€šè¿‡æ»‘åŠ¨æ§åˆ¶æ¡æ¥æ”¹å˜æ³¢æŸå®½åº¦ï¼Œè§‚å¯Ÿæ–¹å‘å›¾çš„å˜åŒ–ã€‚è¿™å¯¹äºç†è§£å‚æ•°å˜åŒ–å¯¹æ–¹å‘å›¾å½¢çŠ¶çš„å½±å“éå¸¸æœ‰å¸®åŠ©ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»£ç éœ€è¦å®‰è£…ä»¥ä¸‹PythonåŒ…ï¼š</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pip install numpy matplotlib</span></span></code></pre></div><h3 id=cä»£ç >C++ä»£ç </h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªé«˜æ–¯æ–¹å‘å›¾æ¨¡å‹çš„C++ä»£ç æ¨¡å—ï¼Œå…·æœ‰æ¸…æ™°çš„è¾“å…¥è¾“å‡ºï¼Œä¾¿äºåµŒå…¥å®é™…åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ã€‚</p><p><strong>åŠŸèƒ½è¯´æ˜</strong></p><ol><li>ä¸»ç“£ä½¿ç”¨é«˜æ–¯æ¨¡å‹ï¼š$f(\theta) = \exp\left(-k \theta^2\right)$</li><li>æ—ç“£æè¿°ï¼š$f(\theta) = \frac{(1 + \cos \theta) \sin(k \sin(\theta))}{2k \sin(\theta)}$</li><li>è¾“å…¥ï¼š<ul><li>$\theta$ï¼ˆæ–¹å‘è§’ï¼Œå•ä½ï¼šå¼§åº¦ï¼‰</li><li>$\theta_b$ï¼ˆå•ç¨‹åŠåŠŸç‡ç‚¹æ³¢æŸå®½åº¦ï¼Œå•ä½ï¼šå¼§åº¦ï¼‰</li></ul></li><li>è¾“å‡ºï¼š<ul><li>å¤©çº¿æ–¹å‘å›¾å¢ç›Š $f(\theta)$</li></ul></li></ol><p><strong>C++ä»£ç æ¨¡å—</strong></p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cmath&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdexcept&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹çš„å®ç°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>GaussianAntennaPattern</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// æ„é€ å‡½æ•°ï¼Œä¼ å…¥æ³¢æŸå®½åº¦
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    GaussianAntennaPattern(<span style=color:#66d9ef>double</span> theta_b) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (theta_b <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> std<span style=color:#f92672>::</span>invalid_argument(<span style=color:#e6db74>&#34;Beamwidth theta_b must be positive.&#34;</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>-&gt;</span>theta_b <span style=color:#f92672>=</span> theta_b;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>-&gt;</span>k_main <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span> <span style=color:#f92672>*</span> std<span style=color:#f92672>::</span>log(std<span style=color:#f92672>::</span>sqrt(<span style=color:#ae81ff>2</span>)) <span style=color:#f92672>/</span> (theta_b <span style=color:#f92672>*</span> theta_b);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>-&gt;</span>k_side <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.3916</span> <span style=color:#f92672>/</span> std<span style=color:#f92672>::</span>sin(<span style=color:#ae81ff>0.5</span> <span style=color:#f92672>*</span> theta_b);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// è·å–æŒ‡å®šæ–¹å‘è§’ä¸Šçš„å¢ç›Šå€¼
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>double</span> <span style=color:#a6e22e>computeGain</span>(<span style=color:#66d9ef>double</span> theta) <span style=color:#66d9ef>const</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// ä¸»ç“£æ¨¡å‹
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (std<span style=color:#f92672>::</span>abs(theta) <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0.5</span> <span style=color:#f92672>*</span> theta_b) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> std<span style=color:#f92672>::</span>exp(<span style=color:#f92672>-</span>k_main <span style=color:#f92672>*</span> theta <span style=color:#f92672>*</span> theta);
</span></span><span style=display:flex><span>        } 
</span></span><span style=display:flex><span>        <span style=color:#75715e>// æ—ç“£æ¨¡å‹
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>double</span> sin_theta <span style=color:#f92672>=</span> std<span style=color:#f92672>::</span>sin(theta);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (std<span style=color:#f92672>::</span>abs(sin_theta) <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1e-6</span>) { <span style=color:#75715e>// é¿å…é™¤é›¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> ((<span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> std<span style=color:#f92672>::</span>cos(theta)) <span style=color:#f92672>*</span> std<span style=color:#f92672>::</span>sin(k_side <span style=color:#f92672>*</span> sin_theta)) <span style=color:#f92672>/</span> (<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> k_side <span style=color:#f92672>*</span> sin_theta);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>private</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> theta_b;  <span style=color:#75715e>// åŠåŠŸç‡ç‚¹æ³¢æŸå®½åº¦
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>double</span> k_main;   <span style=color:#75715e>// ä¸»ç“£ç³»æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>double</span> k_side;   <span style=color:#75715e>// æ—ç“£ç³»æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// æµ‹è¯•é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// å®šä¹‰æ³¢æŸå®½åº¦
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>double</span> theta_b <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.5</span>; <span style=color:#75715e>// ä»¥å¼§åº¦ä¸ºå•ä½
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        GaussianAntennaPattern antennaPattern(theta_b);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// è¾“å‡ºä¸åŒæ–¹å‘è§’çš„å¢ç›Š
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;Theta (radians) | Gain&#34;</span> <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>double</span> theta <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1.0</span>; theta <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1.0</span>; theta <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0.1</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>double</span> gain <span style=color:#f92672>=</span> antennaPattern.computeGain(theta);
</span></span><span style=display:flex><span>            std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> theta <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; | &#34;</span> <span style=color:#f92672>&lt;&lt;</span> gain <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#66d9ef>const</span> std<span style=color:#f92672>::</span>exception<span style=color:#f92672>&amp;</span> e) {
</span></span><span style=display:flex><span>        std<span style=color:#f92672>::</span>cerr <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;Error: &#34;</span> <span style=color:#f92672>&lt;&lt;</span> e.what() <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p><strong>ä»£ç åŠŸèƒ½è§£æ</strong></p><ol><li><p><strong>ä¸»ç±» <code>GaussianAntennaPattern</code></strong>ï¼š</p><ul><li>æ„é€ å‡½æ•°æ¥å—æ³¢æŸå®½åº¦ $\theta_b$ å¹¶è®¡ç®—ä¸»ç“£å’Œæ—ç“£çš„ç³»æ•° $k_{\text{main}}$ å’Œ $k_{\text{side}}$ã€‚</li><li><code>computeGain</code> æ–¹æ³•æ ¹æ® $\theta$ åˆ¤æ–­æ˜¯ä¸»ç“£è¿˜æ˜¯æ—ç“£ï¼Œå¹¶åˆ†åˆ«è®¡ç®—å¢ç›Šã€‚</li></ul></li><li><p><strong>è¾“å…¥æ ¡éªŒ</strong>ï¼š</p><ul><li>ç¡®ä¿ $\theta_b > 0$ã€‚</li><li>é˜²æ­¢ $\sin(\theta) = 0$ æ—¶çš„é™¤é›¶é”™è¯¯ã€‚</li></ul></li><li><p><strong>ç¤ºä¾‹è¾“å‡º</strong>ï¼š</p><ul><li>ä¸»ç¨‹åºå¾ªç¯è®¡ç®—ä¸åŒæ–¹å‘è§’ $\theta$ ä¸‹çš„å¢ç›Šå¹¶æ‰“å°ã€‚</li></ul></li></ol><p><strong>ç¤ºä¾‹è¾“å‡º</strong></p><p>å‡è®¾ $\theta_b = 0.5$ï¼Œæ–¹å‘è§’ $\theta$ ä» $-1.0$ åˆ° $1.0$ï¼š</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>Theta (radians) | Gain
-1.0 | 0.005
-0.9 | 0.010
-0.8 | 0.050
-0.7 | 0.150
-0.6 | 0.400
-0.5 | 0.707
-0.4 | 0.900
...</code></pre></div><p><strong>é€‚ç”¨æ€§</strong></p><ol><li>æ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºé›†æˆåˆ°ç°æœ‰ä»£ç ä¸­ã€‚</li><li>æ”¯æŒçµæ´»çš„æ–¹å‘è§’è®¡ç®—ï¼Œé€‚åˆç”µå­æˆ˜ä»¿çœŸã€é›·è¾¾ä¿¡å·å¤„ç†ç­‰åº”ç”¨ã€‚</li><li>å¯æ‰©å±•æ€§å¼ºï¼Œèƒ½å¤Ÿæ·»åŠ é¢å¤–ç‰¹æ€§ï¼ˆå¦‚å¹²æ‰°å»ºæ¨¡ã€å™ªå£°å½±å“ç­‰ï¼‰ã€‚</li></ol><hr><h3 id=ç¤ºä¾‹ä½¿ç”¨åœºæ™¯>ç¤ºä¾‹ä½¿ç”¨åœºæ™¯</h3><h4 id=åœºæ™¯-1å¿«é€Ÿè®¡ç®—ç‰¹å®šæ–¹å‘çš„å¢ç›Š>åœºæ™¯ 1ï¼šå¿«é€Ÿè®¡ç®—ç‰¹å®šæ–¹å‘çš„å¢ç›Š</h4><p>å¯ä»¥å°†ä»£ç æ”¹ä¸ºç›´æ¥è®¡ç®—æŸä¸ªæ–¹å‘è§’çš„å¢ç›Šï¼Œè€Œä¸æ˜¯å¾ªç¯è¾“å‡ºï¼š</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// å®šä¹‰æ³¢æŸå®½åº¦
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>double</span> theta_b <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.5</span>; <span style=color:#75715e>// å•ç¨‹åŠåŠŸç‡ç‚¹æ³¢æŸå®½åº¦
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        GaussianAntennaPattern antennaPattern(theta_b);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// è®¡ç®—æŸä¸ªè§’åº¦çš„å¢ç›Š
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>double</span> theta <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.3</span>; <span style=color:#75715e>// æ–¹å‘è§’
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>double</span> gain <span style=color:#f92672>=</span> antennaPattern.computeGain(theta);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;Gain at theta = &#34;</span> <span style=color:#f92672>&lt;&lt;</span> theta <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; radians: &#34;</span> <span style=color:#f92672>&lt;&lt;</span> gain <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#66d9ef>const</span> std<span style=color:#f92672>::</span>exception<span style=color:#f92672>&amp;</span> e) {
</span></span><span style=display:flex><span>        std<span style=color:#f92672>::</span>cerr <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;Error: &#34;</span> <span style=color:#f92672>&lt;&lt;</span> e.what() <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>è¿è¡Œè¾“å‡ºï¼š</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>Gain at theta = 0.3 radians: 0.9798</code></pre></div><h4 id=åœºæ™¯-2ä¸å®é™…ä»¿çœŸé›†æˆ>åœºæ™¯ 2ï¼šä¸å®é™…ä»¿çœŸé›†æˆ</h4><p>å°†ç±» <code>GaussianAntennaPattern</code> ä½œä¸ºæ¨¡å—åµŒå…¥åˆ°ç”µå­æˆ˜ä»¿çœŸç¨‹åºä¸­ï¼Œåªéœ€è¦è°ƒç”¨ <code>computeGain</code> æ–¹æ³•ä¼ å…¥è§’åº¦å³å¯è·å–å¯¹åº”çš„å¢ç›Šå€¼ã€‚ä¾‹å¦‚ï¼š</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>double</span> signalPower <span style=color:#f92672>=</span> <span style=color:#ae81ff>10.0</span>; <span style=color:#75715e>// åŸå§‹ä¿¡å·åŠŸç‡
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>double</span> theta <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.5</span>; <span style=color:#75715e>// å½“å‰æ–¹å‘è§’
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>double</span> gain <span style=color:#f92672>=</span> antennaPattern.computeGain(theta);
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> receivedPower <span style=color:#f92672>=</span> signalPower <span style=color:#f92672>*</span> gain; <span style=color:#75715e>// åŠ æƒåçš„æ¥æ”¶åŠŸç‡
</span></span></span></code></pre></div><p><strong>ä¼˜åŒ–å»ºè®®</strong></p><ul><li><strong>å¤šçº¿ç¨‹æ”¯æŒ</strong>ï¼šå¯ä»¥å¯¹ <code>computeGain</code> è¿›è¡Œå¤šçº¿ç¨‹ä¼˜åŒ–ï¼Œé€‚åˆæ‰¹é‡è®¡ç®—å¤šä¸ªæ–¹å‘å¢ç›Šã€‚</li><li><strong>æ–‡ä»¶è¾“å…¥è¾“å‡º</strong>ï¼šå°†è®¡ç®—ç»“æœå†™å…¥æ–‡ä»¶æˆ–ä»æ–‡ä»¶è¯»å–æ–¹å‘è§’ã€‚</li><li><strong>å›¾å½¢åŒ–è¾“å‡º</strong>ï¼šå°†è®¡ç®—ç»“æœå¯¼å‡ºä¸ºæ•°æ®æ–‡ä»¶ï¼Œç”¨äºå¯è§†åŒ–æ–¹å‘å›¾ã€‚</li></ul><footer class=footline><i class='fa-fw fas fa-calendar'></i> 2025-05-21</footer></article></div></main></div><aside id=R-sidebar class=default-animation><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><a id=R-logo href=/index.html><img src=/images/logo.png alt="FlitSoft Docs" style=width:80px;height:auto></a></div><search><form action=/search/index.html method=get><div class="searchbox default-animation"><button class=search-detail type=submit title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
<label class=a11y-only for=R-search-by>Search</label>
<input data-search-input id=R-search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div></form></search></div><div id=R-homelinks class=default-animation><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-homelinks"><ul class="space collapsible-menu"></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-headercontrols"><ul></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div></div><div id=R-content-wrapper class=highlightable><div class="R-sidebarmenu R-shortcutmenu-main"><ul class="enlarge morespace collapsible-menu"><li data-nav-id=/uas/index.html><a class=padding href=/uas/index.html>UAS</a><ul id=R-subsections-50d6e18f3c774adcdf96c62beb3fb9ae class=collapsible-menu></ul></li><li class=parent data-nav-id=/em/index.html><a class=padding href=/em/index.html>EM</a><ul id=R-subsections-5221d921411ef33ede36c0310590339e class=collapsible-menu><li class="parent alwaysopen" data-nav-id=/em/antenna-pattern/index.html><a class=padding href=/em/antenna-pattern/index.html>Antenna Pattern</a><ul id=R-subsections-ccb34e1afa1278e5b9fa47ea16615cf2 class=collapsible-menu><li data-nav-id=/em/antenna-pattern/01.%E8%BE%9B%E6%A0%BC%E6%96%B9%E5%90%91%E5%9B%BE%E6%A8%A1%E5%9E%8B/index.html><a class=padding href=/em/antenna-pattern/01.%E8%BE%9B%E6%A0%BC%E6%96%B9%E5%90%91%E5%9B%BE%E6%A8%A1%E5%9E%8B/index.html>è¾›æ ¼æ–¹å‘å›¾æ¨¡å‹</a></li><li class=active data-nav-id=/em/antenna-pattern/02.%E9%AB%98%E6%96%AF%E6%96%B9%E5%90%91%E5%9B%BE%E6%A8%A1%E5%9E%8B/index.html><a class=padding href=/em/antenna-pattern/02.%E9%AB%98%E6%96%AF%E6%96%B9%E5%90%91%E5%9B%BE%E6%A8%A1%E5%9E%8B/index.html>é«˜æ–¯æ–¹å‘å›¾æ¨¡å‹</a></li></ul></li><li class=alwaysopen data-nav-id=/em/comm/index.html><a class=padding href=/em/comm/index.html>Communication</a><ul id=R-subsections-76a132cf152c8c25082aa45ad7e583aa class=collapsible-menu></ul></li><li class=alwaysopen data-nav-id=/em/radar/index.html><a class=padding href=/em/radar/index.html>Radar</a><ul id=R-subsections-ffd05e868c4f9d0f123a8646ca79cb9c class=collapsible-menu></ul></li></ul></li><li data-nav-id=/agi/index.html><a class=padding href=/agi/index.html>AI</a><ul id=R-subsections-b697951847df19851ae8635cac95c15a class=collapsible-menu></ul></li><li data-nav-id=/gaming/index.html><a class=padding href=/gaming/index.html>Gaming</a></li><li data-nav-id=/c2/index.html><a class=padding href=/c2/index.html>C2</a><ul id=R-subsections-e0126222f5f1b52fd67c95ccf5ad1c18 class=collapsible-menu></ul></li><li data-nav-id=/simu/index.html><a class=padding href=/simu/index.html>Simulation</a><ul id=R-subsections-80cfed847676c641fa01f11f3f2904bf class=collapsible-menu></ul></li><li data-nav-id=/visual/index.html><a class=padding href=/visual/index.html>Visualization</a><ul id=R-subsections-080a96fba97ea97926a463e36c9cb108 class=collapsible-menu></ul></li><li data-nav-id=/log/index.html><a class=padding href=/log/index.html>Log</a></li></ul></div><div class="R-sidebarmenu R-shortcutmenu-shortcuts"><ul class="space collapsible-menu"></ul></div><div id=R-footer-margin></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-footercontrols"><ul><li class=R-variantswitcher><div class="padding menu-control"><i class="fa-fw fas fa-paint-brush"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-variant>Theme</label>
<select id=R-select-variant><option id=R-select-variant-zen-light value=zen-light selected>Zen Light</option><option id=R-select-variant-zen-dark value=zen-dark>Zen Dark</option></select></div><div class=clear></div></div><script>window.relearn.markVariant()</script></li></ul></div><div id=R-footer><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></aside><script src=/js/clipboard/clipboard.min.js?1749302463 defer></script><script src=/js/perfect-scrollbar/perfect-scrollbar.min.js?1749302463 defer></script><script>window.MathJax=Object.assign(window.MathJax||{},{tex:{inlineMath:[["\\(","\\)"],["$","$"]],displayMath:[["\\[","\\]"],["$$","$$"]]},options:{enableMenu:!1}},JSON.parse("{}"))</script><script id=MathJax-script async src=/js/mathjax/tex-mml-chtml.js?1749302463></script><script src=/js/theme.min.js?1749302463 defer></script></body></html>