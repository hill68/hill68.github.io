<!doctype html><html lang=zh-cn dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.147.3"><meta name=generator content="Relearn 7.6.1+4407b4364ab6f7477f7671fbd20c0494bade40ee"><meta name=description content="一种实时、可行的轨迹生成算法，用于无人机通过一系列航路点飞行。 特别地，算法可配置为动态可行轨迹与直线航路点路径具有相同的路径长度。 该文还详细描述了与算法相关的实现问题。"><meta name=author content="你的名字"><meta name=twitter:card content="summary"><meta name=twitter:title content="无人机实时动态轨迹平滑 :: FlitSoft Docs"><meta name=twitter:description content="一种实时、可行的轨迹生成算法，用于无人机通过一系列航路点飞行。 特别地，算法可配置为动态可行轨迹与直线航路点路径具有相同的路径长度。 该文还详细描述了与算法相关的实现问题。"><meta property="og:url" content="https://hill68.github.io/uas/trajectory_planning/kappa-trajectories/real-time_dynamic_trajectory_smoothing_for_unmanne-ch/index.html"><meta property="og:site_name" content="FlitSoft Docs"><meta property="og:title" content="无人机实时动态轨迹平滑 :: FlitSoft Docs"><meta property="og:description" content="一种实时、可行的轨迹生成算法，用于无人机通过一系列航路点飞行。 特别地，算法可配置为动态可行轨迹与直线航路点路径具有相同的路径长度。 该文还详细描述了与算法相关的实现问题。"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="UAS"><meta property="article:published_time" content="2025-05-21T17:07:50+08:00"><meta property="article:modified_time" content="2025-05-21T17:07:50+08:00"><meta itemprop=name content="无人机实时动态轨迹平滑 :: FlitSoft Docs"><meta itemprop=description content="一种实时、可行的轨迹生成算法，用于无人机通过一系列航路点飞行。 特别地，算法可配置为动态可行轨迹与直线航路点路径具有相同的路径长度。 该文还详细描述了与算法相关的实现问题。"><meta itemprop=datePublished content="2025-05-21T17:07:50+08:00"><meta itemprop=dateModified content="2025-05-21T17:07:50+08:00"><meta itemprop=wordCount content="4506"><title>无人机实时动态轨迹平滑 :: FlitSoft Docs</title>
<link href=/images/logo.png?1750840851 rel=icon type=image/png><link href=/fonts/fontawesome/css/fontawesome-all.min.css?1750840851 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/fonts/fontawesome/css/fontawesome-all.min.css?1750840851 rel=stylesheet></noscript><link href=/css/perfect-scrollbar/perfect-scrollbar.min.css?1750840851 rel=stylesheet><link href=/css/theme.min.css?1750840851 rel=stylesheet><link href=/css/format-html.min.css?1750840851 rel=stylesheet id=R-format-style><link href=/css/auto-complete/auto-complete.min.css?1750840851 rel=stylesheet><script src=/js/auto-complete/auto-complete.min.js?1750840851 defer></script><script src=/js/lunr/lunr.min.js?1750840851 defer></script><script src=/js/lunr/lunr.stemmer.support.min.js?1750840851 defer></script><script src=/js/lunr/lunr.multi.min.js?1750840851 defer></script><script src=/js/lunr/lunr.zh.min.js?1750840851 defer></script><script src=/js/search.min.js?1750840851 defer></script><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/uas/trajectory_planning/kappa-trajectories/real-time_dynamic_trajectory_smoothing_for_unmanne-ch/index.html",window.relearn.relBasePath="../../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://hill68.github.io",window.relearn.contentLangs=["zh"],window.relearn.index_js_url="/searchindex.en.js?1750840851",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!1,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.relearn.themevariants=["zen-light","zen-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant(),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/css/custom.css?1750840851 rel=stylesheet></head><body class="mobile-support html" data-url=/uas/trajectory_planning/kappa-trajectories/real-time_dynamic_trajectory_smoothing_for_unmanne-ch/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><ul><li><a href=#real-time-dynamic-trajectory-smoothing-for-unmanned-air-vehicles>Real-time dynamic trajectory smoothing for unmanned air vehicles</a></li><li><a href=#无人机实时动态轨迹平滑>无人机实时动态轨迹平滑</a></li><li><a href=#本文综述>本文综述：</a></li><li><a href=#摘要>摘要</a></li><li><a href=#关键词>关键词</a></li><li><a href=#1-引言>1. 引言</a></li><li><a href=#2-问题陈述与预备知识>2. 问题陈述与预备知识</a></li><li><a href=#3-极值轨迹>3. 极值轨迹</a></li><li><a href=#4-动态轨迹平滑>4. 动态轨迹平滑</a></li><li><a href=#5-实现问题>5. 实现问题</a></li><li><a href=#6-仿真>6. 仿真</a></li><li><a href=#7-结论>7. 结论</a></li><li><a href=#附录1庞特里亚金最小值原理>附录1：庞特里亚金最小值原理</a></li><li><a href=#附录2-求解轨迹的伪代码>附录2: 求解 ‐轨迹的伪代码</a></li></ul></li><li><a href=#附录3--的物理含义>附录3 的物理含义</a></li><li><a href=#附录4-κ轨迹平滑算法伪代码-by-claude-sonnet-37>附录4 κ轨迹平滑算法伪代码 by Claude Sonnet 3.7</a></li><li><a href=#附录5-的轨迹平滑简化模型>附录5 的轨迹平滑简化模型</a><ul><li><a href=#基本定义与参数>基本定义与参数</a></li><li><a href=#κ1的几何构造>κ=1的几何构造</a></li><li><a href=#动力学系统>动力学系统</a></li><li><a href=#κ1的转弯控制策略>κ=1的转弯控制策略</a></li><li><a href=#转弯点检测条件>转弯点检测条件</a></li><li><a href=#转弯完成检测条件>转弯完成检测条件</a></li><li><a href=#最小时间特性>最小时间特性</a></li><li><a href=#acknowledgments>ACKNOWLEDGMENTS</a></li><li><a href=#references>REFERENCES</a></li></ul></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/index.html><span itemprop=name>FlitSoft Docs</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/uas/index.html><span itemprop=name>UAS</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/uas/trajectory_planning/index.html><span itemprop=name>Trajectory Planning</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/uas/trajectory_planning/kappa-trajectories/index.html><span itemprop=name>kappa-trajectories</span></a><meta itemprop=position content="4">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>无人机实时动态轨迹平滑</span><meta itemprop=position content="5"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/uas/trajectory_planning/kappa-trajectories/index.html title="kappa-trajectories (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/uas/trajectory_planning/kappa-trajectories/kappa-%E8%BD%A8%E8%BF%B9/index.html title="κ轨迹平滑 (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable uas" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=无人机实时动态轨迹平滑>无人机实时动态轨迹平滑</h1><h3 id=real-time-dynamic-trajectory-smoothing-for-unmanned-air-vehicles>Real-time dynamic trajectory smoothing for unmanned air vehicles</h3><h3 id=无人机实时动态轨迹平滑>无人机实时动态轨迹平滑</h3><p>Article in Control Systems Technology, IEEE Transactions on · June 2005</p><p>Source: IEEE Xplore</p><p>Erik P. Anderson, Randal W. Beard, Timothy W. McLain</p><p>Brigham Young University - Provo Main Campus</p><h3 id=本文综述>本文综述：</h3><p>动态轨迹平滑是无人机（UAV）轨迹规划中的一项重要技术。它用于生成平滑且可行的轨迹，这些轨迹满足运动学约束，同时确保无人机在航路点之间高效过渡。该方法旨在最小化无人机与直线路径的偏差，同时适应车辆的动态特性，如速度和航向约束。</p><p>在实时无人机操作中，动态轨迹平滑使得无人机能够在飞行过程中持续调整并适应环境。该技术的主要优点是能够确保平滑、时间最优的过渡，同时最小化计算负载，使其非常适合用于计算资源有限的实时系统。</p><p>实时动态轨迹平滑的主要特点包括：</p><ol><li><strong>与航路点路径规划的集成</strong>：该方法能够与基于航路点的路径规划算法轻松集成，特别是那些生成直线路径的算法。</li><li><strong>低计算开销</strong>：它可以通过最小的计算成本实现，且在无人机跟踪路径时实时生成轨迹。</li><li><strong>最小化偏差</strong>：该方法减少了无人机偏离规划路径的时间，从而提供更精确的跟踪和高效的路径跟随。</li><li><strong>适应性</strong>：该算法能够适应无人机的动态能力，包括速度和航向约束，确保生成的轨迹对于无人机的运动动态是可行的。</li></ol><p>该方法特别适用于无人机需要做出实时决策的应用，如自主飞行、监视和环境监测。它提供了一种可靠且高效的方式来管理无人机的路径跟踪，并在动态和变化的环境中保持最佳性能。</p><h3 id=摘要>摘要</h3><p>本文提出了一种实时、可行的轨迹生成算法，用于无人驾驶飞行器 (UAV) 通过一系列航路点飞行。 庞特里亚金的最小原理 (Pontryagin&rsquo;s Minimum Principle) 用于证明由算法生成的连接航点的直线路径段之间的转换是时间最优的。 此外，算法可以配置为动态可行轨迹与直线航路点路径具有相同的路径长度。 详细描述了与算法相关的实现问题。 仿真研究表明了所提出方法的有效性。</p><h3 id=关键词>关键词</h3><p>轨迹生成， 无人机（UAVs）， 最优控制。</p><h3 id=1-引言>1. 引言</h3><p>近年来计算、传感和电池技术的进步使得无人驾驶技术成为军事和商业应用中可行的选择[1]，[2]。美国军方的宏伟愿景是到2020年，其三成的部队将是无人化的[3]。为了使无人驾驶技术更加有用，开发自主、半自主和协作行为至关重要。所有这些行为的核心是自动轨迹生成算法。</p><p>对于无人机（UAVs），轨迹生成问题的复杂性在于以下几个方面。首先，无人机是非线性动态系统，且阶数相对较高。车辆的非线性动态对可行轨迹提出了多个约束。特别是，无人机的航向速率约束对轨迹施加了曲率限制，而失速和空气动力学推力的限制则对车辆的最小和最大速度提出了约束。因此，无人机轨迹生成问题本质上与移动机器人轨迹生成问题不同，后者没有速度或航向速率约束。第二个挑战是轨迹生成器必须实时运行，以响应不断变化的操作情况，并支持自主性和协作性。</p><p>我们的特别关注点是无人机的协作定时问题$[4]，[5]，[6]$。例如，在同时拦截问题中，一组无人机必须穿越动态变化的威胁区域，以与其他无人机同时到达各自的目的地。当威胁出现时，整个团队必须重新规划路径，以满足同时到达的约束条件。为了解决这个问题，我们最近提出了一种基于图1所示分层架构的协作控制技术[7]，[8]。如图1所示，协调定时管理器生成一组目标，并附有预计到达时间（ETA）数据。我们对协调定时管理器的处理方法在[7]，[8]中有详细介绍。本论文特别重要的是，协调定时管理器基于直线航路点路径规划协作任务。动态轨迹平滑器（DTS）的作用是将航路点路径平滑成满足无人机动态约束的时间参数化轨迹。然而，如果DTS生成的轨迹与原始航路点路径的路径长度不同，那么预计到达时间（ETA）将发生变化，从而使得协调定时管理器生成的协作定时计划失效。因此，我们希望DTS生成的轨迹与原始航路点路径具有相同的路径长度。</p><img src=/images/kappa/f1.png width=400 alt=图1><p>图1. 动态轨迹平滑器（DTS）是整体系统架构中的关键部分。</p><p>这些考虑因素提出了一个有趣的挑战：设计一个轨迹生成算法，该算法</p><ul><li><p>在一组航路点之间平滑过渡，最小化与相关航路点路径的偏差，</p></li><li><p>满足无人机动力学所施加的曲率和速度约束，</p></li><li><p>保持与相关航路点路径相同的路径长度，并</p></li><li><p>实时运行。</p></li></ul><p>本文的目的是介绍一种符合这些目标的轨迹生成算法。</p><p>尽管本文介绍的轨迹生成技术特别适用于协作定时任务，但它也可以应用于时间要求可能不那么严格的问题。例如，可能希望直接飞越航路点，同时最小化与原始航路点路径的偏差。另一种可能的情景是，无人机携带一个具有有限维度探测范围的传感器[9]。可能希望配置轨迹生成器，使得无人机在指定距离内通过航路点，同时最小化直线路径段之间的过渡时间。因此，我们将扩展问题陈述，包含可实时实现的轨迹，这些轨迹可以配置为（1）生成与原始航路点路径相同路径长度的轨迹，（2）在最小化与原始航路点路径偏差的同时直接通过航路点，（3）以最短时间在航路点之间过渡，或（4）以最小化与直线路径段的偏差的方式通过航路点的指定距离。</p><p>我们的方法基于飞机的局部可达区域和基本几何学。从这个意义上讲，它类似于[4]、[10]、[11]中报告的方法。在[10]中，证明了满足曲率约束的两点之间的最短路径由圆和直线路径段组成。参考文献[11]在Dubins的思想基础上，给定运动学和路径约束，算法地找到Dubins圆和直线路径的最优位置，从而为无人机生成可行轨迹。在[4]中，Dubins圆作为圆角叠加在通过Voronoi图生成的直线航路点路径的交汇处。我们的方法与[4]、[10]、[11]不同，轨迹是通过动态过程实时生成的。我们的方法不是插入圆角并事先规划轨迹，而是在飞行过程中动态生成轨迹。这样做的优点是算法更能响应动态变化的环境，并且算法将计算分配到时间上，使得该算法能够在实时环境中实现。</p><p>最近，文献中出现了几种其他的无人机路径规划方法。这些方法大致可以分为三类：概率地图（probabilistic maps）、微分平坦性（differential flatness）和最优控制技术（optimal control techniques）。</p><p>概率道路图方法，如[12]中所述，使用一组运动原语为每个车辆随机生成一组路径段。如果生成的路径段是可行的（例如，无碰撞），则该路径段会被添加到可能路径的树中。该算法继续扩展树，直到到达目标配置。概率道路图在无人直升机中的应用在[13]、[14]中有所描述。不幸的是，这项工作不能直接应用于当前问题，因为它依赖于直升机的悬停能力。参考文献[15]描述了概率道路图的分析技术。概率道路图的缺点是，当计算时间无限制时，它们只能保证以概率1找到可行路径。</p><p>最近，微分平坦性技术已被应用于无人机轨迹生成问题。[16]中对微分平坦性及其在移动机器人中的应用进行了很好的概述。[17]中描述了一种使用微分平坦性的移动机器人路径规划/轨迹生成方法。[18]中给出了一种基于微分平坦性的生成可行无人机轨迹的计算方法。[19]中给出了基于线性矩阵不等式（LMI）对[18]的扩展。在参考文献[20]中，引入了群体平坦性概念，并应用于无人机编队飞行问题。微分平坦性方法的缺点是，通常很难将协调约束表示为平坦空间的凸区域。此外，找到平坦空间轨迹所需的优化技术通常无法在实时中实现。</p><p>最优控制方法用于路径规划，旨在最小化成本指标，同时满足车辆的可行性约束。[21]中，轨迹被参数化为样条曲线，使用非线性优化技术来找到样条系数。参考文献[22]使用样条曲线和非线性优化技术平滑通过直线航路点路径。参考文献[23]推导了一种有趣的方法，用于为不通过航路点而是平滑通过点的航路点路径创建样条轨迹。在参考文献[24]中，使用庞特里亚金最大值原理证明，移动机器人的最优路径由一系列旋转和直线机动组成。在[25]中，使用庞特里亚金原理证明，如果机器人的速度是恒定的，则最优轨迹由一系列恒速弧线和直线段组成。最优控制技术的难点在于，它们仅在约束和配置较简单时才在计算上可行。</p><p>本文的主要贡献是开发了一种轨迹生成技术，将航路点路径平滑为动态可行的轨迹。我们算法的显著特点是其计算复杂度低，从而便于实时实现，能够对动态环境做出反应，并且容易配置以满足路径长度约束，如相等路径长度或在指定距离内通过航路点。</p><p>本文的其余部分将按如下结构组织。问题定义和数学基础将在第二节给出。在第三节中，我们定义了一类轨迹，称为$\kappa$-轨迹，并证明$\kappa$-轨迹是受约束的时间最优轨迹，即它们满足庞特里亚金最小值原理[26]。论文的核心结果在第四节中呈现，在这一节中，我们介绍了一种实时算法，该算法生成$\kappa$-轨迹，并展示了如何配置该算法以生成最小过渡时间轨迹、航路点轨迹以及与原始航路点路径具有相同路径长度的轨迹。在第五节中，我们讨论了使算法在数字硬件上运行所需的若干实现问题。第六节展示了该算法在多个仿真场景中的有效性。最后，第七节提供了一些结论。</p><h3 id=2-问题陈述与预备知识>2. 问题陈述与预备知识</h3><p>在定义问题时，我们假设无人机以恒定高度飞行，并配备了能够接收速度和航向命令的内环自动驾驶仪。根据[27]，我们假设受到速度保持和航向保持自动驾驶仪控制的无人机动力学为一阶：</p>$$
\begin{aligned}
\dot{z}_{x} &=v \cos \psi \quad\quad(1)\\ 
\dot{z}_{y} &=v \sin \psi \quad\quad(2)\\ 
\dot{\psi} &=\alpha_{\psi}\left(\psi^{c}-\psi\right) \quad\quad(3)\\
\dot{v} &=\alpha_{v}\left(v^{c}-v\right) \quad\quad(4)
\end{aligned}
$$<p>其中，$\alpha_{\psi}$ 和 $\alpha_{v}$ 是已知常数，依赖于自动驾驶仪的实现。此外，基础的无人机动力学约束了航向速率和速度，如下所示：</p>$$
-c \leq \dot{\psi} \leq c \quad\quad(5)
$$$$
0 < v_{\min } \leq v \leq v_{\max } \quad\quad(6)
$$<p>定义 1: 如果存在输入 $\psi^{c}(t)$ 和 $v^{c}(t)$，使得当 $\mathbf{z}(0)=\mathbf{z}^{d}(0)$ 时，$\mathbf{z}(t)=\mathbf{z}^{d}(t)$，并且动力学方程(1)-(4)和约束(5)-(6)在所有 $t \geq 0$ 时都得到满足，则称轨迹 $\mathbf{z}^{d}(t)=\left(z_{x}^{d}, z_{y}^{d}\right)^{T}$ 为动态可行的。</p><p>图 1 所示的动态轨迹平滑器 (DTS) 的输入是航路点路径</p>$$
\mathcal{P}=\left\{v,\left\{\mathbf{w}_{1}, \mathbf{w}_{2}, \ldots, \mathbf{w}_{N}\right\}\right\}
$$<p>其中，$v \in\left[v_{\min }, v_{\max }\right]$ 是无人机的期望速度，$\mathbf{w}_{i} \in \mathbb{R}^{2}$ 表示以惯性坐标表示的航路点。</p><p>我们方法的基本思想是为轨迹生成器赋予一个类似于无人机动力学的数学结构。特别地，DTS由以下微分方程给出：</p>$$
\begin{aligned}
\dot{\hat{z}}_{x} &=\hat{v} \cos \hat{\psi} \quad\quad(7) \\
\dot{\hat{z}}_{y} &=\hat{v} \sin \hat{\psi} \quad\quad(8)\\
\dot{\hat{\psi}} &=u \quad\quad(9)
\end{aligned}
$$<p>其中，$u \in[-c, c]$ 是将被选择以满足指定目标的输入。我们将假设轨迹以恒定速度 $\hat{v} \in\left[v_{\min }, v_{\max }\right]$ 行驶。注意，如果 $\hat{\mathbf{z}}(0)=\mathbf{z}(0)$，则方程(7)-(9)保证生成动态可行的轨迹。因此，可行性问题是预先得到满足的。方程(7)-(9)通过固定步长的常微分方程（ODE）求解器求解，并实时传播。换句话说，DTS的输出与无人机动力学的演变在时间上相对应。如果使用四阶Runge-Kutta算法[28]，则每个采样周期内需要计算四次$u$。因此，计算复杂度依赖于$u$的计算。</p><p>注意，如果 $u=+c$，则方程(7)-(8)中给出的DTS描绘出一个右旋圆，如图2所示。类似地，如果 $u=-c$，则DTS描绘出一个左旋圆。如图2所示，DTS的局部可达区域由这两个圆所界定。定义局部可达区域的圆的半径为 $R=\hat{v} / c$。注意，随着期望速度的增加，最小转弯半径也会增加。如果 $(\hat{\mathbf{z}}, \hat{\psi})$，其中 $\hat{\mathbf{z}}=\left(\hat{z}_{x}, \hat{z}_{y}\right)^{T}$ 是DTS的配置，那么界定可达区域的两个圆的圆心给出为</p>$$
\begin{aligned}
&\mathbf{c}_{R}(t)=\hat{\mathbf{z}}(t)+R\left(\begin{array}{c}
-\sin (\hat{\psi}(t)) \\
\cos (\hat{\psi}(t))
\end{array}\right) \quad\quad(10) \\
&\mathbf{c}_{L}(t)=\hat{\mathbf{z}}+R\left(\begin{array}{c}
\sin (\hat{\psi}(t)) \\
-\cos (\hat{\psi}(t))
\end{array}\right) \quad\quad(11)
\end{aligned}
$$<p>对应的半径为 $R$ 的圆分别表示为 $\mathcal{C}_{L}$ 和 $\mathcal{C}_{R}$。由于可达区域的边界由已知圆心和半径的圆所定义，因此，可以通过计算效率较高的方式来找到可达区域与直线和圆的交点。</p><img src=/images/kappa/f2.png width=400 alt=图2><p>图2. DTS的局部可达区域。</p><p>在第三节中，我们将定义一类可行轨迹，并证明它们满足庞特里亚金最小值原理的必要条件，用于最小化从一个航路点段到下一个航路点段的过渡时间，同时满足动力学方程(1)-(4)和约束(5)-(6)。为了准确起见，我们回顾庞特里亚金最小值原理[26]，其可以表述如下。</p><p>定义 2: 给定动力学系统 $\dot{x}=f(x, u)$，初始条件为 $x_{0}$，终端约束集 $\chi=\left\{x \in \mathbb{R}^{n}: g(x)=0\right\}$ 和控制约束集 $\mathcal{U}=\left\{u \in \mathbb{R}^{m}: h(u) \geq 0\right\}$，其中 $f, g: \mathbb{R}^{n} \rightarrow \mathbb{R}^{q}$ 和 $h$ 是连续可微的，并且 $\frac{\partial g}{\partial x}$ 和 $\frac{\partial h}{\partial u}$ 的秩是满秩的，控制策略 $u^{*}(t)$ 是关于成本函数 $J=\int_{0}^{T} l(x, u) d t$ 的极值控制策略，其中 $l$ 是连续可微的，若存在一个连续分段可微的函数 $\lambda(t) \in \mathbb{R}^{n}$ 和常数 $\rho \in \mathbb{R}^{q}$，使得以下方程得到满足</p>$$
\begin{aligned}
\dot{x}^{*} &=\frac{\partial H}{\partial \lambda}\left(x^{*}, u^{*}, \lambda^{*}\right) \\
\dot{\lambda}^{*} &=-\frac{\partial H}{\partial x}\left(x^{*}, u^{*}, \lambda^{*}\right) \\
\lambda^{*}(T) &=\frac{\partial g}{\partial x}\left(x^{*}(T)\right)^{T} \rho \\
g\left(x^{*}(T)\right) &=0 \\
u^{*}(t) &=\arg \min _{u \in \mathcal{U}} H\left(x^{*}, u, \lambda^{*}\right) \\
H\left(x^{*}, u^{*}, \lambda^{*}\right) &=0,
\end{aligned}
$$<p>其中，$H(x, u, \lambda)=l(x, u)+\lambda^{T} f(x, u)$ 是系统的哈密顿量。</p><p>最小时间极值轨迹是关于成本函数 $J = \int_{0}^{T} dt$ 的极值轨迹。</p><h3 id=3-极值轨迹>3. 极值轨迹</h3><p>在本节中，我们定义了一类动态可行轨迹，称为 $\kappa$-轨迹，并证明它们是最小时间极值轨迹。</p><p>考虑由三个航路点 $\mathbf{w}_{i-1}$、$\mathbf{w}_{i}$ 和 $\mathbf{w}_{i+1}$ 定义的航路点路径，设</p>$$
\begin{aligned}
\mathbf{q}_{i} &=\frac{\mathbf{w}_{i}-\mathbf{w}_{i-1}}{\left\|\mathbf{w}_{i}-\mathbf{w}_{i-1}\right\|} \\
\mathbf{q}_{i+1} &=\frac{\mathbf{w}_{i+1}-\mathbf{w}_{i}}{\left\|\mathbf{w}_{i+1}-\mathbf{w}_{i}\right\|}
\end{aligned}
$$<p>将沿着相应路径段的单位向量表示为图3所示。令 $\beta$ 表示 $\mathbf{q}_{i}$ 和 $\mathbf{q}_{i+1}$ 之间的夹角，我们得到</p><img src=/images/kappa/f3.png width=400 alt=图3><p>图3. 在$\kappa$-轨迹定义中使用的内切圆。</p>$$
\beta=\cos ^{-1}\left(\mathbf{q}_{i+1}^{T} \mathbf{q}_{i}\right) .
$$<p>如图3所示，设 $\overline{\mathcal{C}}$ 为半径为 $R=\hat{v} / c$ 的圆，其圆心位于由三个航路点形成的角的平分线上，使得该圆与直线 $\overline{\mathbf{w}_{i-1} \mathbf{w}_{i}}$ 和 $\overline{\mathbf{w}_{i} \mathbf{w}_{i+1}}$ 恰好在每条直线上各相交一个点。$\beta$ 的平分线将与 $\overline{\mathcal{C}}$ 在两个位置相交。令 $\overline{\mathbf{p}}$ 为最接近 $\mathbf{w}_{i}$ 的交点。</p><p>从图 3 可以看出，</p>$$
\sin \left(\frac{\beta}{2}\right)=\frac{R}{\left\|\overline{\mathbf{p}}-\mathbf{w}_{i}\right\|+R} .
$$<p>通过对该表达式进行变形，可发现$\mathbf{w}_{i}$ 和 $\overline{\mathbf{p}}$ 之间的距离为</p>$$
\left\|\overline{\mathbf{p}}-\mathbf{w}_{i}\right\|=R\left(\frac{1}{\sin \left(\frac{\beta}{2}\right)}-1\right)
$$<p>沿三个航路点形成的角的平分线指向的单位矢量由下式给出</p>$$
\overline{\mathbf{q}}=\frac{\mathbf{q}_{i+1}-\mathbf{q}_{i}}{\left\|\mathbf{q}_{i+1}-\mathbf{q}_{i}\right\|}
$$<p>因此，点 $\overline{\mathbf{p}}$ 由下式给出</p>$$
\overline{\mathbf{p}}=\mathbf{w}_{i}+R\left(\frac{1}{\sin \left(\frac{\beta}{2}\right)}-1\right) \overline{\mathbf{q}}
$$<p>设 p(κ) 表示在 $\mathbf{w}_{i}$和$\overline{\mathbf{p}}$之间的直线（位于角平分线上）上的一个参数化点。</p>$$
\mathbf{p}(\kappa)=\mathbf{w}_{i}+\kappa R\left(\frac{1}{\sin \left(\frac{\beta}{2}\right)}-1\right) \overline{\mathbf{q}}
$$<p>其中$\kappa \in[0,1]$。 显然 $\mathbf{p}(0)=\mathbf{w}_{i}$，并且 $\mathbf{p}(1)=\overline{\mathbf{p}}$。</p><p>其中，$\kappa \in[0,1]$。显然，$\mathbf{p}(0)=\mathbf{w}_{i}$，而 $\mathbf{p}(1)=\overline{\mathbf{p}}$。</p><p>如图4所示，设 $\mathcal{C}_{\mathbf{p}(\kappa)}$ 为半径为 $R=\hat{v} / c$ 的圆，其圆心位于 $\overline{\mathbf{q}}$ 的方向上，并与 $\mathbf{p}(\kappa)$ 相交。此外，设 $\mathcal{C}_{i}$ 为半径为 $R$ 的圆，放置在使其与 $\mathcal{C}_{\mathbf{p}(\kappa)}$ 和 $\overline{\mathbf{w}_{i-1} \mathbf{w}_{i}}$ 各相交一个位置的地方。类似地，定义 $\mathcal{C}_{i+1}$，如图4所示。</p><p>定义 3：$\kappa$-轨迹定义为通过以下方式构建的轨迹：沿着线段 $\overline{\mathbf{w}_{i-1} \mathbf{w}_{i}}$ 行驶，直到与 $\mathcal{C}_{i}$ 相交，接着沿着该圆行驶直到与 $\mathcal{C}_{\mathbf{p}(\kappa)}$ 相交，继续沿该圆行驶直到与 $\mathcal{C}_{i+1}$ 相交，再沿该圆行驶直到与线段 $\overline{\mathbf{w}_{i} \mathbf{w}_{i+1}}$ 相交，如图4所示。</p><img src=/images/kappa/f4.png width=400 alt=图4><p>图. 4. 一个动态可行的$\kappa$-轨迹。</p><p>定理 4：图4所示的$\kappa$-轨迹是唯一的、动态可行的最小时间极值轨迹，它从航路点段 $\overline{\mathbf{w}_{i-1} \mathbf{w}_{i}}$ 过渡到航路点段 $\overline{\mathbf{w}_{i} \mathbf{w}_{i+1}}$ 并直接通过 $\mathbf{p}(\kappa)$。</p><p>证明：注意，图4所示的$\kappa$-轨迹关于$\beta$的平分线是对称的。由于对称性，只需证明从$\mathbf{p}(\kappa)$到线段$\overline{\mathbf{w}_{i} \mathbf{w}_{i+1}}$的轨迹是最小时间极值轨迹。为了不失一般性，进行坐标变换，使得线段$\overline{\mathbf{w}_{i} \mathbf{w}_{i+1}}$位于$Y$轴上，如图5所示。考虑具有初始条件的时间最优控制问题：</p><img src=/images/kappa/f5.png width=400 alt=图5><p>Fig. 5. 变换坐标中的时间最优控制问题。</p>$$
\left(\begin{array}{c}
\hat{\mathbf{z}}(0) \\
\hat{\psi}(0)
\end{array}\right)=\left(\begin{array}{c}
\mathbf{p}(\kappa) \\
\theta \equiv \frac{\pi-\beta}{2}
\end{array}\right)
$$<p>以及边界约束由以下给出：</p>$$
g(x)=\left(\begin{array}{c}
\mathbf{n}^{T} \hat{\mathbf{z}}(T) \\
\hat{\psi}(T)
\end{array}\right)=\mathbf{0}
$$<p>其中，$\mathbf{n}=(1,0)^{T}$ 是线段 $\overline{\mathbf{w}_{i} \mathbf{w}_{i+1}}$ 的法向量，且 $\hat{\psi}(T)=0$。终端约束确保在时间 $T$ 时，DTS 位于线段上，并且与期望方向对齐。该系统的哈密顿量由以下给出：</p>$$
H=1+\lambda_{1} \hat{v} \cos \hat{\psi}+\lambda_{2} \hat{v} \sin \hat{\psi}+\lambda_{3} u
$$<p>我们推测，bang-bang控制策略</p>$$
u^*(t) \;=\;
\begin{cases}
-c, & 0 \le t < t_{1},\\
   c, & t_{1} \le t \le T
\end{cases}
$$<p>是最小时间极值轨迹，并且证明由此得到的系统轨迹满足方程(12)-(17)。方程(12)显然得到满足，因为 $\partial H / \partial \lambda = (\hat{v} \cos \hat{\psi}, \hat{v} \sin \hat{\psi}, u)^{T}$。方程(13)和(14)导致以下常微分方程（ODE）系统：</p>$$
\begin{aligned}
\dot{\lambda}_{1}^{*} &=0 \\
\dot{\lambda}_{2}^{*} &=0 \\
\dot{\lambda}_{3}^{*} &=\lambda_{1}^{*} \hat{v} \sin \hat{\psi}^{*}-\lambda_{2}^{*} \hat{v} \cos \hat{\psi}^{*}
\end{aligned}
$$<p>边界约束为</p>$$
\begin{aligned}
&\lambda_{1}^{*}(T)=\rho_{1} n_{x}=0 \\
&\lambda_{2}^{*}(T)=\rho_{1} n_{y}=\rho_{1} \\
&\lambda_{3}^{*}(T)=\rho_{2}
\end{aligned}
$$<p>因此，$\lambda_{1}^{*}(t) \equiv 0$ 和 $\lambda_{2}^{*}(t) \equiv \rho_{1}$。通过从 $t=T$ 反向积分 $\dot{\hat{\psi}}^{*}=u^{*}$，以及从 $t=0$ 正向积分，得到：</p>$$
\hat{\psi}^{*}(t)= \begin{cases}-c t+\theta, & 0 \leq t \leq t_{1} \\ c(t-T), & t_{1} \leq t \leq T\end{cases}
$$<p>在 $t=t_{1}$ 处强制连续性得到：</p>$$
t_{1}=\frac{T}{2}+\frac{\theta}{2 c}
$$<p>通过从 $t=T$ 反向积分 $\dot{\lambda}_{3}$ 得到：</p>$$
\lambda_{3}^{*}(t)= \begin{cases}\frac{\rho_{1} \hat{v}}{c} \sin (-c t+\theta)+k_{1}, & 0 \leq t \leq t_{1} \\ -\frac{\rho_{1} \hat{v}}{c} \sin (c(t-T))+k_{2}, & t_{1} \leq t \leq T\end{cases}
$$<p>where</p>$$
\begin{aligned}
&k_{1}=-\frac{2 \rho_{1} \hat{v}}{c} \sin \left(\frac{\theta}{2}-\frac{c T}{2}\right)+\rho_{2} \\
&k_{2}=\rho_{2}
\end{aligned}
$$<p>这些由连续性和终端条件决定。沿着 $\left(x^{*}, \lambda^{*}, u^{*}\right)$ 评估哈密顿量，我们得到：</p>$$
H\left(x^{*}, \lambda^{*}, u^{*}\right)=1+\lambda_{2}^{*} \hat{v} \sin \left(\hat{\psi}^{*}\right)+\lambda_{3}^{*} u^{*}= \begin{cases}1-c k_{1}, & 0 \leq t \leq t_{1} \\ 1+c k_{2}, & t_{1} \leq t \leq T\end{cases}
$$<p>因此，方程(17)要求 $\rho_{2} = -1 / c$ 并且</p>$$
\rho_{1}=-\frac{1}{\hat{v} \sin \left(\frac{\theta}{2}-\frac{T c}{2}\right)},
$$<p>这在 $c T - \theta \neq 2 \pi n$ 对于任何整数 $n$ 时是有限的。通过显式地求解 $T$，我们将证明 $\rho_{1}$ 是良好定义的。从物理角度来看，只有当从一个段到下一个段的过渡中发生循环时，$c T - \theta$ 才能等于 $2 \pi$（或其整数倍）。通过积分 $\dot{\hat{z}}_{y}$，我们得到：</p>$$
\hat{z}_{y}= \begin{cases}\frac{\hat{v}}{c} \cos (-c t+\theta)-\frac{\hat{v}}{c} \cos \theta, & 0 \leq t \leq t_{1} \\ -\frac{\hat{v}}{c} \cos (c(t-T))+\frac{2 \hat{v}}{c} \cos \left(\frac{\theta}{2}-\frac{c T}{2}\right)-\frac{\hat{v}}{c} \cos \theta, & t_{1} \leq t \leq T\end{cases}
$$<p>我们选择 $T$ 为使得 $\hat{z}_{y}(T) = 0$ 的最小正数。从方程(24)中，$\hat{z}_{y}(T) = 0$ 意味着</p>$$
\cos \left(\frac{\theta}{2}-\frac{c T}{2}\right)=\frac{1+\cos \theta}{2} .
$$<p>由于 $0 < \frac{1 + \cos \theta}{2} < 1$，总是存在一个实数 $\theta / 2 - c T / 2$ 满足方程(25)。因此，</p>$$
T=\frac{\theta}{c}-\frac{2}{c} \cos ^{-1}\left(\frac{1+\cos \theta}{2}\right) .
$$<p>Define</p>$$
\Gamma(\alpha) \triangleq \frac{\theta}{c}-\frac{2}{c} \alpha
$$<p>我们现在确定在表达式(26)中应选择哪个角度来计算 $\arccos (\cdot)$。设 $\alpha \equiv \arccos (\beta)$，其中 $0<\beta<1$ 有一个解 $\alpha_{1}$，满足 $0<\alpha_{1}<\frac{\pi}{2}$，另一个解为 $\alpha_{2}$，满足 $-\frac{\pi}{2}<\alpha_{2}<0$。实际上，$\alpha_{2} = -\alpha_{1}$。如果我们选择 $\alpha$ 使得 $\alpha > \frac{\pi}{2}$，则 $T$ 将是负数，得到的是不可接受的解。另一方面，如果我们选择 $\alpha$ 使得 $\alpha < -\frac{\pi}{2}$，即 $\alpha = \alpha_{2} - 2 \pi n = -\alpha_{1} - 2 \pi n$，其中 $n$ 是正整数，那么 $0 < \Gamma(\alpha_{2}) < \Gamma(\alpha)$。因此，在寻找最小的正 $T$ 时，我们只需要考虑 $\alpha = \alpha_{1}$ 或 $\alpha_{2}$。因此，最小的正 $T$ 由以下给出：</p>$$
T=\min _{\Gamma\left(\alpha_{i}\right) \geq 0}\left\{\Gamma\left(\alpha_{1}\right), \Gamma\left(\alpha_{2}\right)\right\} .
$$<p>回到关于 $\rho_{1}$ 是否如方程(23)中所表达的那样是良好定义的问题，注意到根据(25)且由于 $0 < \theta < \frac{\pi}{2}$，我们有 $0 < \frac{1 + \cos \theta}{2} < 1$。因此，$\theta / 2 - T c / 2 \neq n \pi$ 对于任何整数 $n$，所以 $\rho_{1}$ 的方程是良好定义的。我们还可以看到 $\rho_{1}$ 非零，因此 $\lambda_{2}^{*}(t) \neq 0$。</p><p>我们已经证明了条件(12)-(17)得到了满足。为了完整性，我们还给出 $\hat{z}_{x}^{*}$ 的表达式：</p>$$
\hat{z}_{x}(t)=\left\{\begin{array}{ll}
-\frac{\hat{v}}{c} \sin (-c t+\theta)+\frac{\hat{v}}{c} \sin \theta & 0 \leq t \leq t_{1} \\
\frac{\hat{v}}{c} \sin (c(t-T))-\frac{2 v}{c} \sin \left(\frac{\theta}{2}-\frac{T c}{2}\right)+\frac{\hat{v}}{c} \sin \theta & t_{1} \leq t \leq T
\end{array} .\right.
$$<h3 id=4-动态轨迹平滑>4. 动态轨迹平滑</h3><p>在本节中，我们介绍了一种实时算法，该算法生成 $\kappa$-轨迹。如果 $\kappa=1$，则 $\kappa$ 轨迹以最短时间从航路点段 $\overline{\mathbf{w}_{i-1} \mathbf{w}_{i}}$ 过渡到航路点段 $\overline{\mathbf{w}_{i} \mathbf{w}_{i+1}}$。如果 $\kappa=0$，则 $\kappa$-轨迹执行一个最小时间过渡，前提是它直接通过 $\mathbf{w}_{i}$。我们还将在本节中展示如何选择 $\kappa$，使得 $\kappa$-轨迹具有与原始航路点路径相同的路径长度。</p><img src=/images/kappa/f6.png width=400 alt=图6><p>图6. 选择 $u$ 背后基本思想的图示。</p><p>算法的基本思想如图6所示。右转和左转约束分别由方程(10)-(11)给出的 $\mathcal{C}_{R}$ 和 $\mathcal{C}_{L}$ 在不同时间点表示。时间的进程由 $t_{1}, \ldots t_{6}$ 表示。为了避免图形过于复杂，图中未显示在时间 $t_{2}$ 和 $t_{5}$ 时的右转约束 $\mathcal{C}_{R}$。在时间 $t_{1}$ 时，DTS 正在跟踪航路点段 $\overline{\mathbf{w}_{i-1} \mathbf{w}_{i}}$。当左转圆 $\mathcal{C}_{L}$ 在时间 $t_{2}$ 与 $\mathcal{C}_{\mathbf{p}(\kappa)}$ 相交时，$u$ 被设置为 $-c$。左转约束被跟随，直到右转圆 $\mathcal{C}_{R}$ 在时间 $t_{3}$ 与 $\mathcal{C}_{\mathbf{p}(\kappa)}$ 完全一致。然后，DTS 变量 $u$ 被设置为 $+c$，右转约束被跟随，直到左转约束 $\mathcal{C}_{L}$ 在时间 $t_{4}$ 与航路点段 $\overline{\mathbf{w}_{i} \mathbf{w}_{i+1}}$ 相交。DTS 变量 $u$ 再次被设置为 $-c$，直到它在时间 $t_{5}$ 到达航路点段，此时 $u$ 被设置为零。</p><p>对于 $\kappa \in [0,1)$，图7展示了DTS选择 $u$ 的流程图。DTS算法的名义状态是跟踪当前的航路点路径段。由于方程(7)-(9)是通过固定采样率求解器求解的，因此无法通过简单地设置 $u=0$ 来跟踪路径。使用的跟踪算法将在第五节中讨论。当DTS开始跟踪当前航路点段时，首先计算 $\mathcal{C}_{p(\kappa)}$ 的位置。如果转弯是顺时针转弯，则监测约束圆 $\mathcal{C}_{L}$，直到它与 $\mathcal{C}_{p(\kappa)}$ 相交，此时 $u \leftarrow -c$（图6中的时间 $t_{2}$）。当 $u = -c$ 时，DTS 的运动使得 $\mathcal{C}_{L}$ 静止不动。然后监测约束圆 $\mathcal{C}_{R}$，直到它与 $\mathcal{C}_{p(\kappa)}$ 完全重合，此时 $u \leftarrow +c$（时间 $t_{3}$）。此时，$\mathcal{C}_{R}$ 静止不动，监测 $\mathcal{C}_{L}$，直到它从右侧与航路点段 $\overline{\mathbf{w}_{i} \mathbf{w}_{i+1}}$ 相交，此时 $u \leftarrow -c$（时间 $t_{4}$）。此时，约束圆 $\mathcal{C}_{L}$ 静止不动，监测 $\mathcal{C}_{R}$，直到它不再与 $\overline{\mathbf{w}_{i} \mathbf{w}_{i+1}}$ 相交，此时恢复跟踪（时间 $t_{5}$）。如果转弯是逆时针方向，则遵循类似的步骤。</p><p>切换时间通过找到圆和直线的交点来确定。在数字硬件中找到这些切换时间存在实际问题。这些问题及其相关影响将在第五节中讨论。</p><img src=/images/kappa/f7.png width=400 alt=图7><p>图7. 针对 $\kappa \in [0,1)$ 的DTS算法框图</p><p>如果 $\kappa=1$，则DTS算法将大大简化。与 $\kappa \in [0,1)$ 的情况类似，第一步是确定 $\mathcal{C}_{\mathbf{p}(\kappa)}$ 和转弯方向。如图8所示，对于顺时针转弯，DTS 跟踪直线路径段 $\overline{\mathbf{w}_{i-1} \mathbf{w}_{i}}$，直到 $\mathcal{C}_{R}$ 与 $\mathcal{C}_{p(\kappa)}$ 重合，此时 $u \leftarrow +c$（图8中的时间 $t_{2}$）。然后，$\mathcal{C}_{R}$ 静止不动，监测 $\mathcal{C}_{L}$，直到整个圆位于航路点段 $\overline{\mathbf{w}_{i} \mathbf{w}_{i+1}}$ 的左侧（时间 $t_{3}$），此时恢复跟踪。</p><img src=/images/kappa/f8.png width=400 alt=图8><p>图8. 针对 $\kappa=1$ 的DTS算法。</p><p>以下定理断言，DTS算法实现了第三节中定义的极值 $\kappa$-轨迹。</p><p>定理 5：图7所示的DTS算法实现了第三节中定义的极值 $\kappa$-轨迹。</p><p>DTS算法可以根据所使用的应用配置为不同的模式。例如，可能希望选择 $\kappa$ 以便轨迹与航路点的距离为 $D$。例如，这种模式可以用于确保附加到无人机上的传感器的探测范围经过航路点。如果 $D \in \left[0, R\left(1 / \sin \frac{\beta}{2} - 1\right)\right]$，那么通过使用方程(19)，可以简单地证明 $\kappa$ 的正确选择是</p>$$
\kappa^{*}=\frac{D}{R} \frac{\sin \frac{\beta}{2}}{1-\sin \frac{\beta}{2}} .
$$<p>如果希望轨迹直接通过航路点，则选择 $\kappa^{*} = 0$。另一方面，如果希望在航路点之间仅通过一次转弯过渡，则选择 $\kappa^{*} = 1$。</p><p>对于时间关键任务，通常希望根据航路点路径规划任务。然而，如果轨迹平滑过程改变了航路点路径的路径长度，那么任务的时间安排将受到影响。因此，希望选择 $\kappa$，使得 $\kappa$-轨迹的路径长度等于航路点路径的路径长度。为此，下面的引理推导了 $\kappa$-轨迹路径长度的解析表达式。</p><p>引理 6：如果 $\kappa \in [0,1]$，且 $R = \hat{v} / c$，则图4中所示的 $\kappa$-轨迹的路径长度由以下公式给出：</p>$$
\begin{aligned}
&\mathcal{L}\left(\kappa, \mathbf{w}_{i+1}, \mathbf{w}_{i}, \mathbf{w}_{i-1}\right)=\left\|\mathbf{w}_{i+1}-\mathbf{w}_{i}\right\|+\left\|\mathbf{w}_{i}-\mathbf{w}_{i-1}\right\| \\
&+2 R\left(\frac{\pi-\beta}{2}+2 \cos ^{-1}(\Xi(\kappa, \beta))-\Xi(\kappa, \beta) \sqrt{\frac{1}{\Xi(\kappa, \beta)^{2}}-1}-(1-\kappa) \cos \frac{\beta}{2}-\kappa \cot \frac{\beta}{2}\right),
\end{aligned}
$$<p>where</p>$$
\beta=\cos ^{-1}\left(\left(\frac{\mathbf{w}_{i+1}-\mathbf{w}_{i}}{\left\|\mathbf{w}_{i+1}-\mathbf{w}_{i}\right\|}\right)^{T}\left(\frac{\mathbf{w}_{i}-\mathbf{w}_{i-1}}{\left\|\mathbf{w}_{i}-\mathbf{w}_{i-1}\right\|}\right)\right),
$$<p>and</p>$$
\Xi(\kappa, \beta)=\frac{(1+\kappa)+(1-\kappa) \sin \frac{\beta}{2}}{2} .
$$<p>证明：参考图 9，我们看到</p>$$
\begin{aligned}
\mathcal{L} &=\left\|\mathbf{w}_{i+1}-\mathbf{w}_{i}\right\|+\left\|\mathbf{w}_{i}-\mathbf{w}_{i-1}\right\|-2\left(\overline{\mathbf{w}_{i} c}+\overline{c e}\right)+2(R \theta+R(\pi / 2+\theta-\beta / 2)) \\
&=\left\|\mathbf{w}_{i+1}-\mathbf{w}_{i}\right\|+\left\|\mathbf{w}_{i}-\mathbf{w}_{i-1}\right\|+2 R\left(\frac{\pi-\beta}{2}+2 \theta-\frac{\overline{\mathbf{w}_{i} c}+\overline{c e}}{R}\right)
\end{aligned}
$$<p>We note that</p>$$
\overline{c e}=\sqrt{(R+\overline{c d})^{2}-R^{2}} .
$$<p>根据正弦定律，</p>$$
\frac{\overline{\mathbf{w}_{i} c}}{\sin \left(\frac{\pi}{2}+\theta-\frac{\beta}{2}\right)}=\frac{R+\overline{\mathbf{w}_{i} \mathbf{p}(\kappa)}}{\sin \left(\frac{\pi}{2}-\theta\right)}=\frac{R-\overline{c d}}{\sin \left(\frac{\beta}{2}\right)} .
$$<p><a href=#R-image-c7be3366ca1abc5bd1b85426b88463cb class=lightbox-link><img class="lazy lightbox figure-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-17.jpg?height=734&width=504&top_left_y=170&top_left_x=378" style=height:734;width:504></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c7be3366ca1abc5bd1b85426b88463cb><img class="lazy lightbox lightbox-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-17.jpg?height=734&width=504&top_left_y=170&top_left_x=378"></a></p><p>图9. 引理 6 证明中的定义。</p><p>通过解出 $\overline{cd}$ 和 $\overline{\mathbf{w}_{i} c}$，我们得到：</p>$$
\begin{aligned}
\overline{c d} &=R-\left(R+\overline{\mathbf{w}_{i} \mathbf{p}(\kappa)}\right) \frac{\sin \left(\frac{\beta}{2}\right)}{\cos \theta} \\
\overline{\mathbf{w}_{i} c} &=\left(R+\overline{\mathbf{w}_{i} \mathbf{p}(\kappa)}\right) \frac{\cos \left(\theta-\frac{\beta}{2}\right)}{\cos \theta}=\left(R+\overline{\mathbf{w}_{i} \mathbf{p}(\kappa)}\right)\left(\cos \frac{\beta}{2}+\tan \theta \sin \frac{\beta}{2}\right) .
\end{aligned}
$$<p>从图9，使用 $\cos \theta = \frac{R}{R + \overline{c d}}$，我们得到：</p>$$
\cos \theta=\frac{R+\left(R+\overline{\mathbf{w}_{i} \mathbf{p}(\kappa)}\right) \sin \left(\frac{\beta}{2}\right)}{2 R}
$$<p>注意到 $\beta \in (0, \pi)$ 并从方程(19)中代入，得到：</p>$$
\overline{\mathbf{w}_{i} \mathbf{p}(\kappa)}=\kappa R\left(\frac{1}{\sin \left(\frac{\beta}{2}\right)}-1\right)
$$<p>解出 $\theta$，得到：</p>$$
\theta=\cos ^{-1}\left(\frac{(1+\kappa)+(1-\kappa) \sin \frac{\beta}{2}}{2}\right)=\cos ^{-1}(\Xi(\kappa, \beta)) .
$$<p>将方程(36)和(38)代入方程(34)，得到：</p>$$
\overline{c e}=R \sqrt{\frac{4}{\left[(1+\kappa)+(1-\kappa) \sin \frac{\beta}{2}\right]^{2}}-1}=R \sqrt{\frac{1}{\Xi^{2}(\kappa, \beta)}-1}
$$<p>从图9中注意到 $\tan \theta = \frac{\overline{c e}}{R}$，并使用方程(40)，我们可以从方程(37)中解出 $\overline{\mathbf{w}_{i} c}$，得到：</p>$$
\begin{aligned}
\overline{\mathbf{w}_{i} c} &=R\left((1-\kappa)+\frac{\kappa}{\sin \frac{\beta}{2}}\right)\left(\cos \frac{\beta}{2}+\sin \frac{\beta}{2} \sqrt{\frac{4}{\left[(1+\kappa)+(1-\kappa) \sin \frac{\beta}{2}\right]^{2}}-1}\right) \\
&=R\left((\Xi(\kappa, \beta)-1) \sqrt{\frac{1}{\Xi^{2}(\kappa, \beta)}-1}+(1-\kappa) \cos \frac{\beta}{2}+\kappa \cot \frac{\beta}{2}\right) .
\end{aligned}
$$<p>因此，将方程(39)、(40)和(41)代入方程(33)得到方程(30)。</p><p>从引理6可以看出，航路点路径 $\overline{\mathbf{w}_{i-1} \mathbf{w}_{i} \mathbf{w}_{i+1}}$ 和相关的 $\kappa$-轨迹之间的路径长度差异由以下给出：</p>$$
\begin{aligned} \Lambda\left(\kappa, \mathbf{w}_{i+1}, \mathbf{w}_{i}, \mathbf{w}_{i-1}\right)=2 R\left(\frac{\pi-\beta}{2}+2 \cos ^{-1}(\Xi(\kappa, \beta))-\Xi(\kappa, \beta) \sqrt{\frac{1}{\Xi(\kappa, \beta)^{2}}-1}\right.\\ &\left.-(1-\kappa) \cos \frac{\beta}{2}-\kappa \cot \frac{\beta}{2}\right) . \end{aligned}
$$<p>以下引理将用于找到 $\kappa$，使得 $\kappa$-轨迹与航路点轨迹具有相同的路径长度。</p><p>引理 7：如果 $\beta \in [0, \pi)$ 且 $\kappa \in [0, 1]$，则 $\Lambda$ 是 $\kappa$ 的递减函数。此外，$\left.\Lambda\left(0, \mathbf{w}_{i+1}, \mathbf{w}_{i}, \mathbf{w}_{i-1}\right)\right)>0$ 且 $\Lambda\left(1, \mathbf{w}_{i+1}, \mathbf{w}_{i}, \mathbf{w}_{i-1}\right)<0$。</p><p>证明：对式（42）关于 $\kappa$ 求导，经过一些代数变换，得</p>$$
\frac{\partial \Lambda}{\partial \kappa} = 2R \left[-\frac{\partial \Xi}{\partial \kappa} \sqrt{\frac{1}{\Xi^2} - 1} + \frac{\partial \Xi}{\partial \kappa} \frac{1}{\sqrt{1-\Xi^2}} \left(-2 + \frac{1}{\Xi}\right) + \cot \frac{\beta}{2} \left(\sin \frac{\beta}{2} - 1\right) \right].
$$<p>由式（32）知，$\beta \in [0,\pi)$ 且 $\kappa \in [0,1]$ 意味着 $\Xi \geq 0$ 且</p>$$
\frac{\partial \Xi}{\partial \kappa} = \frac{1 - \sin \frac{\beta}{2}}{2} > 0.
$$<p>因此，若</p>$$
-2 + \frac{1}{\Xi} \leq 0,
$$<p>则有</p>$$
\frac{\partial \Lambda}{\partial \kappa} < 0.
$$<p>根据定义，有</p>$$
\begin{aligned}
-2 + \frac{1}{\Xi} &= -2 + \frac{1 + \sin \frac{\beta}{2}}{2} + \kappa \frac{1 - \sin \frac{\beta}{2}}{2} \\
&\leq -2 + \frac{1 + \sin \frac{\beta}{2}}{2} + \frac{1 - \sin \frac{\beta}{2}}{2} \\
&= -1.
\end{aligned}
$$<p>因此，$\Lambda$ 关于 $\kappa$ 是递减函数。</p><p>具体表达式为</p>$$
\begin{aligned}
\Lambda\left(\kappa, \mathbf{w}_{i+1}, \mathbf{w}_i, \mathbf{w}_{i-1}\right) = 2R \Bigg(& \frac{\pi - \beta}{2} + 2 \cos^{-1}(\Xi(\kappa, \beta)) - \Xi(\kappa, \beta) \sqrt{\frac{1}{\Xi(\kappa, \beta)^2} - 1} \\
& - (1-\kappa) \cos \frac{\beta}{2} - \kappa \cot \frac{\beta}{2} \Bigg).
\end{aligned}
$$<p>注意到</p>$$
\Xi(0, \beta) = \frac{1 + \sin \frac{\beta}{2}}{2},
$$<p>从式（42）经代数变换可得</p>$$
\Lambda(0, \beta) = 2R \left[ \frac{\pi - \beta}{2} + 2 \cos^{-1} \left( \frac{1 + \sin \frac{\beta}{2}}{2} \right) - \sqrt{1 - \frac{1}{4} \left(1 + \sin \frac{\beta}{2}\right)^2} - \cos \frac{\beta}{2} \right].
$$<p>注意 $\Lambda(0, \pi) = 0$，且</p>$$
\frac{\partial \Lambda}{\partial (\beta/2)}(0, \beta) = 2R \left[ \left( \sin \frac{\beta}{2} - 1 \right) + \frac{ \cos \frac{\beta}{2} \left( \frac{1}{4} (1 + \sin \frac{\beta}{2}) - 1 \right) }{ \sqrt{1 - \frac{1}{4} (1 + \sin \frac{\beta}{2})^2} } \right].
$$<p>由拉格朗日余项定理 [29]，存在 $a \in (\beta, \pi)$，使得</p>$$
\Lambda(0, \beta) = \frac{\partial \Lambda}{\partial (\beta/2)} (0, a) \left( \frac{\beta - \pi}{2} \right).
$$<p>容易证明，对于所有 $a \in [0, \pi)$，有</p>$$
\frac{\partial \Lambda}{\partial (\beta/2)} (0, a) < 0,
$$<p>这意味着 $\Lambda(0) > 0$。</p><p>另外注意</p>$$
\Xi(1, \beta) = 1,
$$<p>由式（42）可得</p>$$
\Lambda(1, \beta) = 2R \left[ \frac{\pi - \beta}{2} - \cot \frac{\beta}{2} \right].
$$<p>对其求导得到</p>$$
\frac{\partial \Lambda}{\partial (\beta/2)} (1, \beta) = \cot^2 \frac{\beta}{2} > 0.
$$<p>因此，根据拉格朗日余项定理，存在 $a \in (\beta, \pi)$，使得</p>$$
\Lambda(1, \beta) = \cot^2 \frac{\beta}{2} \left( \frac{\beta - \pi}{2} \right).
$$<p>这意味着对于所有 $\beta \in [0, \pi)$，$\Lambda(1, \beta) < 0$。</p><p>对于时间关键任务，必须保证由DTS生成的轨迹的路径长度与原始航路点轨迹 $\mathcal{P}$ 的路径长度相同。下一个定理表明，存在一个 $\kappa \in [0, 1]$ 使得路径长度相等。</p><p>定理 8：如果 $\Lambda\left(\kappa, \mathbf{w}_{i-1}, \mathbf{w}_{i}, \mathbf{w}_{i+1}\right)$ 如方程(42)所给出，其中 $\beta \in [0, \pi)$ 如方程(31)所给出，且 $R = \hat{v} / c$，则存在唯一的 $\kappa^{*} \in [0,1]$ 使得 $\Lambda\left(\kappa^{*}\right) = 0$。此外，对应于 $\kappa^{*}$ 的 $\kappa$-轨迹与航路点路径 $\overline{\mathbf{w}_{i-1} \mathbf{w}_{i} \mathbf{w}_{i+1}}$ 具有相同的路径长度，即：</p>$$
L=\left\|\mathbf{w}_{i}-\mathbf{w}_{i-1}\right\|+\left\|\mathbf{w}_{i+1}-\mathbf{w}_{i}\right\| .
$$<p>此外，$\kappa^{*}$ 可以通过使用二分查找算法高效地数值求解，精确度为 $\bigcirc\left(2^{-n}\right)$，其中 $n$ 是 $\Lambda$ 的函数评估次数。</p><p>证明：由引理6可知，$\Lambda$ 表示 $\kappa$-轨迹与航路点路径的路径长度差。因此，若 $\Lambda=0$，则两路径长度相等。由引理7知，存在唯一的 $\kappa^* \in [0,1)$，使得 $\Lambda(\kappa^*)=0$。</p><p>由于 $\Lambda(0) > 0$ 且 $\Lambda(1) < 0$，二分法搜索的第一步选取 $\kappa=0.5$。$\Lambda(0.5)$ 的符号决定了 $\kappa^*$ 所在区间，精确度达到 $2^{-1}$。后续函数调用进一步细化该估计值。</p><h3 id=5-实现问题>5. 实现问题</h3><p>在本节中，我们讨论一些实际的实现问题，这些问题必须解决，以确保DTS算法在数字硬件上的稳健行为。实时实现要求通过数值常微分方程（ODE）求解器（例如，Runge-Kutta）使用固定时间步长来求解方程(7)-(9)。固定时间步长为检测图6中显示的切换时间带来了几个问题。例如，假设DTS正在跟踪直线路径段 $\overline{\mathbf{w}_{i-1} \mathbf{w}_{i}}$，并且算法正在寻找 $\mathcal{C}_{L}$ 与 $\mathcal{C}_{\mathbf{p}(\kappa)}$ 的交点，以检测切换时间 $t_{2}$，那么我们可能遇到图10所示的情况。圆 $\mathcal{C}_{L}$ 可能不会恰好在采样时间处与圆 $\mathcal{C}_{\mathbf{p}(\kappa)}$ 相交。因此，我们需要一种稳健的方法来检测圆和直线的交点，并且还需要指示何时错过了交点。</p><img src=/images/kappa/f10.png width=400 alt=图10><p>图10. 固定采样率对切换时间检测的影响.</p><p>为此，定义函数</p>$$
\begin{aligned}
\Psi(\mathbf{a}, \mathbf{b}) & \triangleq \operatorname{sign}\left\{\left[\left(\begin{array}{l}
\mathbf{a} \\
0
\end{array}\right) \times\left(\begin{array}{l}
\mathbf{b} \\
0
\end{array}\right)\right] \cdot \hat{\mathbf{k}}\right\} \\
&=\operatorname{sign}\left[a_{x} b_{y}-b_{x} a_{y}\right]
\end{aligned}
$$<p>其中，$\hat{\mathbf{k}}$ 是指向平面的单位向量。函数 $\Psi$ 可以用于多个目的。首先，如果 $\mathbf{q}_{i}$ 和 $\mathbf{q}_{i+1}$ 分别是沿着路径 $\overline{\mathbf{w}_{i-1} \mathbf{w}_{i}}$ 和 $\overline{\mathbf{w}_{i} \mathbf{w}_{i+1}}$ 的单位向量，如图4所示，则转弯的方向由 $\Psi\left(\mathbf{q}_{i}, \mathbf{q}_{i+1}\right)$ 给出，其中 $\Psi\left(\mathbf{q}_{i}, \mathbf{q}_{i+1}\right)>0$ 表示从当前路径段到下一个路径段的转弯是顺时针（右转），而 $\Psi\left(\mathbf{q}_{i}, \mathbf{q}_{i+1}\right)<0$ 表示转弯是逆时针（左转）。函数 $\Psi$ 还可以用于将 $\mathbb{R}^{2}$ 平面划分为两个不同的半平面，如图11所示。参考图6，我们将讨论切换时间 $t_{2}$ 到 $t_{5}$ 的稳健检测。</p><p><a href=#R-image-32f05ae4290c2562edd500dcfe651d6c class=lightbox-link><img class="lazy lightbox figure-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-21.jpg?height=302&width=428&top_left_y=170&top_left_x=406" style=height:302;width:428></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-32f05ae4290c2562edd500dcfe651d6c><img class="lazy lightbox lightbox-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-21.jpg?height=302&width=428&top_left_y=170&top_left_x=406"></a></p><p>图11. $\Psi$ 将 $\mathbb{R}^{2}$ 划分为两个不同的子区域。</p><p>切换时间 $t_{2}$。回想一下，圆 $\mathcal{C}_{L}$ 的圆心是 $\mathbf{c}_{L}$，圆 $\mathcal{C}_{\mathbf{p}(\kappa)}$ 的圆心是 $\mathbf{p}(\kappa)$，从图12可以看出，$\mathcal{C}_{L}$ 和 $\mathcal{C}_{\mathbf{p}(\kappa)}$ 的圆心之间的距离为 $\left\|\mathbf{c}_{L}-\mathbf{p}(\kappa)\right\|$。在切换时间 $t_{2}$ 之前，这个距离大于 $2 R$。在切换时间 $t_{2}$ 之后，这个距离小于 $2 R$。因此，可以通过监测 $\left\|\mathbf{c}_{L}-\mathbf{p}(\kappa)\right\|$ 来确定切换时间 $t_{2}$，假设在某个采样时间，这个量小于 $2 R$。</p><p>然而，如果 $\kappa \approx 1$，则可能在切换时间 $t_{2}$ 的交点前后，$\left\|\mathbf{c}_{L}-\mathbf{p}(\kappa)\right\| > 2 R$，正如图12所示。因此，</p><p><a href=#R-image-b115b2fbb538f450a200280284863bd1 class=lightbox-link><img class="lazy lightbox figure-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-21.jpg?height=330&width=466&top_left_y=792&top_left_x=397" style=height:330;width:466></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b115b2fbb538f450a200280284863bd1><img class="lazy lightbox lightbox-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-21.jpg?height=330&width=466&top_left_y=792&top_left_x=397"></a></p><p>图12. 当 $\kappa \approx 1$ 时，有限采样时间的影响。</p><p>同时，还需要检测何时 $\mathbf{c}_{L}$ 从半平面 $\mathcal{S}_{1}$ 移动到半平面 $\mathcal{S}_{2}$。根据图11的指导，可以通过监测 $\Psi\left(\mathbf{c}_{L}-\mathbf{p}(\kappa), R(\pi / 2) \mathbf{q}_{i}\right)$ 的符号来完成这一点，其中</p>$$
R(\phi)=\left(\begin{array}{cc}
\cos \phi & -\sin \phi \\
\sin \phi & \cos \phi
\end{array}\right)
$$<p>如果 $\Psi\left(\mathbf{c}_{L}-\mathbf{p}(\kappa), R(\pi / 2) \mathbf{q}_{i}\right) > 0$，则 $\mathbf{c}_{L} \in \mathcal{S}_{1}$，否则 $\mathbf{c}_{L} \in \mathcal{S}_{2}$。</p><p>切换时间 $t_{3}$。切换时间 $t_{3}$ 也可以通过半平面论证来检测。如图13所示，$t_{3}$ 发生在圆 $\mathcal{C}_{R}\left(\mathbf{c}_{R}\right)$ 的圆心从 $\mathcal{S}_{1}$ 过渡到 $\mathcal{S}_{2}$ 时，可以通过以下函数来检测：</p>$$
\Psi\left(\mathbf{c}_{R}-\mathbf{c}_{L}, \frac{\mathbf{p}(\kappa)-\mathbf{c}_{L}}{\left\|\mathbf{p}(\kappa)-\mathbf{c}_{L}\right\|}\right)
$$<p><a href=#R-image-c61d1fc176c471004dd20e07d56380f2 class=lightbox-link><img class="lazy lightbox figure-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-22.jpg?height=370&width=456&top_left_y=308&top_left_x=406" style=height:370;width:456></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c61d1fc176c471004dd20e07d56380f2><img class="lazy lightbox lightbox-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-22.jpg?height=370&width=456&top_left_y=308&top_left_x=406"></a></p><p>图13. 切换时间 $t_{3}$。</p><p>切换时间 $t_{4}$。稳健地检测切换时间 $t_{4}$ 可以通过以下方式完成。首先，在切换时间 $t_{3}$，将 $\mathbf{c}_{L}$ 的位置通过平分角 $\beta$ 的直线进行反射。定义 $\beta$ 的平分线的单位向量由方程(18)给出。通过由 $\overline{\mathbf{q}}$ 描述的直线反射一个向量，使用的是 Householder 变换 [30]。</p>$$
H(\overline{\mathbf{q}})=\left(\begin{array}{cc}
1-2 \bar{q}_{y}^{2} & 2 \bar{q}_{x} \bar{q}_{y} \\
2 \bar{q}_{x} \bar{q}_{y} & 1-2 \bar{q}_{x}^{2}
\end{array}\right)
$$<p>因此，如图 14 所示，我们有</p>$$
\mathbf{c}_{L}\left(t_{4}\right)=\mathbf{w}_{i}+H(\overline{\mathbf{q}})\left(\mathbf{c}_{L}\left(t_{3}\right)-\mathbf{w}_{i}\right)
$$<p><a href=#R-image-c7fd0364b7b78421b93e0d0867e3c16f class=lightbox-link><img class="lazy lightbox figure-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-23.jpg?height=400&width=468&top_left_y=179&top_left_x=382" style=height:400;width:468></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c7fd0364b7b78421b93e0d0867e3c16f><img class="lazy lightbox lightbox-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-23.jpg?height=400&width=468&top_left_y=179&top_left_x=382"></a></p><p>图. 14. 切换时间 $t_{4}$.</p><p>下一步是等待直到 $\mathbf{c}_L$ 穿过由 $\overline{\mathbf{q}}$ 定义的半平面，该半平面包含 $\mathbf{c}_L(t_4)$。参考图14，我们正在寻找从半平面 $S_1$ 到 $S_2$ 的过渡。当以下表达式从 -1 切换到 +1 时，稳健地识别这种过渡：</p>$$
\Psi\left(\mathbf{c}_L - \mathbf{w}_i, \overline{\mathbf{q}}\right)
$$<p>最后一步是寻找 $\mathcal{C}_{L}$ 与线段 $\overline{\mathbf{w}_{i} \mathbf{w}_{i+1}}$ 的交点。参考图14，当 $\mathbf{c}_{L}$ 从半平面 $\mathcal{S}_{3}$ 穿越到半平面 $\mathcal{S}_{4}$ 时，或者换句话说，当以下表达式从 $-1$ 切换到 $+1$ 时，稳健地识别这种过渡：</p>$$
\Psi\left(\mathbf{c}_{L} - \mathbf{c}_{L}(t_4), \frac{\mathbf{p}(\kappa) - \mathbf{c}_{L}(t_4)}{\left\|\mathbf{p}(\kappa) - \mathbf{c}_{L}(t_4)\right\|}\right)
$$<p>切换时间 $t_{5}$。切换时间 $t_{5}$ 的检测与切换时间 $t_{3}$ 的检测类似。</p><p>最后一个实现问题是由于在切换时间 $t_{5}$ 时，DTS 可能与航路点段 $\overline{\mathbf{w}_{i} \mathbf{w}_{i+1}}$ 没有完美对齐，因此将 $u=0$ 会导致 DTS 偏离航路点段。在直线路段期间，我们需要有一个跟踪算法，使得 DTS 能够渐近地跟踪航路点段，同时仍然满足约束 $-c \leq u \leq c$。</p><img src=/images/kappa/f15.png width=400 alt=图15><p>图15. 航路点跟踪</p><p>参考图15，设 $\psi_{i}^{d} = \tan^{-1}\left(q_{i y} / q_{i x}\right)$ 为航路点路径所形成的角度。为了简化开发，我们将原点移至 $\mathbf{w}_{i-1}$ 并将数据旋转 $\psi_{i}^{d}$。因此，我们有：</p>$$
\begin{aligned}
&\mathbf{e}=\left(\begin{array}{c}
e_{\|} \\
e_{\perp}
\end{array}\right)=R\left(\phi_{i}^{d}\right)\left(\mathbf{z}-\mathbf{w}_{i-1}\right) \\
&\mathbf{\dot { e }}=\left(\begin{array}{c}
\dot{e}_{\|} \\
\dot{e}_{\perp}
\end{array}\right)=\left(\begin{array}{c}
v \cos \left(\psi-\psi_{i}^{d}\right) \\
v \sin \left(\psi-\psi_{i}^{d}\right)
\end{array}\right)
\end{aligned}
$$<p>控制目标是使得 $e_{\perp}$ 和 $\psi - \psi_{i}^{d}$ 渐近地趋于零，同时满足控制约束 $u \in [-c, c]$。以下定理描述了如何实现这一目标。</p><p>**定理 9：**给定非线性系统</p>$$
\begin{aligned}
\dot{e}_{\perp} &=v \sin \left(\psi-\psi_{i}^{d}\right) \\
\dot{\psi} &=u
\end{aligned}
$$<p>带有控制约束 $u \in[-c, c]$ 其中 $v$ 是一个正常数。 如果</p>$$
u=-\operatorname{sat}_{c}\left[\frac{\cos ^{3}\left(\psi-\psi_{i}^{d}\right)}{\gamma}\left(\frac{k_{1} e_{\perp}}{\sqrt{e_{\perp}^{2}+v^{2}}}+k_{2} \sin \left(\psi-\psi_{i}^{d}\right)\right)\right],
$$<p>其中 $\gamma c > 1, 0 < k_{1} < \gamma c$，且 $k_{2} > 0$，则原点是渐近稳定的，并且吸引域为 $\Omega = (-\infty, \infty) \times \left(\psi_{i}^{d} - \pi / 2, \psi_{i}^{d} + \pi / 2\right)$。</p><p>证明：由于对于所有 $\psi \in \Omega$，有 $\cos \left(\psi - \psi_{i}^{d}\right) > 0$，变量变换</p>$$
\begin{aligned}
&\zeta_{1} = \frac{e_{\perp}}{v}, \\
&\zeta_{2} = \sin(\psi - \psi_i^d)
\end{aligned}
$$<p>是一个微分同胚，变换后系统为</p>$$
\begin{aligned}
&\dot{\zeta}_{1} = \zeta_{2}, \\
&\dot{\zeta}_{2} = \sqrt{1 - \zeta_{2}^2} \, u,
\end{aligned}
$$<p>变换后的控制律为</p>$$
u = -\operatorname{sat}_c \left[ \frac{(1 - \zeta_{2}^2)^{3/2}}{\gamma} \left( \frac{k_1 \zeta_1}{\sqrt{\zeta_1^2 + 1}} + k_2 \zeta_2 \right) \right].
$$<p>在变换坐标下，定义区域为 $\Omega = (-\infty, \infty) \times (-1, 1)$。考虑值函数</p>$$
V(\zeta) = k_1 \sqrt{\zeta_1^2 + 1} - 1 + \frac{\gamma}{2} \frac{\zeta_2^2}{1 - \zeta_2^2},
$$<p>注意 $V$ 在 $\Omega$ 上正定，且当 $\zeta$ 接近 $\Omega$ 边界时，$V \to +\infty$。对式（47）求导得</p>$$
\dot{V} = \zeta_2 \left( \frac{k_1 \zeta_1}{\sqrt{\zeta_1^2 + 1}} + \frac{\gamma u}{(1 - \zeta_2^2)^{3/2}} \right).
$$<p>当控制信号 $u$ 未被饱和时，直接代入得</p>$$
\dot{V} = -k_2 \zeta_2^2.
$$<p>考虑 $u$ 被正向饱和的情况，此时</p>$$
\dot{V} = \zeta_2 \left( \frac{k_1 \zeta_1}{\sqrt{\zeta_1^2 + 1}} + \frac{\gamma c}{(1 - \zeta_2^2)^{3/2}} \right),
$$<p>且 $u = c$ 意味着</p>$$
-\frac{(1 - \zeta_2^2)^{3/2}}{\gamma} \left( \frac{k_1 \zeta_1}{\sqrt{\zeta_1^2 + 1}} + k_2 \zeta_2 \right) > c.
$$<p>重排后得到</p>$$
\frac{k_1 \zeta_1}{\sqrt{\zeta_1^2 + 1}} < -\frac{\gamma c}{(1 - \zeta_2^2)^{3/2}} - k_2 \zeta_2.
$$<p>因此，若 $\zeta\_2 > 0$，则</p>$$
\dot{V} < -k_2 \zeta_2^2.
$$<p>另一方面，若 $\zeta\_2 < 0$，则需要满足</p>$$
\frac{k_1 \zeta_1}{\sqrt{\zeta_1^2 + 1}} + \frac{\gamma c}{(1 - \zeta_2^2)^{3/2}} > 0.
$$<p>当 $\zeta\_1 \geq 0$ 时，该不等式显然成立。若 $\zeta\_1 < 0$，则有</p>$$
-\frac{k_1 \zeta_1}{\sqrt{\zeta_1^2 + 1}} < k_1 < \gamma c < \frac{\gamma c}{(1 - \zeta_2^2)^{3/2}}.
$$<p>由于 $u$ 被负向饱和时也可用类似推理证明，故 $\dot{V}$ 是半负定的，且定义集合</p>$$
\hat{\Omega} \triangleq \{ \zeta \in \Omega : \dot{V} = 0 \} = \{ \zeta \in \Omega : \zeta_2 = 0 \}.
$$<p>在 $\hat{\Omega}$ 上，系统动力学简化为</p>$$
\begin{aligned}
\dot{\zeta}_1 &= 0, \\
\dot{\zeta}_2 &= -\operatorname{sat}_c \left[ \frac{k_1}{\gamma} \frac{\zeta_1}{\sqrt{\zeta_1^2 + 1}} \right].
\end{aligned}
$$<p>这迫使系统轨迹离开 $\hat{\Omega}$，除非 $\zeta_{1} = 0$。因此，$\hat{\Omega}$ 中的最大不变集是原点，定理通过 LaSalle 不变性原理 [31], [32] 得出。</p><p>系统（45）与控制（46）的相位图如图16所示，展示了不同的 $\gamma$、$k_{1}$ 和 $k_{2}$ 值。</p><h3 id=6-仿真>6. 仿真</h3><p>$\kappa$-路径算法具有较小的计算负载，并且可以实时运行。在对 $1.8 \mathrm{GHz}$ 的奔腾级计算机进行的 200,000 次迭代测试中，算法的执行时间呈双峰分布。如果模拟车辆正在转弯，则每个时间步长的平均运行时间约为 $39 \mu \mathrm{s}$；而如果车辆在路径的直线段上，则每个步骤的平均运行时间约为 $16 \mu \mathrm{s}$。该算法的计算简便性使其能够在计算资源有限的无人机应用中实现。</p><p>。<a href=#R-image-7c66cd34c6814d2541c8a58b18758bcd class=lightbox-link><img class="lazy lightbox figure-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-26.jpg?height=556&width=680&top_left_y=179&top_left_x=283" style=height:556;width:680></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7c66cd34c6814d2541c8a58b18758bcd><img class="lazy lightbox lightbox-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-26.jpg?height=556&width=680&top_left_y=179&top_left_x=283"></a></p><p>图16. 转换后的跟踪问题的相位图。</p><p>$\kappa$-路径算法的仿真结果显示在图17中，包括最小时间过渡（$\kappa=1$）、通过航路点的过渡（$\kappa=0$）以及匹配原始直线路径长度的过渡（$\kappa$ 在 0 到 1 之间变化）。平滑算法在路径飞行过程中实时运行。当路径上的一个转弯完成时，平滑算法会查看下两个航路点并计算下一个转弯的平滑过渡。</p><p>对于图17中显示的最小时间过渡，可以看出，与 $\kappa=1$ 对应的转弯圆心的位置会根据相邻路径段之间的角度 $\beta$ 发生变化。通过航路点的 $\kappa=0$ 转弯圆也具有相同的特点。对于等长路径，导致路径长度相等的每个转弯的 $\kappa$ 值依赖于相邻路径段之间的 $\beta$ 角度。对于等长路径的最后四个转弯，$\kappa$ 值分别为 $0.266, 0.136, 0.406, 0.374$。通常，角度越尖锐，$\kappa$ 值越小，以平衡路径长度。图18显示了连接在锐角上的航路点段路径的特写视图。最小时间、通过航路点和等长过渡之间的差异可以清楚地看到。</p><p><a href=#R-image-2cf87b1fea29dc8b410e75496b905d1a class=lightbox-link><img class="lazy lightbox figure-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-27.jpg?height=528&width=536&top_left_y=179&top_left_x=354" style=height:528;width:536></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2cf87b1fea29dc8b410e75496b905d1a><img class="lazy lightbox lightbox-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-27.jpg?height=528&width=536&top_left_y=179&top_left_x=354"></a></p><p>Fig. 17. Sample trajectories.</p><p><a href=#R-image-0162ad64ee30381d38a799e32af051f2 class=lightbox-link><img class="lazy lightbox figure-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-28.jpg?height=532&width=528&top_left_y=178&top_left_x=363" style=height:532;width:528></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0162ad64ee30381d38a799e32af051f2><img class="lazy lightbox lightbox-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-28.jpg?height=532&width=528&top_left_y=178&top_left_x=363"></a></p><p>Fig. 18. Sample trajectories - close up.</p><h3 id=7-结论>7. 结论</h3><p>我们开发了一种生成点约束、时间极值轨迹（称为 $\kappa$-路径）的方法，用于在航路点路径的连续路径段之间进行过渡。这些路径满足动力学输入约束，模拟了无人机的动态能力，并通过一个简单的实时算法实现。此外，我们还开发了一种方法，能够推导出与原始直线路径具有相同长度的 $\kappa$-路径。</p><p>动态轨迹平滑方法有几个优点。首先，它可以与生成直线路径的航路点路径规划算法轻松集成。其次，该方法具有低计算开销。事实上，轨迹是在实时生成的，随着无人机沿路径飞行。第三，动态轨迹平滑器最小化了车辆偏离直线路径的时间。这些优点使得该方法成为无人机应用中可行的实现替代方案。</p><h3 id=附录1庞特里亚金最小值原理>附录1：庞特里亚金最小值原理</h3><p>庞特里亚金最小值原理（Pontryagin&rsquo;s Minimum Principle，简称PMP）是最优控制理论中的一个基本定理，用于求解最优控制问题。它由俄罗斯数学家庞特里亚金（Lev Pontryagin）于1950年代提出，旨在通过构造哈密顿量并求解适当的条件，来确定系统在给定约束下的最优控制策略。</p><h4 id=庞特里亚金最小值原理的基本思想>庞特里亚金最小值原理的基本思想</h4><p>在最优控制问题中，我们通常希望在满足一定约束的情况下，使得某个性能指标（通常是某种形式的成本函数）最小化或最大化。庞特里亚金最小值原理通过引入一个拉格朗日乘子（即伴随变量）来将这一优化问题转化为求解哈密顿量最小化的问题。</p><h4 id=数学表述>数学表述</h4><p>考虑一个标准的最优控制问题，其形式为：</p><ul><li><p><strong>状态方程</strong>：</p>$$ \dot{x}(t) = f(x(t), u(t)), \quad t \in [0, T] $$<p>其中，$x(t)$ 是系统状态，$u(t)$ 是控制输入，$f(x, u)$ 是状态方程。</p></li><li><p><strong>性能指标</strong>：</p>$$ J = \int_0^T L(x(t), u(t)) dt + \Phi(x(T)) $$<p>其中，$L(x(t), u(t))$ 是每个时间点的即时成本，$\Phi(x(T))$ 是终端成本。</p></li></ul><h4 id=庞特里亚金最小值原理的步骤>庞特里亚金最小值原理的步骤：</h4><ol><li><p><strong>构造哈密顿量</strong>：
定义哈密顿量：</p>$$ H(x, u, \lambda) = L(x, u) + \lambda^T f(x, u) $$<p>其中，$\lambda$ 是伴随变量（即拉格朗日乘子），用于表示系统状态方程的约束。</p></li><li><p><strong>必要条件</strong>：
最优控制和状态轨迹满足以下条件：</p><ul><li><p><strong>控制的最小化条件</strong>：最优控制$u^*(t)$应当使得哈密顿量$H(x, u, \lambda)$ 对$u$求导数的结果为零，即：</p>$$ \frac{\partial H}{\partial u} = 0 $$</li><li><p><strong>状态方程</strong>：状态方程必须满足：</p>$$ \dot{x}(t) = \frac{\partial H}{\partial \lambda} $$</li><li><p><strong>伴随方程</strong>：伴随变量的动态方程为：</p>$$ \dot{\lambda}(t) = -\frac{\partial H}{\partial x} $$</li><li><p><strong>边界条件</strong>：给定终端约束条件，可以得出伴随变量的边界条件。</p></li></ul></li><li><p><strong>最优性条件</strong>：
对于最优控制问题，满足上述条件的控制策略和状态轨迹称为最优解。</p></li></ol><h4 id=应用>应用</h4><p>庞特里亚金最小值原理广泛应用于各类最优控制问题，包括但不限于：</p><ul><li><strong>航迹规划</strong>：为飞行器、无人机等的运动规划提供最优控制策略。</li><li><strong>机器人控制</strong>：求解移动机器人、机械臂等的最优运动轨迹。</li><li><strong>经济学与金融学</strong>：用于资源分配、投资组合优化等问题。</li></ul><p>庞特里亚金最小值原理在处理复杂的动态系统时非常强大，特别是对于非线性、约束性强的系统。</p><h4 id=理解>理解</h4><p>庞特里亚金最小值原理（Pontryagin&rsquo;s Minimum Principle，简称PMP）是用来求解最优控制问题的一个重要方法。在最优控制问题中，我们通常希望找到一种控制策略，使得某个目标（比如最小化时间、能量或成本）在一定的约束条件下达到最优。</p><p>想象你驾驶一辆车，目标是以最短的时间从起点到达终点。你需要选择如何控制油门和刹车的力度，这就是控制问题。在这个过程中，车的速度、位置等状态随时间变化，而你想要通过合理地选择控制输入（油门和刹车）来使得车在规定的时间内到达目的地，并且尽量减少油耗或者其他的成本。</p><p>庞特里亚金最小值原理就是帮助你找到这个“最优驾驶策略”的工具。</p><h5 id=原理的核心思想>原理的核心思想：</h5><ol><li><p><strong>状态与控制的关系</strong>：
系统的状态（比如车的位置和速度）是由你控制的输入（比如油门、刹车）来决定的。最优控制问题的目标就是找到一个控制输入序列，使得系统在运行过程中满足某些约束（比如车速不能超过一定的限制，或者油量不能用完）并且在一定的性能指标下（比如最短时间）最优化。</p></li><li><p><strong>伴随变量</strong>：
为了处理这种问题，庞特里亚金原理引入了“伴随变量”。这些伴随变量是用来衡量状态变化对目标函数的影响的。它们相当于对你控制行为的反馈信号，告诉你当前的控制策略是否接近最优。</p></li><li><p><strong>最优控制的条件</strong>：
庞特里亚金最小值原理通过构建一个哈密顿量（哈密顿量是状态、控制输入和伴随变量的组合）来描述问题，并要求控制策略在满足系统约束的前提下，使得哈密顿量最小。换句话说，你的目标是调整控制策略，使得哈密顿量值最小。</p></li><li><p><strong>动态方程</strong>：
通过这个原理，可以得到一组动态方程，描述了如何通过控制输入来调整状态（比如车的速度和位置），以及如何调整伴随变量，直到达到最优解。</p></li></ol><h5 id=举个简单的例子>举个简单的例子：</h5><p>假设你想开车从城市A到城市B，目标是最短时间内到达，同时油费最省。庞特里亚金最小值原理的应用，就是通过引入适当的控制变量（如油门、刹车）和一些中间计算（比如伴随变量，衡量油费和时间的影响），帮助你找到最合适的驾驶策略。</p><h5 id=总结>总结：</h5><p>庞特里亚金最小值原理的核心就是：在满足约束的情况下，找到一种控制策略，使得某个目标（比如时间、能量等）最优化。这个过程涉及到通过建立“哈密顿量”和伴随变量来描述系统，并通过求解相应的方程来得到最优控制策略。</p><h3 id=附录2-求解轨迹的伪代码>附录2: 求解 $\kappa$‐轨迹的伪代码</h3><p>下面给出求解 $\kappa$‐轨迹的伪代码，既体现了输入与输出数据结构的设计，也展示了主要的求解逻辑过程。伪代码中以三个连续航路点（$w_{i-1}$, $w_i$, $w_{i+1}$）以及 UAV 参数作为输入，输出关键参数 $\kappa^*$ 和对应的参数化点 $p(\kappa^*)$（同时也可扩展生成完整的轨迹）。</p><hr><h4 id=数据结构设计>数据结构设计</h4><ul><li><p><strong>Waypoint</strong><br>用于表示二维航路点</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>DataStructure Waypoint:
    x: real
    y: real</code></pre></div></li><li><p><strong>UAVParameters</strong><br>表示无人机相关参数</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>DataStructure UAVParameters:
    v: real         // 固定或期望速度
    c: real         // 最大航向速率 (rad/s)
    dt: real        // 数值积分步长（如需要生成完整轨迹时使用）
    totalTime: real // 总模拟/规划时间</code></pre></div></li><li><p><strong>PlannerInput</strong><br>封装所有规划输入</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>DataStructure PlannerInput:
    waypoints: list of Waypoint    // 航路点序列
    params: UAVParameters</code></pre></div></li><li><p><strong>KappaTrajectoryOutput</strong><br>保存求解结果（可扩展为整个轨迹）</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>DataStructure KappaTrajectoryOutput:
    kappa_star: real       // 求解得到的 κ*
    p_kappa: Waypoint      // 根据 κ* 计算得到的关键交点 p(κ*)
    // 如果需要，还可以包含生成的轨迹序列，如 states: list of State</code></pre></div></li></ul><hr><h4 id=伪代码>伪代码</h4><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>Function SolveKappaTrajectory(w_im1: Waypoint, w_i: Waypoint, w_ip1: Waypoint, params: UAVParameters) -&gt; KappaTrajectoryOutput:
    // 1. 计算转弯半径 R
    R ← params.v / params.c

    // 2. 计算两个航路段的单位向量
    q_i   ← Normalize(w_i - w_im1)         // q_i = (w_i - w_im1) / ||w_i - w_im1||
    q_ip1 ← Normalize(w_ip1 - w_i)           // q_ip1 = (w_ip1 - w_i) / ||w_ip1 - w_i||

    // 3. 计算两航段间的夹角 β
    beta ← arccos(Dot(q_i, q_ip1))
    
    // 4. 计算角平分线方向单位向量 q_bar
    diff ← q_ip1 - q_i
    if Norm(diff) ≈ 0 then
        q_bar ← Perpendicular(q_i)         // 当航段近似平行时，取 q_i 的垂直方向
    else
        q_bar ← Normalize(diff)

    // 5. 利用二分搜索求解 κ* 使得路径长度差 Λ(κ) = 0
    kappa_star ← BisectionSolveKappa(beta, R, tolerance = 1e-6, maxIter = 50)

    // 6. 根据公式 (19) 计算关键交点 p(κ*)
    //     p(κ) = w_i + κ * R * (1/sin(β/2) - 1) * q_bar
    factor ← R * (1 / sin(beta / 2) - 1)
    p_kappa ← w_i + kappa_star * factor * q_bar

    // 7. 封装输出
    output.kappa_star ← kappa_star
    output.p_kappa ← p_kappa
    return output

-------------------------------------------------------------

Function BisectionSolveKappa(beta: real, R: real, tolerance: real, maxIter: integer) -&gt; real:
    low ← 0.0
    high ← 1.0
    lambda_low ← ComputeLambda(0.0, beta, R)
    lambda_high ← ComputeLambda(1.0, beta, R)
    
    // 根据引理要求：Λ(0) &gt; 0, Λ(1) &lt; 0
    if lambda_low &lt; 0 or lambda_high &gt; 0 then
        Error(&#34;输入参数不满足 Λ(0) &gt; 0 或 Λ(1) &lt; 0&#34;)
    
    for iter from 1 to maxIter do:
        mid ← (low + high) / 2
        lambda_mid ← ComputeLambda(mid, beta, R)
        if abs(lambda_mid) &lt; tolerance then
            return mid
        end if
        if lambda_mid &gt; 0 then
            low ← mid
        else
            high ← mid
        end if
    end for
    return mid   // 最大迭代次数后返回近似解

-------------------------------------------------------------

Function ComputeLambda(kappa: real, beta: real, R: real) -&gt; real:
    // 计算辅助量
    sin_half_beta ← sin(beta / 2)
    cos_half_beta ← cos(beta / 2)
    cot_half_beta ← cos_half_beta / sin_half_beta  // cot(β/2)
    
    // Ξ(κ,β) = ((1 + κ) + (1 - κ)* sin(β/2)) / 2
    Xi ← ((1 + kappa) + (1 - kappa) * sin_half_beta) / 2

    // 计算各项：Λ(κ) = 2R * [ (π-β)/2 + 2·acos(Xi) - Xi·sqrt(1/(Xi^2)-1) - (1-κ)·cos(β/2) - κ·cot(β/2) ]
    term1 ← (π - beta) / 2
    term2 ← 2 * arccos(Xi)
    term3 ← Xi * sqrt(1 / (Xi*Xi) - 1)
    term4 ← (1 - kappa) * cos_half_beta
    term5 ← kappa * cot_half_beta
    lambda_value ← 2 * R * (term1 + term2 - term3 - term4 - term5)
    return lambda_value

-------------------------------------------------------------

// 辅助函数：向量归一化
Function Normalize(vector: Waypoint) -&gt; Waypoint:
    norm_val ← sqrt(vector.x^2 + vector.y^2)
    return Waypoint(vector.x / norm_val, vector.y / norm_val)

// 辅助函数：向量减法
Operator Subtract(a: Waypoint, b: Waypoint) -&gt; Waypoint:
    return Waypoint(a.x - b.x, a.y - b.y)

// 辅助函数：向量点乘
Function Dot(a: Waypoint, b: Waypoint) -&gt; real:
    return a.x * b.x + a.y * b.y

// 辅助函数：向量加法和数乘同理

-------------------------------------------------------------</code></pre></div><hr><h4 id=说明>说明</h4><ol><li><p><strong>输入部分：</strong></p><ul><li>三个航路点 $w_{i-1}$, $w_i$, $w_{i+1}$（数据结构 <code>Waypoint</code>），</li><li>UAV 参数（数据结构 <code>UAVParameters</code>），例如速度 $v$ 和最大航向速率 $c$ 用于计算转弯半径 $R = v/c$。</li></ul></li><li><p><strong>核心求解流程：</strong></p><ul><li>计算两段航线的单位向量，并由此求得夹角 $\beta$；</li><li>计算角平分方向 $q_{\text{bar}}$；</li><li>定义路径长度差函数 $\Lambda(\kappa)$（见 <code>ComputeLambda</code>），并利用二分搜索 (<code>BisectionSolveKappa</code>) 求解使得 $\Lambda(\kappa) = 0$ 的 $\kappa^*$；</li><li>根据公式 (19) 计算关键点 $p(\kappa^*)$。</li></ul></li><li><p><strong>输出部分：</strong></p><ul><li>返回一个数据结构 <code>KappaTrajectoryOutput</code>，包含求解得到的 $\kappa^*$ 和对应的关键交点 $p(\kappa^*)$。</li><li>如果需要，还可以进一步扩展为完整的轨迹（如通过 DTS 状态机生成 UAV 状态序列）。</li></ul></li></ol><p>该伪代码为实现 $\kappa$‐轨迹求解提供了一个整体框架，实际代码实现时可根据具体应用要求进行扩展与细化。</p><h2 id=附录3--的物理含义>附录3 $\kappa$ 的物理含义</h2><p>在这篇论文中，κ是一个控制无人机如何在直线航点路径段之间过渡的参数。它的值在0到1之间，决定了一个特殊点p(κ)在两个连续路径段之间角度平分线上的位置。</p><p>κ的物理含义随其值而变化：</p><ol><li><p>当κ = 0时：轨迹直接穿过航点。这确保无人机精确到达每个航点，但可能不是最高效的过渡方式。</p></li><li><p>当κ = 1时：轨迹在航点段之间实现最小时间过渡，只使用一次转弯。这在时间上更高效，但与原始航点的偏离更大。</p></li><li><p>当0 &lt; κ &lt; 1时：轨迹代表了一种在通过航点和高效转弯之间的折中方案。</p></li></ol><p>作者还展示了如何计算特定的κ值，使得生成的平滑轨迹具有与原始航点路径（带有尖角的路径）完全相同的路径长度。这对于需要精确保持路径长度的协同定时任务特别有用。</p><p>本质上，κ是一个设计参数，允许轨迹生成器根据不同的任务需求进行配置——无论是优先考虑精确的航点跟踪、最小过渡时间，还是保持原始路径长度。</p><h2 id=附录4-κ轨迹平滑算法伪代码-by-claude-sonnet-37>附录4 κ轨迹平滑算法伪代码 by Claude Sonnet 3.7</h2><p>以下是基于Anderson、Beard和McLain的论文"无人机实时动态轨迹平滑"中提出的κ轨迹平滑算法的伪代码：</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>算法：动态轨迹平滑（DTS）

输入:
- 航点序列 W = {w₁, w₂, ..., wₙ}
- 期望速度 v̂
- 最大转向率 c
- κ参数 (0 ≤ κ ≤ 1)，控制平滑度

输出:
- 平滑的动态可行轨迹

初始化:
R = v̂/c  // 最小转弯半径
i = 1     // 当前航点索引
ẑ = w₁    // 初始位置
ψ̂ = 方向(w₂ - w₁)  // 初始航向

主循环:
  当 i &lt; n 时:
    // 计算相邻航点段之间的单位向量
    qᵢ = (wᵢ - wᵢ₋₁)/‖wᵢ - wᵢ₋₁‖
    qᵢ₊₁ = (wᵢ₊₁ - wᵢ)/‖wᵢ₊₁ - wᵢ‖
    
    // 计算航点段之间的角度
    β = cos⁻¹(qᵢᵀqᵢ₊₁)
    
    // 计算角度平分线的单位向量
    q̄ = (qᵢ₊₁ - qᵢ)/‖qᵢ₊₁ - qᵢ‖
    
    // 计算p(κ)点的位置
    p(κ) = wᵢ + κR((1/sin(β/2)) - 1)q̄
    
    // 计算转弯方向
    turnDirection = sign(qᵢ × qᵢ₊₁)
    
    // 跟踪当前航点段直到需要转弯
    当 ẑ在wᵢ₋₁wᵢ线段上 且 还未达到转弯点:
      u = trackPathSegment(ẑ, ψ̂, wᵢ₋₁, wᵢ)
      更新 ẑ, ψ̂ 通过微分方程:
        ẑ̇ₓ = v̂cos(ψ̂)
        ẑ̇ᵧ = v̂sin(ψ̂)
        ψ̂̇ = u
    
    // 执行转弯序列
    如果 turnDirection &gt; 0:  // 顺时针转弯
      // 转弯序列1：左-右-左
      u = -c  // 开始左转
      等待直到右转弯圆心CR与p(κ)重合
      u = +c  // 开始右转
      等待直到左转弯圆心CL与wᵢwᵢ₊₁线段相交
      u = -c  // 开始左转
      等待直到航向与wᵢwᵢ₊₁线段对齐
    否则:  // 逆时针转弯
      // 转弯序列2：右-左-右
      u = +c  // 开始右转
      等待直到左转弯圆心CL与p(κ)重合
      u = -c  // 开始左转
      等待直到右转弯圆心CR与wᵢwᵢ₊₁线段相交
      u = +c  // 开始右转
      等待直到航向与wᵢwᵢ₊₁线段对齐
    
    i = i + 1  // 移动到下一个航点
    
函数 trackPathSegment(ẑ, ψ̂, w₁, w₂):
  // 计算航点段方向
  qᵢ = (w₂ - w₁)/‖w₂ - w₁‖
  ψᵈ = atan2(qᵢᵧ, qᵢₓ)
  
  // 计算横向偏差
  e⊥ = ((ẑ - w₁) × qᵢ) · k̂  // k̂是指向平面外的单位向量
  
  // 计算控制输入
  u = -satₖ[cos³(ψ̂ - ψᵈ)/γ · (k₁e⊥/√(e⊥² + v̂²) + k₂sin(ψ̂ - ψᵈ))]
  
  返回 u</code></pre></div><p>这个伪代码表示了论文中基本的动态轨迹平滑算法的核心逻辑。在实际实现中，还需要考虑以下几点：</p><ol><li>使用鲁棒的方法检测转弯点和转弯完成点（论文第V节详细讨论）</li><li>处理数值积分误差和离散时间步长引起的问题</li><li>针对最小时间转弯(κ=1)的特殊情况简化</li><li>为保持路径长度不变的情况计算适当的κ值（论文中使用二分法搜索）</li></ol><p>算法的主要优点是计算复杂度低，适合实时实现，且可以灵活配置以满足不同的任务需求。</p><h2 id=附录5-的轨迹平滑简化模型>附录5 $k=1$的轨迹平滑简化模型</h2><h3 id=基本定义与参数>基本定义与参数</h3><p>在κ=1的情况下，动态轨迹平滑模型是为了实现两个直线航点段之间的最小时间转弯。以下是形式化的说明：</p><h4 id=核心参数>核心参数</h4><ul><li><strong>航点序列</strong>：$W = \{w_1, w_2, ..., w_n\}$，其中每个$w_i \in \mathbb{R}^2$表示二维平面上的位置点</li><li><strong>期望速度</strong>：$\hat{v} \in [v_{min}, v_{max}]$，表示无人机沿轨迹的恒定速度</li><li><strong>最大转向率</strong>：$c > 0$，受无人机动力学限制的最大转向率</li><li><strong>最小转弯半径</strong>：$R = \hat{v}/c$，由速度和最大转向率决定</li></ul><h4 id=航点段方向向量>航点段方向向量</h4><ul><li>第$i$段航点路径的单位方向向量：$q_i = \frac{w_i - w_{i-1}}{\|w_i - w_{i-1}\|}$</li><li>第$i+1$段航点路径的单位方向向量：$q_{i+1} = \frac{w_{i+1} - w_i}{\|w_{i+1} - w_i\|}$</li></ul><h4 id=角度定义>角度定义</h4><ul><li>相邻航点段之间的夹角：$\beta = \cos^{-1}(q_i^T q_{i+1})$，其中$\beta \in [0, \pi)$</li><li>角度平分线的单位向量：$\bar{q} = \frac{q_{i+1} - q_i}{\|q_{i+1} - q_i\|}$</li></ul><h3 id=κ1的几何构造>κ=1的几何构造</h3><p>对于κ=1的情况，我们构造一个具有特定几何特性的轨迹：</p><h4 id=特殊点p1>特殊点p(1)</h4><p>当κ=1时，特殊点p(1)定义为：</p>$$p(1) = w_i + R\left(\frac{1}{\sin(\beta/2)} - 1\right)\bar{q}$$<p>几何意义：p(1)是角度平分线上的一点，距离航点$w_i$足够远，使得以p(1)为圆心、半径为R的圆$C_{p(1)}$与两个航点段相切。</p><h4 id=转弯圆确定>转弯圆确定</h4><p>转弯方向由$\Psi(q_i, q_{i+1})$确定，其中函数$\Psi$定义为：</p>$$\Psi(a, b) = \text{sign}((a \times b) \cdot \hat{k})$$<p>其中$\hat{k}$是指向平面外的单位向量。</p><ul><li>如果$\Psi(q_i, q_{i+1}) > 0$（顺时针转弯），转弯圆是右转圆$C_R$</li><li>如果$\Psi(q_i, q_{i+1}) < 0$（逆时针转弯），转弯圆是左转圆$C_L$</li></ul><h3 id=动力学系统>动力学系统</h3><p>无人机的运动由以下动力学系统描述：</p>$$\dot{\hat{z}}_x = \hat{v}\cos\hat{\psi}$$<p></p>$$\dot{\hat{z}}_y = \hat{v}\sin\hat{\psi}$$<p></p>$$\dot{\hat{\psi}} = u$$<p>其中控制输入$u \in [-c, c]$受限于最大转向率。</p><h3 id=κ1的转弯控制策略>κ=1的转弯控制策略</h3><p>对于κ=1的情况，控制策略分为三个阶段：</p><h4 id=1-直线段跟踪阶段>1. 直线段跟踪阶段</h4><p>无人机沿航点段$w_{i-1}w_i$直线飞行，直到达到转弯点。这个阶段的控制为：</p>$$u = -\text{sat}_c\left[\frac{\cos^3(\hat{\psi} - \psi^d)}{\gamma}\left(\frac{k_1 e_\perp}{\sqrt{e_\perp^2 + \hat{v}^2}} + k_2\sin(\hat{\psi} - \psi^d)\right)\right]$$<p>其中：</p><ul><li>$\psi^d = \text{atan2}(q_{i,y}, q_{i,x})$是期望航向</li><li>$e_\perp$是横向偏差</li><li>$k_1, k_2, \gamma$是控制参数</li></ul><h4 id=2-转弯执行阶段>2. 转弯执行阶段</h4><p>当无人机达到转弯点时，根据转弯方向执行一次恒定率转弯：</p><p>对于顺时针转弯：</p><ul><li>当右转圆心$c_R$与$C_{p(1)}$圆心重合时，设定$u = +c$</li><li>保持$u = +c$直到航向与下一航点段对齐</li></ul><p>对于逆时针转弯：</p><ul><li>当左转圆心$c_L$与$C_{p(1)}$圆心重合时，设定$u = -c$</li><li>保持$u = -c$直到航向与下一航点段对齐</li></ul><h4 id=3-下一直线段跟踪阶段>3. 下一直线段跟踪阶段</h4><p>当转弯完成后，无人机开始跟踪下一个航点段$w_i w_{i+1}$，控制策略回到第1阶段。</p><h3 id=转弯点检测条件>转弯点检测条件</h3><p>转弯点的检测是基于当前位置的转弯圆心与$C_{p(1)}$的位置关系：</p><ul><li>对于顺时针转弯，当$\|c_R - p(1)\| = 0$时开始转弯</li><li>对于逆时针转弯，当$\|c_L - p(1)\| = 0$时开始转弯</li></ul><p>其中$c_R$和$c_L$分别是：</p>$$c_R(t) = \hat{z}(t) + R\begin{pmatrix} -\sin(\hat{\psi}(t)) \\ \cos(\hat{\psi}(t)) \end{pmatrix}$$<p></p>$$c_L(t) = \hat{z}(t) + R\begin{pmatrix} \sin(\hat{\psi}(t)) \\ -\cos(\hat{\psi}(t)) \end{pmatrix}$$<h3 id=转弯完成检测条件>转弯完成检测条件</h3><p>转弯完成的检测基于航向与目标航点段的对齐：</p><ul><li>转弯完成条件：$|\hat{\psi} - \psi_{i+1}^d| < \epsilon$</li><li>其中$\psi_{i+1}^d = \text{atan2}(q_{i+1,y}, q_{i+1,x})$是下一航点段的期望航向</li><li>$\epsilon$是一个小的容许误差</li></ul><h3 id=最小时间特性>最小时间特性</h3><p>κ=1时的轨迹具有时间最优性，这可以通过庞特里亚金最小原理证明。对于给定的最大转向率约束，这种单次转弯的轨迹能以最短的时间从一个航点段过渡到下一个航点段。</p><p>这种轨迹的最优性表现为：控制输入$u$在整个转弯过程中总是取极值（$+c$或$-c$），形成所谓的"bang-bang"控制策略，这正是时间最优控制的特点。</p><h3 id=acknowledgments>ACKNOWLEDGMENTS</h3><p>This work was partially funded by AFOSR grants F49620-01-1-0091 and F49620-02-C-0094, and by DARPA grant NBCH1020013.</p><h3 id=references>REFERENCES</h3><p>[1] M. Pachter and P. R. Chandler, &ldquo;Challenges of autonomous control,&rdquo; IEEE Control Systems Magazine, vol. 18, no. 4, pp. 92-97, August $1998 .$</p><p>[2] &ldquo;<a href=http://www.fas.org/irp/program/collect/uav.htm,%22 rel=external target=_blank>http://www.fas.org/irp/program/collect/uav.htm,"</a></p><p>[3] &ldquo;<a href=http://www.dtic.mil/jv2020/,%22 rel=external target=_blank>http://www.dtic.mil/jv2020/,"</a> .</p><p>[4] P.R. Chandler, S. Rasumussen, and M. Pachter, &ldquo;UAV cooperative path planning,&rdquo; in Proceedings of the AIAA Guidance, Navigation, and Control Conference, Denver, CO, August 2000, AIAA Paper No. AIAA-2000-4370.</p><p>[5] Timothy McLain and Randal Beard, &ldquo;Cooperative rendezvous of multiple unmanned air vehicles,&rdquo; in Proceedings of the AIAA Guidance, Navigation and Control Conference, Denver, CO, August 2000, Paper no. AIAA-2000-4369.</p><p>[6] Timothy W. McLain, Phillip R. Chandler, Steven Rasmussen, and Meir Pachter, &ldquo;Cooperative control of UAV rendezvous,&rdquo; in Proceedings of the American Control Conference, Arlington, VA, June 2001, pp. 2309-2314.</p><p>[7] Timothy W. McLain and Randal W. Beard, &ldquo;Coordination variables, coordination functions, and cooperative timing missions,&rdquo; AIAA Journal of Guidance, Control and Dynamics, (in review).</p><p>[8] Randal W. Beard, Timothy W. McLain, and Michael Goodrich, &ldquo;Coordinated target assignment and intercept for unmanned air vehicles,&rdquo; in Proceedings of the IEEE International Conference on Robotics and Automation, Washington DC, May 2002, pp. 2581-2586.</p><p>[9] Phillip R. Chandler, Meir Pachter, Dharba Swaroop, Jeffrey M. Fowler, Jason K. Howlett, Steven Rasmussen, Corey Schumacher, and Kendall Nygard, &ldquo;Complexity in UAV cooperative control,&rdquo; in Proceedings of the American Control Conference, Anchorage, AK, May $2002 .$</p><p>[10] L. E. Dubins, &ldquo;On curves of minimal length with a constraint on average curvature, and with prescribed initial and terminal positions and tangents,&rdquo; American Journal of Mathematics, vol. 79, pp. 497-516, $1957 .$</p><p>[11] Guang Yang and Vikram Kapila, &ldquo;Optimal path planning for unmanned air vehicles with kinematic and tactical constraints,&rdquo; in Proceedings of the IEEE Conference on Decision and Control, Las Vegas, NV, 2002, pp. 1301-1306.</p><p>[12] David Hsu, Robert Kindel, Jean-Claude Latombe, and Stephen Rock, &ldquo;Randomized kinodynamic motion planning with moving obstacles,&rdquo; in Algorithmic and Computational Robotics: New Directions, pp. 247-264f. A. K. Peters, $2001 .$</p><p>[13] Emilio Frazzoli, Munther A. Dahleh, and Eric Feron, &ldquo;Real-time motion planning for agile autonomous vehicles,&rdquo; in Proceedings of the American Control Conference, Arlington VA, June 2001, pp. 43-49. [14] Emilio Frazzoli, Muther A. Dahleh, and Eric Feron, &ldquo;Real-time motion planning for agile autonomous vehicles,&rdquo; Journal of Guidance, Control, and Dynamics, vol. 25, no. 1, pp. 116-129, January-February $2002 .$</p><p>[15] Andrew Ladd and Lydia E. Kavraki, &ldquo;Generalizing the analysis of PRM,&rdquo; in Proceedings of the IEEE International Conference on Robotics and Automation, Washington DC, May 2002, pp. 2120-2125.</p><p>[16] Michiel J. Van Nieuwstadt and Richard M. Murray, &ldquo;Real time trajectory generation for differentially flat systems,&rdquo; International Journal of Robust and Nonlinear Control, vol. 8, no. 11, pp. 995-1020, $1998 .$</p><p>[17] Florent Lamiraux, Sepanta Sekhavat, and Jean-Paul Laumond, &ldquo;Motion planning and control for Hilare pulling a trailer,&rdquo; IEEE Transactions on Robotics and Automation, vol. 15, no. 4, pp. 640-652, August 1999 .</p><p>[18] Nadeem Faiz, Sunil K. Agrawal, and Richard M. Murray, &ldquo;Trajectory planning of differentially flat systems with dynamics and inequalities,&rdquo; AIAA Journal of Guidance, Control and Dynamics, vol. 24, no. 2, pp. 219-227, MarchApril $2001 .$</p><p>[19] Ravi K. Prasanth, Jovan D. Boskovic, Sai-Ming Li, and Raman K. Mehra, &ldquo;Initial study of autonomous trajectory generation for unmanned aerial vehicles,&rdquo; in Proceedings of the IEEE Conference on Decision and Control, Orlando, FL, December 2001, pp. 640-645.</p><p>[20] Stephen T. Pledgie, Yongxing Hao, Armando M. Ferreira, Sunil K. Agrawal, and Robert Murphey, &ldquo;Groups of unmanned vehicles: Differential flatness, trajectory planning, and control,&rdquo; in Proceedings of the IEEE International Conference on Robotics and Automation, Washington DC, May 2002, pp. 3461-3466.</p><p>[21] Oleg A. Yakimenko, &ldquo;Direct method for rapid prototyping of near-optimal aircraft trajectories,&rdquo; AIAA Journal of Guidance, Control and Dynamics, vol. 23, no. 5, pp. 865-875, September-October $2000 .$</p><p>[22] Kevin B. Judd and Timothy W. McLain, &ldquo;Spline based path planning for unmanned air vehicles,&rdquo; in Proceedings of the AIAA Guidance, Navigation and Control Conference, Montreal, CA, August 2001, AIAA, pp. Paper no. AIAA2001-4238.</p><p>[23] Shan Sun, Magnus B. Egerstedt, and Clyde F. Martin, &ldquo;Control theoretic smoothing splines,&rdquo; IEEE Transactions on Automatic Control, vol. 45, no. 12, pp. 2271-2279, December 2000 .</p><p>[24] Devin J. Balkcom and Matthew T. Mason, &ldquo;Extremal trajectories for bounded velocity differential drive robots,&rdquo; in Proceedings of the IEEE International Conference on Robotics and Automation, San Francisco, April 2000, pp. 2479-2484</p><p>[25] Jong-Suk Choi and Byung Kook Kim, &ldquo;Near-time-optimal trajectory planning for wheeled mobile robots with translational and rotational sections,&rdquo; IEEE Transactions on Robotics and Automation, vol. 17, no. 1, pp. 85-90, February $2001 .$</p><p>[26] Thomas L. Vincent and Walter J. Grantham, Nonlinear and Optimal Control Systems, John Wiley & Sons, Inc., 1997.</p><p>[27] Andrew W. Proud, Meir Pachter, and John J. D&rsquo;Azzo, &ldquo;Close formation flight control,&rdquo; in Proceedings of the AIAA Guidance, Navigation, and Control Conference and Exhibit, Portland, OR, August 1999, American Institute of Aeronautics and Astronautics, pp. 1231-1246, Paper no. AIAA-99-4207.</p><p>[28] Richard L. Burden and J. Douglas Faires, Numerical Analysis, PWS-KENT Publishing Company, Boston, fourth edition edition, 1988 .</p><p>[29] Patrick M. Fitzpatrick, Advanced Calculus: A Course in Mathematical Analysis, PWS Publishing Company, 20 Park Plaza, Boston, MA, 02116-4324, $1996 .$</p><p>[30] Todd K. Moon and Wynn C. Stirling, Mathematical Methods and Algorithms, Prentice Hall, Englewood Cliffs, New Jersey, $2000 .$</p><p><a href=#R-image-5fc7c33ac05015555e58bbd23a513a7c class=lightbox-link><img class="lazy lightbox figure-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-29.jpg?height=28&width=958&top_left_y=1275&top_left_x=143" style=height:28;width:958></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5fc7c33ac05015555e58bbd23a513a7c><img class="lazy lightbox lightbox-image" loading=lazy src="https://cdn.mathpix.com/cropped/2022_07_18_9ff4460d05508d94c751g-29.jpg?height=28&width=958&top_left_y=1275&top_left_x=143"></a>
4, $\mathrm{PP} .520-527,1960$.</p><p>[32] Hassan K. Khalil, Nonlinear Systems, Prentice Hall, Upper Saddle River, NJ, 2nd edition, 1996.</p><footer class=footline><i class='fa-fw fas fa-calendar'></i> 2025-05-21</footer></article></div></main></div><aside id=R-sidebar class=default-animation><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><a id=R-logo href=/index.html><img src=/images/logo.png alt="FlitSoft Docs" style=width:80px;height:auto></a></div><search><form action=/search/index.html method=get><div class="searchbox default-animation"><button class=search-detail type=submit title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
<label class=a11y-only for=R-search-by>Search</label>
<input data-search-input id=R-search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div></form></search></div><div id=R-homelinks class=default-animation><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-homelinks"><ul class="space collapsible-menu"></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-headercontrols"><ul></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div></div><div id=R-content-wrapper class=highlightable><div class="R-sidebarmenu R-shortcutmenu-main"><ul class="enlarge morespace collapsible-menu"><li class=parent data-nav-id=/uas/index.html><a class=padding href=/uas/index.html>UAS</a><ul id=R-subsections-50d6e18f3c774adcdf96c62beb3fb9ae class=collapsible-menu><li class=alwaysopen data-nav-id=/uas/fix_wing_uav_flight_sim/index.html><a class=padding href=/uas/fix_wing_uav_flight_sim/index.html>Aerodynamics</a><ul id=R-subsections-7b1f39252932eb84ff7bebd53dbcc7d4 class=collapsible-menu></ul></li><li class=alwaysopen data-nav-id=/uas/path-searching/index.html><a class=padding href=/uas/path-searching/index.html>Path Searching</a><ul id=R-subsections-a2b409e9d066676ed37742c4805a3eb9 class=collapsible-menu></ul></li><li class=alwaysopen data-nav-id=/uas/formation-control/index.html><a class=padding href=/uas/formation-control/index.html>Formation Control</a><ul id=R-subsections-e4f6444dc383e8d177ba6adc0bda1264 class=collapsible-menu></ul></li><li class=alwaysopen data-nav-id=/uas/velocity_plan/index.html><a class=padding href=/uas/velocity_plan/index.html>Velocity Planning</a><ul id=R-subsections-60d9350f137676e977a8a40fa195d7e5 class=collapsible-menu></ul></li><li class="parent alwaysopen" data-nav-id=/uas/trajectory_planning/index.html><a class=padding href=/uas/trajectory_planning/index.html>Trajectory Planning</a><ul id=R-subsections-abf2bea1fe96559e28880644014fc77f class=collapsible-menu><li class="parent alwaysopen" data-nav-id=/uas/trajectory_planning/kappa-trajectories/index.html><a class=padding href=/uas/trajectory_planning/kappa-trajectories/index.html>kappa-trajectories</a><ul id=R-subsections-c34eb329cf91796dd769d884d1459d57 class=collapsible-menu><li class=active data-nav-id=/uas/trajectory_planning/kappa-trajectories/real-time_dynamic_trajectory_smoothing_for_unmanne-ch/index.html><a class=padding href=/uas/trajectory_planning/kappa-trajectories/real-time_dynamic_trajectory_smoothing_for_unmanne-ch/index.html>无人机实时动态轨迹平滑</a></li><li data-nav-id=/uas/trajectory_planning/kappa-trajectories/kappa-%E8%BD%A8%E8%BF%B9/index.html><a class=padding href=/uas/trajectory_planning/kappa-trajectories/kappa-%E8%BD%A8%E8%BF%B9/index.html>κ轨迹平滑</a></li><li data-nav-id=/uas/trajectory_planning/kappa-trajectories/%E7%AD%89%E9%95%BF%E8%BD%A8%E8%BF%B9kappa%E6%B1%82%E8%A7%A3%E7%AE%97%E6%B3%95/index.html><a class=padding href=/uas/trajectory_planning/kappa-trajectories/%E7%AD%89%E9%95%BF%E8%BD%A8%E8%BF%B9kappa%E6%B1%82%E8%A7%A3%E7%AE%97%E6%B3%95/index.html>等长轨迹κ求解算法设计</a></li><li data-nav-id=/uas/trajectory_planning/kappa-trajectories/kappa%E8%BD%A8%E8%BF%B9%E7%82%B9%E7%94%9F%E6%88%90c++%E4%BB%A3%E7%A0%81%E8%AF%B4%E6%98%8E/index.html><a class=padding href=/uas/trajectory_planning/kappa-trajectories/kappa%E8%BD%A8%E8%BF%B9%E7%82%B9%E7%94%9F%E6%88%90c++%E4%BB%A3%E7%A0%81%E8%AF%B4%E6%98%8E/index.html>κ轨迹点生成代码说明</a></li></ul></li><li class=alwaysopen data-nav-id=/uas/trajectory_planning/cubic-polynomial-curve/index.html><a class=padding href=/uas/trajectory_planning/cubic-polynomial-curve/index.html>Cubic Polynomial Spline</a><ul id=R-subsections-95972cb64a08a1e88f5026ae53f843fa class=collapsible-menu></ul></li><li class=alwaysopen data-nav-id=/uas/trajectory_planning/-b-spline/index.html><a class=padding href=/uas/trajectory_planning/-b-spline/index.html>B-Spline</a><ul id=R-subsections-80147b129cdcaa696867429ae0fd4a12 class=collapsible-menu></ul></li><li data-nav-id=/uas/trajectory_planning/key-of-trajectory-manage/index.html><a class=padding href=/uas/trajectory_planning/key-of-trajectory-manage/index.html>轨迹管理的几个关键问题</a></li></ul></li></ul></li><li data-nav-id=/em/index.html><a class=padding href=/em/index.html>EM</a><ul id=R-subsections-5221d921411ef33ede36c0310590339e class=collapsible-menu></ul></li><li data-nav-id=/agi/index.html><a class=padding href=/agi/index.html>AI</a><ul id=R-subsections-b697951847df19851ae8635cac95c15a class=collapsible-menu></ul></li><li data-nav-id=/gaming/index.html><a class=padding href=/gaming/index.html>Gaming</a></li><li data-nav-id=/c2/index.html><a class=padding href=/c2/index.html>C2</a><ul id=R-subsections-e0126222f5f1b52fd67c95ccf5ad1c18 class=collapsible-menu></ul></li><li data-nav-id=/simu/index.html><a class=padding href=/simu/index.html>Simulation</a><ul id=R-subsections-80cfed847676c641fa01f11f3f2904bf class=collapsible-menu></ul></li><li data-nav-id=/visual/index.html><a class=padding href=/visual/index.html>Visualization</a><ul id=R-subsections-080a96fba97ea97926a463e36c9cb108 class=collapsible-menu></ul></li><li data-nav-id=/log/index.html><a class=padding href=/log/index.html>Log</a></li></ul></div><div class="R-sidebarmenu R-shortcutmenu-shortcuts"><ul class="space collapsible-menu"></ul></div><div id=R-footer-margin></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-footercontrols"><ul><li class=R-variantswitcher><div class="padding menu-control"><i class="fa-fw fas fa-paint-brush"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-variant>Theme</label>
<select id=R-select-variant><option id=R-select-variant-zen-light value=zen-light selected>Zen Light</option><option id=R-select-variant-zen-dark value=zen-dark>Zen Dark</option></select></div><div class=clear></div></div><script>window.relearn.markVariant()</script></li></ul></div><div id=R-footer><p>Built By FlitSoft</p></div></div></aside><script src=/js/clipboard/clipboard.min.js?1750840851 defer></script><script src=/js/perfect-scrollbar/perfect-scrollbar.min.js?1750840851 defer></script><script>window.MathJax=Object.assign(window.MathJax||{},{tex:{inlineMath:[["\\(","\\)"],["$","$"]],displayMath:[["\\[","\\]"],["$$","$$"]]},options:{enableMenu:!1}},JSON.parse("{}"))</script><script id=MathJax-script async src=/js/mathjax/tex-mml-chtml.js?1750840851></script><script src=/js/theme.min.js?1750840851 defer></script></body></html>